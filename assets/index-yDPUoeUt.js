(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function FT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Pd={exports:{}},Ba={},kd={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function UT(){if(dy)return Re;dy=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function T(M){return M===null||typeof M!="object"?null:(M=w&&M[w]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,N={};function L(M,Y,ye){this.props=M,this.context=Y,this.refs=N,this.updater=ye||S}L.prototype.isReactComponent={},L.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},L.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function K(){}K.prototype=L.prototype;function G(M,Y,ye){this.props=M,this.context=Y,this.refs=N,this.updater=ye||S}var $=G.prototype=new K;$.constructor=G,V($,L.prototype),$.isPureReactComponent=!0;var Q=Array.isArray,ue=Object.prototype.hasOwnProperty,oe={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function I(M,Y,ye){var Ie,Ce={},Pe=null,Me=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(Me=Y.ref),Y.key!==void 0&&(Pe=""+Y.key),Y)ue.call(Y,Ie)&&!P.hasOwnProperty(Ie)&&(Ce[Ie]=Y[Ie]);var Ue=arguments.length-2;if(Ue===1)Ce.children=ye;else if(1<Ue){for(var He=Array(Ue),rt=0;rt<Ue;rt++)He[rt]=arguments[rt+2];Ce.children=He}if(M&&M.defaultProps)for(Ie in Ue=M.defaultProps,Ue)Ce[Ie]===void 0&&(Ce[Ie]=Ue[Ie]);return{$$typeof:n,type:M,key:Pe,ref:Me,props:Ce,_owner:oe.current}}function C(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function j(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ye){return Y[ye]})}var F=/\/+/g;function R(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):Y.toString(36)}function Ne(M,Y,ye,Ie,Ce){var Pe=typeof M;(Pe==="undefined"||Pe==="boolean")&&(M=null);var Me=!1;if(M===null)Me=!0;else switch(Pe){case"string":case"number":Me=!0;break;case"object":switch(M.$$typeof){case n:case e:Me=!0}}if(Me)return Me=M,Ce=Ce(Me),M=Ie===""?"."+R(Me,0):Ie,Q(Ce)?(ye="",M!=null&&(ye=M.replace(F,"$&/")+"/"),Ne(Ce,Y,ye,"",function(rt){return rt})):Ce!=null&&(b(Ce)&&(Ce=C(Ce,ye+(!Ce.key||Me&&Me.key===Ce.key?"":(""+Ce.key).replace(F,"$&/")+"/")+M)),Y.push(Ce)),1;if(Me=0,Ie=Ie===""?".":Ie+":",Q(M))for(var Ue=0;Ue<M.length;Ue++){Pe=M[Ue];var He=Ie+R(Pe,Ue);Me+=Ne(Pe,Y,ye,He,Ce)}else if(He=T(M),typeof He=="function")for(M=He.call(M),Ue=0;!(Pe=M.next()).done;)Pe=Pe.value,He=Ie+R(Pe,Ue++),Me+=Ne(Pe,Y,ye,He,Ce);else if(Pe==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Me}function nt(M,Y,ye){if(M==null)return M;var Ie=[],Ce=0;return Ne(M,Ie,"","",function(Pe){return Y.call(ye,Pe,Ce++)}),Ie}function je(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(ye){(M._status===0||M._status===-1)&&(M._status=1,M._result=ye)},function(ye){(M._status===0||M._status===-1)&&(M._status=2,M._result=ye)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var be={current:null},se={transition:null},me={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:se,ReactCurrentOwner:oe};function ae(){throw Error("act(...) is not supported in production builds of React.")}return Re.Children={map:nt,forEach:function(M,Y,ye){nt(M,function(){Y.apply(this,arguments)},ye)},count:function(M){var Y=0;return nt(M,function(){Y++}),Y},toArray:function(M){return nt(M,function(Y){return Y})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Re.Component=L,Re.Fragment=t,Re.Profiler=o,Re.PureComponent=G,Re.StrictMode=s,Re.Suspense=f,Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,Re.act=ae,Re.cloneElement=function(M,Y,ye){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Ie=V({},M.props),Ce=M.key,Pe=M.ref,Me=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Pe=Y.ref,Me=oe.current),Y.key!==void 0&&(Ce=""+Y.key),M.type&&M.type.defaultProps)var Ue=M.type.defaultProps;for(He in Y)ue.call(Y,He)&&!P.hasOwnProperty(He)&&(Ie[He]=Y[He]===void 0&&Ue!==void 0?Ue[He]:Y[He])}var He=arguments.length-2;if(He===1)Ie.children=ye;else if(1<He){Ue=Array(He);for(var rt=0;rt<He;rt++)Ue[rt]=arguments[rt+2];Ie.children=Ue}return{$$typeof:n,type:M.type,key:Ce,ref:Pe,props:Ie,_owner:Me}},Re.createContext=function(M){return M={$$typeof:u,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Re.createElement=I,Re.createFactory=function(M){var Y=I.bind(null,M);return Y.type=M,Y},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:d,render:M}},Re.isValidElement=b,Re.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:je}},Re.memo=function(M,Y){return{$$typeof:m,type:M,compare:Y===void 0?null:Y}},Re.startTransition=function(M){var Y=se.transition;se.transition={};try{M()}finally{se.transition=Y}},Re.unstable_act=ae,Re.useCallback=function(M,Y){return be.current.useCallback(M,Y)},Re.useContext=function(M){return be.current.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M){return be.current.useDeferredValue(M)},Re.useEffect=function(M,Y){return be.current.useEffect(M,Y)},Re.useId=function(){return be.current.useId()},Re.useImperativeHandle=function(M,Y,ye){return be.current.useImperativeHandle(M,Y,ye)},Re.useInsertionEffect=function(M,Y){return be.current.useInsertionEffect(M,Y)},Re.useLayoutEffect=function(M,Y){return be.current.useLayoutEffect(M,Y)},Re.useMemo=function(M,Y){return be.current.useMemo(M,Y)},Re.useReducer=function(M,Y,ye){return be.current.useReducer(M,Y,ye)},Re.useRef=function(M){return be.current.useRef(M)},Re.useState=function(M){return be.current.useState(M)},Re.useSyncExternalStore=function(M,Y,ye){return be.current.useSyncExternalStore(M,Y,ye)},Re.useTransition=function(){return be.current.useTransition()},Re.version="18.3.1",Re}var fy;function Uf(){return fy||(fy=1,kd.exports=UT()),kd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function BT(){if(py)return Ba;py=1;var n=Uf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,m){var _,w={},T=null,S=null;m!==void 0&&(T=""+m),f.key!==void 0&&(T=""+f.key),f.ref!==void 0&&(S=f.ref);for(_ in f)s.call(f,_)&&!l.hasOwnProperty(_)&&(w[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)w[_]===void 0&&(w[_]=f[_]);return{$$typeof:e,type:d,key:T,ref:S,props:w,_owner:o.current}}return Ba.Fragment=t,Ba.jsx=u,Ba.jsxs=u,Ba}var my;function zT(){return my||(my=1,Pd.exports=BT()),Pd.exports}var v=zT(),q=Uf();const Dc=FT(q);var qu={},Rd={exports:{}},cn={},Nd={exports:{}},bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function $T(){return gy||(gy=1,function(n){function e(se,me){var ae=se.length;se.push(me);e:for(;0<ae;){var M=ae-1>>>1,Y=se[M];if(0<o(Y,me))se[M]=me,se[ae]=Y,ae=M;else break e}}function t(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var me=se[0],ae=se.pop();if(ae!==me){se[0]=ae;e:for(var M=0,Y=se.length,ye=Y>>>1;M<ye;){var Ie=2*(M+1)-1,Ce=se[Ie],Pe=Ie+1,Me=se[Pe];if(0>o(Ce,ae))Pe<Y&&0>o(Me,Ce)?(se[M]=Me,se[Pe]=ae,M=Pe):(se[M]=Ce,se[Ie]=ae,M=Ie);else if(Pe<Y&&0>o(Me,ae))se[M]=Me,se[Pe]=ae,M=Pe;else break e}}return me}function o(se,me){var ae=se.sortIndex-me.sortIndex;return ae!==0?ae:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],m=[],_=1,w=null,T=3,S=!1,V=!1,N=!1,L=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(se){for(var me=t(m);me!==null;){if(me.callback===null)s(m);else if(me.startTime<=se)s(m),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(m)}}function Q(se){if(N=!1,$(se),!V)if(t(f)!==null)V=!0,je(ue);else{var me=t(m);me!==null&&be(Q,me.startTime-se)}}function ue(se,me){V=!1,N&&(N=!1,K(I),I=-1),S=!0;var ae=T;try{for($(me),w=t(f);w!==null&&(!(w.expirationTime>me)||se&&!j());){var M=w.callback;if(typeof M=="function"){w.callback=null,T=w.priorityLevel;var Y=M(w.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?w.callback=Y:w===t(f)&&s(f),$(me)}else s(f);w=t(f)}if(w!==null)var ye=!0;else{var Ie=t(m);Ie!==null&&be(Q,Ie.startTime-me),ye=!1}return ye}finally{w=null,T=ae,S=!1}}var oe=!1,P=null,I=-1,C=5,b=-1;function j(){return!(n.unstable_now()-b<C)}function F(){if(P!==null){var se=n.unstable_now();b=se;var me=!0;try{me=P(!0,se)}finally{me?R():(oe=!1,P=null)}}else oe=!1}var R;if(typeof G=="function")R=function(){G(F)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,nt=Ne.port2;Ne.port1.onmessage=F,R=function(){nt.postMessage(null)}}else R=function(){L(F,0)};function je(se){P=se,oe||(oe=!0,R())}function be(se,me){I=L(function(){se(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){V||S||(V=!0,je(ue))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var ae=T;T=me;try{return se()}finally{T=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=T;T=se;try{return me()}finally{T=ae}},n.unstable_scheduleCallback=function(se,me,ae){var M=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?M+ae:M):ae=M,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,se={id:_++,callback:me,priorityLevel:se,startTime:ae,expirationTime:Y,sortIndex:-1},ae>M?(se.sortIndex=ae,e(m,se),t(f)===null&&se===t(m)&&(N?(K(I),I=-1):N=!0,be(Q,ae-M))):(se.sortIndex=Y,e(f,se),V||S||(V=!0,je(ue))),se},n.unstable_shouldYield=j,n.unstable_wrapCallback=function(se){var me=T;return function(){var ae=T;T=me;try{return se.apply(this,arguments)}finally{T=ae}}}}(bd)),bd}var yy;function HT(){return yy||(yy=1,Nd.exports=$T()),Nd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function qT(){if(vy)return cn;vy=1;var n=Uf(),e=HT();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){u(r,i),u(r+"Capture",i)}function u(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function T(r){return f.call(w,r)?!0:f.call(_,r)?!1:m.test(r)?w[r]=!0:(_[r]=!0,!1)}function S(r,i,a,h){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function V(r,i,a,h){if(i===null||typeof i>"u"||S(r,i,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function N(r,i,a,h,p,y,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=y,this.removeEmptyString=E}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){L[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];L[i]=new N(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){L[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){L[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){L[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){L[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){L[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){L[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){L[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(K,G);L[i]=new N(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(K,G);L[i]=new N(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(K,G);L[i]=new N(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){L[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),L.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){L[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function $(r,i,a,h){var p=L.hasOwnProperty(i)?L[i]:null;(p!==null?p.type!==0:h||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(V(i,a,p,h)&&(a=null),h||p===null?T(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):p.mustUseProperty?r[p.propertyName]=a===null?p.type===3?!1:"":a:(i=p.attributeName,h=p.attributeNamespace,a===null?r.removeAttribute(i):(p=p.type,a=p===3||p===4&&a===!0?"":""+a,h?r.setAttributeNS(h,i,a):r.setAttribute(i,a))))}var Q=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ue=Symbol.for("react.element"),oe=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),j=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),Ne=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),je=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),se=Symbol.iterator;function me(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||""}return`
`+M+r}var ye=!1;function Ie(r,i){if(!r||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var h=H}Reflect.construct(r,[],i)}else{try{i.call()}catch(H){h=H}r.call(i.prototype)}else{try{throw Error()}catch(H){h=H}r()}}catch(H){if(H&&h&&typeof H.stack=="string"){for(var p=H.stack.split(`
`),y=h.stack.split(`
`),E=p.length-1,k=y.length-1;1<=E&&0<=k&&p[E]!==y[k];)k--;for(;1<=E&&0<=k;E--,k--)if(p[E]!==y[k]){if(E!==1||k!==1)do if(E--,k--,0>k||p[E]!==y[k]){var D=`
`+p[E].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=E&&0<=k);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ce(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function Pe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case oe:return"Portal";case C:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case Ne:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case j:return(r.displayName||"Context")+".Consumer";case b:return(r._context.displayName||"Context")+".Provider";case F:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case nt:return i=r.displayName||null,i!==null?i:Pe(r.type)||"Memo";case je:i=r._payload,r=r._init;try{return Pe(r(i))}catch{}}return null}function Me(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pe(i);case 8:return i===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ue(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function rt(r){var i=He(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),h=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var p=a.get,y=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,y.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Vt(r){r._valueTracker||(r._valueTracker=rt(r))}function Ds(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),h="";return r&&(h=He(r)?r.checked?"true":"false":r.value),r=h,r!==a?(i.setValue(r),!0):!1}function zr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function js(r,i){var a=i.checked;return ae({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function ki(r,i){var a=i.defaultValue==null?"":i.defaultValue,h=i.checked!=null?i.checked:i.defaultChecked;a=Ue(i.value!=null?i.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Go(r,i){i=i.checked,i!=null&&$(r,"checked",i,!1)}function Ko(r,i){Go(r,i);var a=Ue(i.value),h=i.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ri(r,i.type,a):i.hasOwnProperty("defaultValue")&&Ri(r,i.type,Ue(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Rl(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var h=i.type;if(!(h!=="submit"&&h!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ri(r,i,a){(i!=="number"||zr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var yr=Array.isArray;function vr(r,i,a,h){if(r=r.options,i){i={};for(var p=0;p<a.length;p++)i["$"+a[p]]=!0;for(a=0;a<r.length;a++)p=i.hasOwnProperty("$"+r[a].value),r[a].selected!==p&&(r[a].selected=p),p&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Ue(a),i=null,p=0;p<r.length;p++){if(r[p].value===a){r[p].selected=!0,h&&(r[p].defaultSelected=!0);return}i!==null||r[p].disabled||(i=r[p])}i!==null&&(i.selected=!0)}}function Qo(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ni(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(yr(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Ue(a)}}function bi(r,i){var a=Ue(i.value),h=Ue(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function Yo(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function xt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Tt(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?xt(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var _r,Xo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,h,p){MSApp.execUnsafeLocalFunction(function(){return r(i,a,h,p)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(_r=_r||document.createElement("div"),_r.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=_r.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function $r(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ms={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ls=["Webkit","ms","Moz","O"];Object.keys(Ms).forEach(function(r){Ls.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ms[i]=Ms[r]})});function Jo(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ms.hasOwnProperty(r)&&Ms[r]?(""+i).trim():i+"px"}function Zo(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var h=a.indexOf("--")===0,p=Jo(a,i[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,p):r[a]=p}}var ea=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ta(r,i){if(i){if(ea[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function na(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Os=null;function Vi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Di=null,En=null,er=null;function ji(r){if(r=Ia(r)){if(typeof Di!="function")throw Error(t(280));var i=r.stateNode;i&&(i=ou(i),Di(r.stateNode,r.type,i))}}function tr(r){En?er?er.push(r):er=[r]:En=r}function ra(){if(En){var r=En,i=er;if(er=En=null,ji(r),i)for(r=0;r<i.length;r++)ji(i[r])}}function Fs(r,i){return r(i)}function sa(){}var wr=!1;function ia(r,i,a){if(wr)return r(i,a);wr=!0;try{return Fs(r,i,a)}finally{wr=!1,(En!==null||er!==null)&&(sa(),ra())}}function dt(r,i){var a=r.stateNode;if(a===null)return null;var h=ou(a);if(h===null)return null;a=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var Mi=!1;if(d)try{var Mn={};Object.defineProperty(Mn,"passive",{get:function(){Mi=!0}}),window.addEventListener("test",Mn,Mn),window.removeEventListener("test",Mn,Mn)}catch{Mi=!1}function Us(r,i,a,h,p,y,E,k,D){var H=Array.prototype.slice.call(arguments,3);try{i.apply(a,H)}catch(ee){this.onError(ee)}}var Bs=!1,Li=null,Ln=!1,oa=null,nh={onError:function(r){Bs=!0,Li=r}};function Oi(r,i,a,h,p,y,E,k,D){Bs=!1,Li=null,Us.apply(nh,arguments)}function Nl(r,i,a,h,p,y,E,k,D){if(Oi.apply(this,arguments),Bs){if(Bs){var H=Li;Bs=!1,Li=null}else throw Error(t(198));Ln||(Ln=!0,oa=H)}}function On(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function zs(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Fn(r){if(On(r)!==r)throw Error(t(188))}function bl(r){var i=r.alternate;if(!i){if(i=On(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,h=i;;){var p=a.return;if(p===null)break;var y=p.alternate;if(y===null){if(h=p.return,h!==null){a=h;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===a)return Fn(p),r;if(y===h)return Fn(p),i;y=y.sibling}throw Error(t(188))}if(a.return!==h.return)a=p,h=y;else{for(var E=!1,k=p.child;k;){if(k===a){E=!0,a=p,h=y;break}if(k===h){E=!0,h=p,a=y;break}k=k.sibling}if(!E){for(k=y.child;k;){if(k===a){E=!0,a=y,h=p;break}if(k===h){E=!0,h=y,a=p;break}k=k.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function aa(r){return r=bl(r),r!==null?Fi(r):null}function Fi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=Fi(r);if(i!==null)return i;r=r.sibling}return null}var Ui=e.unstable_scheduleCallback,la=e.unstable_cancelCallback,Vl=e.unstable_shouldYield,rh=e.unstable_requestPaint,Ke=e.unstable_now,Dl=e.unstable_getCurrentPriorityLevel,$s=e.unstable_ImmediatePriority,Hr=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,ua=e.unstable_LowPriority,jl=e.unstable_IdlePriority,Hs=null,fn=null;function Ml(r){if(fn&&typeof fn.onCommitFiberRoot=="function")try{fn.onCommitFiberRoot(Hs,r,void 0,(r.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Ol,ca=Math.log,Ll=Math.LN2;function Ol(r){return r>>>=0,r===0?32:31-(ca(r)/Ll|0)|0}var Bi=64,zi=4194304;function qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function qs(r,i){var a=r.pendingLanes;if(a===0)return 0;var h=0,p=r.suspendedLanes,y=r.pingedLanes,E=a&268435455;if(E!==0){var k=E&~p;k!==0?h=qr(k):(y&=E,y!==0&&(h=qr(y)))}else E=a&~p,E!==0?h=qr(E):y!==0&&(h=qr(y));if(h===0)return 0;if(i!==0&&i!==h&&(i&p)===0&&(p=h&-h,y=i&-i,p>=y||p===16&&(y&4194240)!==0))return i;if((h&4)!==0&&(h|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=h;0<i;)a=31-Qt(i),p=1<<a,h|=r[a],i&=~p;return h}function sh(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xr(r,i){for(var a=r.suspendedLanes,h=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Qt(y),k=1<<E,D=p[E];D===-1?((k&a)===0||(k&h)!==0)&&(p[E]=sh(k,i)):D<=i&&(r.expiredLanes|=k),y&=~k}}function pn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ws(){var r=Bi;return Bi<<=1,(Bi&4194240)===0&&(Bi=64),r}function Wr(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Gr(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Qt(i),r[i]=a}function Ge(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var p=31-Qt(a),y=1<<p;i[p]=0,h[p]=-1,r[p]=-1,a&=~y}}function Kr(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var h=31-Qt(a),p=1<<h;p&i|r[h]&i&&(r[h]|=i),a&=~p}}var De=0;function Qr(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Fl,$i,Ul,Bl,zl,ha=!1,nr=[],Dt=null,Un=null,Bn=null,Yr=new Map,An=new Map,rr=[],ih="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(r,i){switch(r){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Un=null;break;case"mouseover":case"mouseout":Bn=null;break;case"pointerover":case"pointerout":Yr.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(i.pointerId)}}function nn(r,i,a,h,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:i,domEventName:a,eventSystemFlags:h,nativeEvent:y,targetContainers:[p]},i!==null&&(i=Ia(i),i!==null&&$i(i)),r):(r.eventSystemFlags|=h,i=r.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),r)}function oh(r,i,a,h,p){switch(i){case"focusin":return Dt=nn(Dt,r,i,a,h,p),!0;case"dragenter":return Un=nn(Un,r,i,a,h,p),!0;case"mouseover":return Bn=nn(Bn,r,i,a,h,p),!0;case"pointerover":var y=p.pointerId;return Yr.set(y,nn(Yr.get(y)||null,r,i,a,h,p)),!0;case"gotpointercapture":return y=p.pointerId,An.set(y,nn(An.get(y)||null,r,i,a,h,p)),!0}return!1}function Hl(r){var i=Xs(r.target);if(i!==null){var a=On(i);if(a!==null){if(i=a.tag,i===13){if(i=zs(a),i!==null){r.blockedOn=i,zl(r.priority,function(){Ul(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Tr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Hi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Os=h,a.target.dispatchEvent(h),Os=null}else return i=Ia(a),i!==null&&$i(i),r.blockedOn=a,!1;i.shift()}return!0}function Gs(r,i,a){Tr(r)&&a.delete(i)}function ql(){ha=!1,Dt!==null&&Tr(Dt)&&(Dt=null),Un!==null&&Tr(Un)&&(Un=null),Bn!==null&&Tr(Bn)&&(Bn=null),Yr.forEach(Gs),An.forEach(Gs)}function zn(r,i){r.blockedOn===i&&(r.blockedOn=null,ha||(ha=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function $n(r){function i(p){return zn(p,r)}if(0<nr.length){zn(nr[0],r);for(var a=1;a<nr.length;a++){var h=nr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Dt!==null&&zn(Dt,r),Un!==null&&zn(Un,r),Bn!==null&&zn(Bn,r),Yr.forEach(i),An.forEach(i),a=0;a<rr.length;a++)h=rr[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<rr.length&&(a=rr[0],a.blockedOn===null);)Hl(a),a.blockedOn===null&&rr.shift()}var Er=Q.ReactCurrentBatchConfig,Xr=!0;function et(r,i,a,h){var p=De,y=Er.transition;Er.transition=null;try{De=1,da(r,i,a,h)}finally{De=p,Er.transition=y}}function ah(r,i,a,h){var p=De,y=Er.transition;Er.transition=null;try{De=4,da(r,i,a,h)}finally{De=p,Er.transition=y}}function da(r,i,a,h){if(Xr){var p=Hi(r,i,a,h);if(p===null)vh(r,i,h,Ks,a),$l(r,h);else if(oh(p,r,i,a,h))h.stopPropagation();else if($l(r,h),i&4&&-1<ih.indexOf(r)){for(;p!==null;){var y=Ia(p);if(y!==null&&Fl(y),y=Hi(r,i,a,h),y===null&&vh(r,i,h,Ks,a),y===p)break;p=y}p!==null&&h.stopPropagation()}else vh(r,i,h,null,a)}}var Ks=null;function Hi(r,i,a,h){if(Ks=null,r=Vi(h),r=Xs(r),r!==null)if(i=On(r),i===null)r=null;else if(a=i.tag,a===13){if(r=zs(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return Ks=r,null}function fa(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dl()){case $s:return 1;case Hr:return 4;case Sn:case ua:return 16;case jl:return 536870912;default:return 16}default:return 16}}var mn=null,qi=null,rn=null;function pa(){if(rn)return rn;var r,i=qi,a=i.length,h,p="value"in mn?mn.value:mn.textContent,y=p.length;for(r=0;r<a&&i[r]===p[r];r++);var E=a-r;for(h=1;h<=E&&i[a-h]===p[y-h];h++);return rn=p.slice(r,1<h?1-h:void 0)}function Wi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function ma(){return!1}function jt(r){function i(a,h,p,y,E){this._reactName=a,this._targetInst=p,this.type=h,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(a=r[k],this[k]=a?a(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?sr:ma,this.isPropagationStopped=ma,this}return ae(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),i}var Hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gi=jt(Hn),ir=ae({},Hn,{view:0,detail:0}),lh=jt(ir),Ki,Sr,Jr,Qs=ae({},ir,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:or,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Jr&&(Jr&&r.type==="mousemove"?(Ki=r.screenX-Jr.screenX,Sr=r.screenY-Jr.screenY):Sr=Ki=0,Jr=r),Ki)},movementY:function(r){return"movementY"in r?r.movementY:Sr}}),Qi=jt(Qs),ga=ae({},Qs,{dataTransfer:0}),Wl=jt(ga),Yi=ae({},ir,{relatedTarget:0}),Xi=jt(Yi),Gl=ae({},Hn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=jt(Gl),Kl=ae({},Hn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ql=jt(Kl),Yl=ae({},Hn,{data:0}),ya=jt(Yl),Ji={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Xl[r])?!!i[r]:!1}function or(){return Jl}var c=ae({},ir,{key:function(r){if(r.key){var i=Ji[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Wi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Yt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:or,charCode:function(r){return r.type==="keypress"?Wi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Wi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=jt(c),x=ae({},Qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=jt(x),U=ae({},ir,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:or}),W=jt(U),ie=ae({},Hn,{propertyName:0,elapsedTime:0,pseudoElement:0}),We=jt(ie),Et=ae({},Qs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=jt(Et),Pt=[9,13,27,32],gt=d&&"CompositionEvent"in window,In=null;d&&"documentMode"in document&&(In=document.documentMode);var gn=d&&"TextEvent"in window&&!In,Ys=d&&(!gt||In&&8<In&&11>=In),Zi=" ",om=!1;function am(r,i){switch(r){case"keyup":return Pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var eo=!1;function Mx(r,i){switch(r){case"compositionend":return lm(i);case"keypress":return i.which!==32?null:(om=!0,Zi);case"textInput":return r=i.data,r===Zi&&om?null:r;default:return null}}function Lx(r,i){if(eo)return r==="compositionend"||!gt&&am(r,i)?(r=pa(),rn=qi=mn=null,eo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ys&&i.locale!=="ko"?null:i.data;default:return null}}var Ox={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function um(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Ox[r.type]:i==="textarea"}function cm(r,i,a,h){tr(h),i=ru(i,"onChange"),0<i.length&&(a=new Gi("onChange","change",null,a,h),r.push({event:a,listeners:i}))}var va=null,_a=null;function Fx(r){Pm(r,0)}function Zl(r){var i=io(r);if(Ds(i))return r}function Ux(r,i){if(r==="change")return i}var hm=!1;if(d){var uh;if(d){var ch="oninput"in document;if(!ch){var dm=document.createElement("div");dm.setAttribute("oninput","return;"),ch=typeof dm.oninput=="function"}uh=ch}else uh=!1;hm=uh&&(!document.documentMode||9<document.documentMode)}function fm(){va&&(va.detachEvent("onpropertychange",pm),_a=va=null)}function pm(r){if(r.propertyName==="value"&&Zl(_a)){var i=[];cm(i,_a,r,Vi(r)),ia(Fx,i)}}function Bx(r,i,a){r==="focusin"?(fm(),va=i,_a=a,va.attachEvent("onpropertychange",pm)):r==="focusout"&&fm()}function zx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zl(_a)}function $x(r,i){if(r==="click")return Zl(i)}function Hx(r,i){if(r==="input"||r==="change")return Zl(i)}function qx(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var qn=typeof Object.is=="function"?Object.is:qx;function wa(r,i){if(qn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),h=Object.keys(i);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var p=a[h];if(!f.call(i,p)||!qn(r[p],i[p]))return!1}return!0}function mm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function gm(r,i){var a=mm(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=i&&h>=i)return{node:a,offset:i-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=mm(a)}}function ym(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?ym(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function vm(){for(var r=window,i=zr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=zr(r.document)}return i}function hh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function Wx(r){var i=vm(),a=r.focusedElem,h=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&ym(a.ownerDocument.documentElement,a)){if(h!==null&&hh(a)){if(i=h.start,r=h.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var p=a.textContent.length,y=Math.min(h.start,p);h=h.end===void 0?y:Math.min(h.end,p),!r.extend&&y>h&&(p=h,h=y,y=p),p=gm(a,y);var E=gm(a,h);p&&E&&(r.rangeCount!==1||r.anchorNode!==p.node||r.anchorOffset!==p.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(p.node,p.offset),r.removeAllRanges(),y>h?(r.addRange(i),r.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Gx=d&&"documentMode"in document&&11>=document.documentMode,to=null,dh=null,xa=null,fh=!1;function _m(r,i,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fh||to==null||to!==zr(h)||(h=to,"selectionStart"in h&&hh(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),xa&&wa(xa,h)||(xa=h,h=ru(dh,"onSelect"),0<h.length&&(i=new Gi("onSelect","select",null,i,a),r.push({event:i,listeners:h}),i.target=to)))}function eu(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var no={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},ph={},wm={};d&&(wm=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function tu(r){if(ph[r])return ph[r];if(!no[r])return r;var i=no[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in wm)return ph[r]=i[a];return r}var xm=tu("animationend"),Tm=tu("animationiteration"),Em=tu("animationstart"),Sm=tu("transitionend"),Am=new Map,Im="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(r,i){Am.set(r,i),l(i,[r])}for(var mh=0;mh<Im.length;mh++){var gh=Im[mh],Kx=gh.toLowerCase(),Qx=gh[0].toUpperCase()+gh.slice(1);Zr(Kx,"on"+Qx)}Zr(xm,"onAnimationEnd"),Zr(Tm,"onAnimationIteration"),Zr(Em,"onAnimationStart"),Zr("dblclick","onDoubleClick"),Zr("focusin","onFocus"),Zr("focusout","onBlur"),Zr(Sm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ta="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ta));function Cm(r,i,a){var h=r.type||"unknown-event";r.currentTarget=a,Nl(h,i,void 0,r),r.currentTarget=null}function Pm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],p=h.event;h=h.listeners;e:{var y=void 0;if(i)for(var E=h.length-1;0<=E;E--){var k=h[E],D=k.instance,H=k.currentTarget;if(k=k.listener,D!==y&&p.isPropagationStopped())break e;Cm(p,k,H),y=D}else for(E=0;E<h.length;E++){if(k=h[E],D=k.instance,H=k.currentTarget,k=k.listener,D!==y&&p.isPropagationStopped())break e;Cm(p,k,H),y=D}}}if(Ln)throw r=oa,Ln=!1,oa=null,r}function Xe(r,i){var a=i[Sh];a===void 0&&(a=i[Sh]=new Set);var h=r+"__bubble";a.has(h)||(km(i,r,2,!1),a.add(h))}function yh(r,i,a){var h=0;i&&(h|=4),km(a,r,h,i)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ea(r){if(!r[nu]){r[nu]=!0,s.forEach(function(a){a!=="selectionchange"&&(Yx.has(a)||yh(a,!1,r),yh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[nu]||(i[nu]=!0,yh("selectionchange",!1,i))}}function km(r,i,a,h){switch(fa(i)){case 1:var p=et;break;case 4:p=ah;break;default:p=da}a=p.bind(null,i,a,r),p=void 0,!Mi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),h?p!==void 0?r.addEventListener(i,a,{capture:!0,passive:p}):r.addEventListener(i,a,!0):p!==void 0?r.addEventListener(i,a,{passive:p}):r.addEventListener(i,a,!1)}function vh(r,i,a,h,p){var y=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var k=h.stateNode.containerInfo;if(k===p||k.nodeType===8&&k.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var D=E.tag;if((D===3||D===4)&&(D=E.stateNode.containerInfo,D===p||D.nodeType===8&&D.parentNode===p))return;E=E.return}for(;k!==null;){if(E=Xs(k),E===null)return;if(D=E.tag,D===5||D===6){h=y=E;continue e}k=k.parentNode}}h=h.return}ia(function(){var H=y,ee=Vi(a),te=[];e:{var Z=Am.get(r);if(Z!==void 0){var le=Gi,fe=r;switch(r){case"keypress":if(Wi(a)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":fe="focus",le=Xi;break;case"focusout":fe="blur",le=Xi;break;case"beforeblur":case"afterblur":le=Xi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Qi;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=W;break;case xm:case Tm:case Em:le=Ar;break;case Sm:le=We;break;case"scroll":le=lh;break;case"wheel":le=Le;break;case"copy":case"cut":case"paste":le=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=A}var pe=(i&4)!==0,ft=!pe&&r==="scroll",B=pe?Z!==null?Z+"Capture":null:Z;pe=[];for(var O=H,z;O!==null;){z=O;var ne=z.stateNode;if(z.tag===5&&ne!==null&&(z=ne,B!==null&&(ne=dt(O,B),ne!=null&&pe.push(Sa(O,ne,z)))),ft)break;O=O.return}0<pe.length&&(Z=new le(Z,fe,null,a,ee),te.push({event:Z,listeners:pe}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",Z&&a!==Os&&(fe=a.relatedTarget||a.fromElement)&&(Xs(fe)||fe[Ir]))break e;if((le||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(fe=a.relatedTarget||a.toElement,le=H,fe=fe?Xs(fe):null,fe!==null&&(ft=On(fe),fe!==ft||fe.tag!==5&&fe.tag!==6)&&(fe=null)):(le=null,fe=H),le!==fe)){if(pe=Qi,ne="onMouseLeave",B="onMouseEnter",O="mouse",(r==="pointerout"||r==="pointerover")&&(pe=A,ne="onPointerLeave",B="onPointerEnter",O="pointer"),ft=le==null?Z:io(le),z=fe==null?Z:io(fe),Z=new pe(ne,O+"leave",le,a,ee),Z.target=ft,Z.relatedTarget=z,ne=null,Xs(ee)===H&&(pe=new pe(B,O+"enter",fe,a,ee),pe.target=z,pe.relatedTarget=ft,ne=pe),ft=ne,le&&fe)t:{for(pe=le,B=fe,O=0,z=pe;z;z=ro(z))O++;for(z=0,ne=B;ne;ne=ro(ne))z++;for(;0<O-z;)pe=ro(pe),O--;for(;0<z-O;)B=ro(B),z--;for(;O--;){if(pe===B||B!==null&&pe===B.alternate)break t;pe=ro(pe),B=ro(B)}pe=null}else pe=null;le!==null&&Rm(te,Z,le,pe,!1),fe!==null&&ft!==null&&Rm(te,ft,fe,pe,!0)}}e:{if(Z=H?io(H):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var ge=Ux;else if(um(Z))if(hm)ge=Hx;else{ge=zx;var _e=Bx}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ge=$x);if(ge&&(ge=ge(r,H))){cm(te,ge,a,ee);break e}_e&&_e(r,Z,H),r==="focusout"&&(_e=Z._wrapperState)&&_e.controlled&&Z.type==="number"&&Ri(Z,"number",Z.value)}switch(_e=H?io(H):window,r){case"focusin":(um(_e)||_e.contentEditable==="true")&&(to=_e,dh=H,xa=null);break;case"focusout":xa=dh=to=null;break;case"mousedown":fh=!0;break;case"contextmenu":case"mouseup":case"dragend":fh=!1,_m(te,a,ee);break;case"selectionchange":if(Gx)break;case"keydown":case"keyup":_m(te,a,ee)}var we;if(gt)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else eo?am(r,a)&&(Ee="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ys&&a.locale!=="ko"&&(eo||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&eo&&(we=pa()):(mn=ee,qi="value"in mn?mn.value:mn.textContent,eo=!0)),_e=ru(H,Ee),0<_e.length&&(Ee=new ya(Ee,r,null,a,ee),te.push({event:Ee,listeners:_e}),we?Ee.data=we:(we=lm(a),we!==null&&(Ee.data=we)))),(we=gn?Mx(r,a):Lx(r,a))&&(H=ru(H,"onBeforeInput"),0<H.length&&(ee=new ya("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:H}),ee.data=we))}Pm(te,i)})}function Sa(r,i,a){return{instance:r,listener:i,currentTarget:a}}function ru(r,i){for(var a=i+"Capture",h=[];r!==null;){var p=r,y=p.stateNode;p.tag===5&&y!==null&&(p=y,y=dt(r,a),y!=null&&h.unshift(Sa(r,y,p)),y=dt(r,i),y!=null&&h.push(Sa(r,y,p))),r=r.return}return h}function ro(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function Rm(r,i,a,h,p){for(var y=i._reactName,E=[];a!==null&&a!==h;){var k=a,D=k.alternate,H=k.stateNode;if(D!==null&&D===h)break;k.tag===5&&H!==null&&(k=H,p?(D=dt(a,y),D!=null&&E.unshift(Sa(a,D,k))):p||(D=dt(a,y),D!=null&&E.push(Sa(a,D,k)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var Xx=/\r\n?/g,Jx=/\u0000|\uFFFD/g;function Nm(r){return(typeof r=="string"?r:""+r).replace(Xx,`
`).replace(Jx,"")}function su(r,i,a){if(i=Nm(i),Nm(r)!==i&&a)throw Error(t(425))}function iu(){}var _h=null,wh=null;function xh(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Th=typeof setTimeout=="function"?setTimeout:void 0,Zx=typeof clearTimeout=="function"?clearTimeout:void 0,bm=typeof Promise=="function"?Promise:void 0,eT=typeof queueMicrotask=="function"?queueMicrotask:typeof bm<"u"?function(r){return bm.resolve(null).then(r).catch(tT)}:Th;function tT(r){setTimeout(function(){throw r})}function Eh(r,i){var a=i,h=0;do{var p=a.nextSibling;if(r.removeChild(a),p&&p.nodeType===8)if(a=p.data,a==="/$"){if(h===0){r.removeChild(p),$n(i);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=p}while(a);$n(i)}function es(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function Vm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var so=Math.random().toString(36).slice(2),ar="__reactFiber$"+so,Aa="__reactProps$"+so,Ir="__reactContainer$"+so,Sh="__reactEvents$"+so,nT="__reactListeners$"+so,rT="__reactHandles$"+so;function Xs(r){var i=r[ar];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Ir]||a[ar]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=Vm(r);r!==null;){if(a=r[ar])return a;r=Vm(r)}return i}r=a,a=r.parentNode}return null}function Ia(r){return r=r[ar]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function ou(r){return r[Aa]||null}var Ah=[],oo=-1;function ts(r){return{current:r}}function Je(r){0>oo||(r.current=Ah[oo],Ah[oo]=null,oo--)}function Qe(r,i){oo++,Ah[oo]=r.current,r.current=i}var ns={},Bt=ts(ns),sn=ts(!1),Js=ns;function ao(r,i){var a=r.type.contextTypes;if(!a)return ns;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===i)return h.__reactInternalMemoizedMaskedChildContext;var p={},y;for(y in a)p[y]=i[y];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=p),p}function on(r){return r=r.childContextTypes,r!=null}function au(){Je(sn),Je(Bt)}function Dm(r,i,a){if(Bt.current!==ns)throw Error(t(168));Qe(Bt,i),Qe(sn,a)}function jm(r,i,a){var h=r.stateNode;if(i=i.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var p in h)if(!(p in i))throw Error(t(108,Me(r)||"Unknown",p));return ae({},a,h)}function lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ns,Js=Bt.current,Qe(Bt,r),Qe(sn,sn.current),!0}function Mm(r,i,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=jm(r,i,Js),h.__reactInternalMemoizedMergedChildContext=r,Je(sn),Je(Bt),Qe(Bt,r)):Je(sn),Qe(sn,a)}var Cr=null,uu=!1,Ih=!1;function Lm(r){Cr===null?Cr=[r]:Cr.push(r)}function sT(r){uu=!0,Lm(r)}function rs(){if(!Ih&&Cr!==null){Ih=!0;var r=0,i=De;try{var a=Cr;for(De=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Cr=null,uu=!1}catch(p){throw Cr!==null&&(Cr=Cr.slice(r+1)),Ui($s,rs),p}finally{De=i,Ih=!1}}return null}var lo=[],uo=0,cu=null,hu=0,Cn=[],Pn=0,Zs=null,Pr=1,kr="";function ei(r,i){lo[uo++]=hu,lo[uo++]=cu,cu=r,hu=i}function Om(r,i,a){Cn[Pn++]=Pr,Cn[Pn++]=kr,Cn[Pn++]=Zs,Zs=r;var h=Pr;r=kr;var p=32-Qt(h)-1;h&=~(1<<p),a+=1;var y=32-Qt(i)+p;if(30<y){var E=p-p%5;y=(h&(1<<E)-1).toString(32),h>>=E,p-=E,Pr=1<<32-Qt(i)+p|a<<p|h,kr=y+r}else Pr=1<<y|a<<p|h,kr=r}function Ch(r){r.return!==null&&(ei(r,1),Om(r,1,0))}function Ph(r){for(;r===cu;)cu=lo[--uo],lo[uo]=null,hu=lo[--uo],lo[uo]=null;for(;r===Zs;)Zs=Cn[--Pn],Cn[Pn]=null,kr=Cn[--Pn],Cn[Pn]=null,Pr=Cn[--Pn],Cn[Pn]=null}var yn=null,vn=null,tt=!1,Wn=null;function Fm(r,i){var a=bn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function Um(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,yn=r,vn=es(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,yn=r,vn=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Zs!==null?{id:Pr,overflow:kr}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=bn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,yn=r,vn=null,!0):!1;default:return!1}}function kh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Rh(r){if(tt){var i=vn;if(i){var a=i;if(!Um(r,i)){if(kh(r))throw Error(t(418));i=es(a.nextSibling);var h=yn;i&&Um(r,i)?Fm(h,a):(r.flags=r.flags&-4097|2,tt=!1,yn=r)}}else{if(kh(r))throw Error(t(418));r.flags=r.flags&-4097|2,tt=!1,yn=r}}}function Bm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;yn=r}function du(r){if(r!==yn)return!1;if(!tt)return Bm(r),tt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!xh(r.type,r.memoizedProps)),i&&(i=vn)){if(kh(r))throw zm(),Error(t(418));for(;i;)Fm(r,i),i=es(i.nextSibling)}if(Bm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){vn=es(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}vn=null}}else vn=yn?es(r.stateNode.nextSibling):null;return!0}function zm(){for(var r=vn;r;)r=es(r.nextSibling)}function co(){vn=yn=null,tt=!1}function Nh(r){Wn===null?Wn=[r]:Wn.push(r)}var iT=Q.ReactCurrentBatchConfig;function Ca(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var p=h,y=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===y?i.ref:(i=function(E){var k=p.refs;E===null?delete k[y]:k[y]=E},i._stringRef=y,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function fu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function $m(r){var i=r._init;return i(r._payload)}function Hm(r){function i(B,O){if(r){var z=B.deletions;z===null?(B.deletions=[O],B.flags|=16):z.push(O)}}function a(B,O){if(!r)return null;for(;O!==null;)i(B,O),O=O.sibling;return null}function h(B,O){for(B=new Map;O!==null;)O.key!==null?B.set(O.key,O):B.set(O.index,O),O=O.sibling;return B}function p(B,O){return B=hs(B,O),B.index=0,B.sibling=null,B}function y(B,O,z){return B.index=z,r?(z=B.alternate,z!==null?(z=z.index,z<O?(B.flags|=2,O):z):(B.flags|=2,O)):(B.flags|=1048576,O)}function E(B){return r&&B.alternate===null&&(B.flags|=2),B}function k(B,O,z,ne){return O===null||O.tag!==6?(O=Td(z,B.mode,ne),O.return=B,O):(O=p(O,z),O.return=B,O)}function D(B,O,z,ne){var ge=z.type;return ge===P?ee(B,O,z.props.children,ne,z.key):O!==null&&(O.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===je&&$m(ge)===O.type)?(ne=p(O,z.props),ne.ref=Ca(B,O,z),ne.return=B,ne):(ne=Lu(z.type,z.key,z.props,null,B.mode,ne),ne.ref=Ca(B,O,z),ne.return=B,ne)}function H(B,O,z,ne){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=Ed(z,B.mode,ne),O.return=B,O):(O=p(O,z.children||[]),O.return=B,O)}function ee(B,O,z,ne,ge){return O===null||O.tag!==7?(O=li(z,B.mode,ne,ge),O.return=B,O):(O=p(O,z),O.return=B,O)}function te(B,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Td(""+O,B.mode,z),O.return=B,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ue:return z=Lu(O.type,O.key,O.props,null,B.mode,z),z.ref=Ca(B,null,O),z.return=B,z;case oe:return O=Ed(O,B.mode,z),O.return=B,O;case je:var ne=O._init;return te(B,ne(O._payload),z)}if(yr(O)||me(O))return O=li(O,B.mode,z,null),O.return=B,O;fu(B,O)}return null}function Z(B,O,z,ne){var ge=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ge!==null?null:k(B,O,""+z,ne);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ue:return z.key===ge?D(B,O,z,ne):null;case oe:return z.key===ge?H(B,O,z,ne):null;case je:return ge=z._init,Z(B,O,ge(z._payload),ne)}if(yr(z)||me(z))return ge!==null?null:ee(B,O,z,ne,null);fu(B,z)}return null}function le(B,O,z,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return B=B.get(z)||null,k(O,B,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case ue:return B=B.get(ne.key===null?z:ne.key)||null,D(O,B,ne,ge);case oe:return B=B.get(ne.key===null?z:ne.key)||null,H(O,B,ne,ge);case je:var _e=ne._init;return le(B,O,z,_e(ne._payload),ge)}if(yr(ne)||me(ne))return B=B.get(z)||null,ee(O,B,ne,ge,null);fu(O,ne)}return null}function fe(B,O,z,ne){for(var ge=null,_e=null,we=O,Ee=O=0,Nt=null;we!==null&&Ee<z.length;Ee++){we.index>Ee?(Nt=we,we=null):Nt=we.sibling;var $e=Z(B,we,z[Ee],ne);if($e===null){we===null&&(we=Nt);break}r&&we&&$e.alternate===null&&i(B,we),O=y($e,O,Ee),_e===null?ge=$e:_e.sibling=$e,_e=$e,we=Nt}if(Ee===z.length)return a(B,we),tt&&ei(B,Ee),ge;if(we===null){for(;Ee<z.length;Ee++)we=te(B,z[Ee],ne),we!==null&&(O=y(we,O,Ee),_e===null?ge=we:_e.sibling=we,_e=we);return tt&&ei(B,Ee),ge}for(we=h(B,we);Ee<z.length;Ee++)Nt=le(we,B,Ee,z[Ee],ne),Nt!==null&&(r&&Nt.alternate!==null&&we.delete(Nt.key===null?Ee:Nt.key),O=y(Nt,O,Ee),_e===null?ge=Nt:_e.sibling=Nt,_e=Nt);return r&&we.forEach(function(ds){return i(B,ds)}),tt&&ei(B,Ee),ge}function pe(B,O,z,ne){var ge=me(z);if(typeof ge!="function")throw Error(t(150));if(z=ge.call(z),z==null)throw Error(t(151));for(var _e=ge=null,we=O,Ee=O=0,Nt=null,$e=z.next();we!==null&&!$e.done;Ee++,$e=z.next()){we.index>Ee?(Nt=we,we=null):Nt=we.sibling;var ds=Z(B,we,$e.value,ne);if(ds===null){we===null&&(we=Nt);break}r&&we&&ds.alternate===null&&i(B,we),O=y(ds,O,Ee),_e===null?ge=ds:_e.sibling=ds,_e=ds,we=Nt}if($e.done)return a(B,we),tt&&ei(B,Ee),ge;if(we===null){for(;!$e.done;Ee++,$e=z.next())$e=te(B,$e.value,ne),$e!==null&&(O=y($e,O,Ee),_e===null?ge=$e:_e.sibling=$e,_e=$e);return tt&&ei(B,Ee),ge}for(we=h(B,we);!$e.done;Ee++,$e=z.next())$e=le(we,B,Ee,$e.value,ne),$e!==null&&(r&&$e.alternate!==null&&we.delete($e.key===null?Ee:$e.key),O=y($e,O,Ee),_e===null?ge=$e:_e.sibling=$e,_e=$e);return r&&we.forEach(function(OT){return i(B,OT)}),tt&&ei(B,Ee),ge}function ft(B,O,z,ne){if(typeof z=="object"&&z!==null&&z.type===P&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case ue:e:{for(var ge=z.key,_e=O;_e!==null;){if(_e.key===ge){if(ge=z.type,ge===P){if(_e.tag===7){a(B,_e.sibling),O=p(_e,z.props.children),O.return=B,B=O;break e}}else if(_e.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===je&&$m(ge)===_e.type){a(B,_e.sibling),O=p(_e,z.props),O.ref=Ca(B,_e,z),O.return=B,B=O;break e}a(B,_e);break}else i(B,_e);_e=_e.sibling}z.type===P?(O=li(z.props.children,B.mode,ne,z.key),O.return=B,B=O):(ne=Lu(z.type,z.key,z.props,null,B.mode,ne),ne.ref=Ca(B,O,z),ne.return=B,B=ne)}return E(B);case oe:e:{for(_e=z.key;O!==null;){if(O.key===_e)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(B,O.sibling),O=p(O,z.children||[]),O.return=B,B=O;break e}else{a(B,O);break}else i(B,O);O=O.sibling}O=Ed(z,B.mode,ne),O.return=B,B=O}return E(B);case je:return _e=z._init,ft(B,O,_e(z._payload),ne)}if(yr(z))return fe(B,O,z,ne);if(me(z))return pe(B,O,z,ne);fu(B,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(a(B,O.sibling),O=p(O,z),O.return=B,B=O):(a(B,O),O=Td(z,B.mode,ne),O.return=B,B=O),E(B)):a(B,O)}return ft}var ho=Hm(!0),qm=Hm(!1),pu=ts(null),mu=null,fo=null,bh=null;function Vh(){bh=fo=mu=null}function Dh(r){var i=pu.current;Je(pu),r._currentValue=i}function jh(r,i,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),r===a)break;r=r.return}}function po(r,i){mu=r,bh=fo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(an=!0),r.firstContext=null)}function kn(r){var i=r._currentValue;if(bh!==r)if(r={context:r,memoizedValue:i,next:null},fo===null){if(mu===null)throw Error(t(308));fo=r,mu.dependencies={lanes:0,firstContext:r}}else fo=fo.next=r;return i}var ti=null;function Mh(r){ti===null?ti=[r]:ti.push(r)}function Wm(r,i,a,h){var p=i.interleaved;return p===null?(a.next=a,Mh(i)):(a.next=p.next,p.next=a),i.interleaved=a,Rr(r,h)}function Rr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var ss=!1;function Lh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Gm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Nr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function is(r,i,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,(Be&2)!==0){var p=h.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),h.pending=i,Rr(r,a)}return p=h.interleaved,p===null?(i.next=i,Mh(h)):(i.next=p.next,p.next=i),h.interleaved=i,Rr(r,a)}function gu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,Kr(r,a)}}function Km(r,i){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var p=null,y=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};y===null?p=y=E:y=y.next=E,a=a.next}while(a!==null);y===null?p=y=i:y=y.next=i}else p=y=i;a={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function yu(r,i,a,h){var p=r.updateQueue;ss=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,k=p.shared.pending;if(k!==null){p.shared.pending=null;var D=k,H=D.next;D.next=null,E===null?y=H:E.next=H,E=D;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,k=ee.lastBaseUpdate,k!==E&&(k===null?ee.firstBaseUpdate=H:k.next=H,ee.lastBaseUpdate=D))}if(y!==null){var te=p.baseState;E=0,ee=H=D=null,k=y;do{var Z=k.lane,le=k.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var fe=r,pe=k;switch(Z=i,le=a,pe.tag){case 1:if(fe=pe.payload,typeof fe=="function"){te=fe.call(le,te,Z);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=pe.payload,Z=typeof fe=="function"?fe.call(le,te,Z):fe,Z==null)break e;te=ae({},te,Z);break e;case 2:ss=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,Z=p.effects,Z===null?p.effects=[k]:Z.push(k))}else le={eventTime:le,lane:Z,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ee===null?(H=ee=le,D=te):ee=ee.next=le,E|=Z;if(k=k.next,k===null){if(k=p.shared.pending,k===null)break;Z=k,k=Z.next,Z.next=null,p.lastBaseUpdate=Z,p.shared.pending=null}}while(!0);if(ee===null&&(D=te),p.baseState=D,p.firstBaseUpdate=H,p.lastBaseUpdate=ee,i=p.shared.interleaved,i!==null){p=i;do E|=p.lane,p=p.next;while(p!==i)}else y===null&&(p.shared.lanes=0);si|=E,r.lanes=E,r.memoizedState=te}}function Qm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var h=r[i],p=h.callback;if(p!==null){if(h.callback=null,h=a,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Pa={},lr=ts(Pa),ka=ts(Pa),Ra=ts(Pa);function ni(r){if(r===Pa)throw Error(t(174));return r}function Oh(r,i){switch(Qe(Ra,i),Qe(ka,r),Qe(lr,Pa),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Tt(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Tt(i,r)}Je(lr),Qe(lr,i)}function mo(){Je(lr),Je(ka),Je(Ra)}function Ym(r){ni(Ra.current);var i=ni(lr.current),a=Tt(i,r.type);i!==a&&(Qe(ka,r),Qe(lr,a))}function Fh(r){ka.current===r&&(Je(lr),Je(ka))}var st=ts(0);function vu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Uh=[];function Bh(){for(var r=0;r<Uh.length;r++)Uh[r]._workInProgressVersionPrimary=null;Uh.length=0}var _u=Q.ReactCurrentDispatcher,zh=Q.ReactCurrentBatchConfig,ri=0,it=null,St=null,kt=null,wu=!1,Na=!1,ba=0,oT=0;function zt(){throw Error(t(321))}function $h(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!qn(r[a],i[a]))return!1;return!0}function Hh(r,i,a,h,p,y){if(ri=y,it=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,_u.current=r===null||r.memoizedState===null?cT:hT,r=a(h,p),Na){y=0;do{if(Na=!1,ba=0,25<=y)throw Error(t(301));y+=1,kt=St=null,i.updateQueue=null,_u.current=dT,r=a(h,p)}while(Na)}if(_u.current=Eu,i=St!==null&&St.next!==null,ri=0,kt=St=it=null,wu=!1,i)throw Error(t(300));return r}function qh(){var r=ba!==0;return ba=0,r}function ur(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?it.memoizedState=kt=r:kt=kt.next=r,kt}function Rn(){if(St===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=St.next;var i=kt===null?it.memoizedState:kt.next;if(i!==null)kt=i,St=r;else{if(r===null)throw Error(t(310));St=r,r={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?it.memoizedState=kt=r:kt=kt.next=r}return kt}function Va(r,i){return typeof i=="function"?i(r):i}function Wh(r){var i=Rn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=St,p=h.baseQueue,y=a.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}h.baseQueue=p=y,a.pending=null}if(p!==null){y=p.next,h=h.baseState;var k=E=null,D=null,H=y;do{var ee=H.lane;if((ri&ee)===ee)D!==null&&(D=D.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),h=H.hasEagerState?H.eagerState:r(h,H.action);else{var te={lane:ee,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};D===null?(k=D=te,E=h):D=D.next=te,it.lanes|=ee,si|=ee}H=H.next}while(H!==null&&H!==y);D===null?E=h:D.next=k,qn(h,i.memoizedState)||(an=!0),i.memoizedState=h,i.baseState=E,i.baseQueue=D,a.lastRenderedState=h}if(r=a.interleaved,r!==null){p=r;do y=p.lane,it.lanes|=y,si|=y,p=p.next;while(p!==r)}else p===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Gh(r){var i=Rn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,p=a.pending,y=i.memoizedState;if(p!==null){a.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);qn(y,i.memoizedState)||(an=!0),i.memoizedState=y,i.baseQueue===null&&(i.baseState=y),a.lastRenderedState=y}return[y,h]}function Xm(){}function Jm(r,i){var a=it,h=Rn(),p=i(),y=!qn(h.memoizedState,p);if(y&&(h.memoizedState=p,an=!0),h=h.queue,Kh(tg.bind(null,a,h,r),[r]),h.getSnapshot!==i||y||kt!==null&&kt.memoizedState.tag&1){if(a.flags|=2048,Da(9,eg.bind(null,a,h,p,i),void 0,null),Rt===null)throw Error(t(349));(ri&30)!==0||Zm(a,i,p)}return p}function Zm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function eg(r,i,a,h){i.value=a,i.getSnapshot=h,ng(i)&&rg(r)}function tg(r,i,a){return a(function(){ng(i)&&rg(r)})}function ng(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!qn(r,a)}catch{return!0}}function rg(r){var i=Rr(r,1);i!==null&&Yn(i,r,1,-1)}function sg(r){var i=ur();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Va,lastRenderedState:r},i.queue=r,r=r.dispatch=uT.bind(null,it,r),[i.memoizedState,r]}function Da(r,i,a,h){return r={tag:r,create:i,destroy:a,deps:h,next:null},i=it.updateQueue,i===null?(i={lastEffect:null,stores:null},it.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,i.lastEffect=r)),r}function ig(){return Rn().memoizedState}function xu(r,i,a,h){var p=ur();it.flags|=r,p.memoizedState=Da(1|i,a,void 0,h===void 0?null:h)}function Tu(r,i,a,h){var p=Rn();h=h===void 0?null:h;var y=void 0;if(St!==null){var E=St.memoizedState;if(y=E.destroy,h!==null&&$h(h,E.deps)){p.memoizedState=Da(i,a,y,h);return}}it.flags|=r,p.memoizedState=Da(1|i,a,y,h)}function og(r,i){return xu(8390656,8,r,i)}function Kh(r,i){return Tu(2048,8,r,i)}function ag(r,i){return Tu(4,2,r,i)}function lg(r,i){return Tu(4,4,r,i)}function ug(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function cg(r,i,a){return a=a!=null?a.concat([r]):null,Tu(4,4,ug.bind(null,i,r),a)}function Qh(){}function hg(r,i){var a=Rn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&$h(i,h[1])?h[0]:(a.memoizedState=[r,i],r)}function dg(r,i){var a=Rn();i=i===void 0?null:i;var h=a.memoizedState;return h!==null&&i!==null&&$h(i,h[1])?h[0]:(r=r(),a.memoizedState=[r,i],r)}function fg(r,i,a){return(ri&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a):(qn(a,i)||(a=Ws(),it.lanes|=a,si|=a,r.baseState=!0),i)}function aT(r,i){var a=De;De=a!==0&&4>a?a:4,r(!0);var h=zh.transition;zh.transition={};try{r(!1),i()}finally{De=a,zh.transition=h}}function pg(){return Rn().memoizedState}function lT(r,i,a){var h=us(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},mg(r))gg(i,a);else if(a=Wm(r,i,a,h),a!==null){var p=Jt();Yn(a,r,h,p),yg(a,i,h)}}function uT(r,i,a){var h=us(r),p={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(mg(r))gg(i,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=i.lastRenderedReducer,y!==null))try{var E=i.lastRenderedState,k=y(E,a);if(p.hasEagerState=!0,p.eagerState=k,qn(k,E)){var D=i.interleaved;D===null?(p.next=p,Mh(i)):(p.next=D.next,D.next=p),i.interleaved=p;return}}catch{}finally{}a=Wm(r,i,p,h),a!==null&&(p=Jt(),Yn(a,r,h,p),yg(a,i,h))}}function mg(r){var i=r.alternate;return r===it||i!==null&&i===it}function gg(r,i){Na=wu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function yg(r,i,a){if((a&4194240)!==0){var h=i.lanes;h&=r.pendingLanes,a|=h,i.lanes=a,Kr(r,a)}}var Eu={readContext:kn,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},cT={readContext:kn,useCallback:function(r,i){return ur().memoizedState=[r,i===void 0?null:i],r},useContext:kn,useEffect:og,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,xu(4194308,4,ug.bind(null,i,r),a)},useLayoutEffect:function(r,i){return xu(4194308,4,r,i)},useInsertionEffect:function(r,i){return xu(4,2,r,i)},useMemo:function(r,i){var a=ur();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var h=ur();return i=a!==void 0?a(i):i,h.memoizedState=h.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},h.queue=r,r=r.dispatch=lT.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var i=ur();return r={current:r},i.memoizedState=r},useState:sg,useDebugValue:Qh,useDeferredValue:function(r){return ur().memoizedState=r},useTransition:function(){var r=sg(!1),i=r[0];return r=aT.bind(null,r[1]),ur().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var h=it,p=ur();if(tt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),Rt===null)throw Error(t(349));(ri&30)!==0||Zm(h,i,a)}p.memoizedState=a;var y={value:a,getSnapshot:i};return p.queue=y,og(tg.bind(null,h,y,r),[r]),h.flags|=2048,Da(9,eg.bind(null,h,y,a,i),void 0,null),a},useId:function(){var r=ur(),i=Rt.identifierPrefix;if(tt){var a=kr,h=Pr;a=(h&~(1<<32-Qt(h)-1)).toString(32)+a,i=":"+i+"R"+a,a=ba++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=oT++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},hT={readContext:kn,useCallback:hg,useContext:kn,useEffect:Kh,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:dg,useReducer:Wh,useRef:ig,useState:function(){return Wh(Va)},useDebugValue:Qh,useDeferredValue:function(r){var i=Rn();return fg(i,St.memoizedState,r)},useTransition:function(){var r=Wh(Va)[0],i=Rn().memoizedState;return[r,i]},useMutableSource:Xm,useSyncExternalStore:Jm,useId:pg,unstable_isNewReconciler:!1},dT={readContext:kn,useCallback:hg,useContext:kn,useEffect:Kh,useImperativeHandle:cg,useInsertionEffect:ag,useLayoutEffect:lg,useMemo:dg,useReducer:Gh,useRef:ig,useState:function(){return Gh(Va)},useDebugValue:Qh,useDeferredValue:function(r){var i=Rn();return St===null?i.memoizedState=r:fg(i,St.memoizedState,r)},useTransition:function(){var r=Gh(Va)[0],i=Rn().memoizedState;return[r,i]},useMutableSource:Xm,useSyncExternalStore:Jm,useId:pg,unstable_isNewReconciler:!1};function Gn(r,i){if(r&&r.defaultProps){i=ae({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function Yh(r,i,a,h){i=r.memoizedState,a=a(h,i),a=a==null?i:ae({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Su={isMounted:function(r){return(r=r._reactInternals)?On(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var h=Jt(),p=us(r),y=Nr(h,p);y.payload=i,a!=null&&(y.callback=a),i=is(r,y,p),i!==null&&(Yn(i,r,p,h),gu(i,r,p))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var h=Jt(),p=us(r),y=Nr(h,p);y.tag=1,y.payload=i,a!=null&&(y.callback=a),i=is(r,y,p),i!==null&&(Yn(i,r,p,h),gu(i,r,p))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=Jt(),h=us(r),p=Nr(a,h);p.tag=2,i!=null&&(p.callback=i),i=is(r,p,h),i!==null&&(Yn(i,r,h,a),gu(i,r,h))}};function vg(r,i,a,h,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,y,E):i.prototype&&i.prototype.isPureReactComponent?!wa(a,h)||!wa(p,y):!0}function _g(r,i,a){var h=!1,p=ns,y=i.contextType;return typeof y=="object"&&y!==null?y=kn(y):(p=on(i)?Js:Bt.current,h=i.contextTypes,y=(h=h!=null)?ao(r,p):ns),i=new i(a,y),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Su,r.stateNode=i,i._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=p,r.__reactInternalMemoizedMaskedChildContext=y),i}function wg(r,i,a,h){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,h),i.state!==r&&Su.enqueueReplaceState(i,i.state,null)}function Xh(r,i,a,h){var p=r.stateNode;p.props=a,p.state=r.memoizedState,p.refs={},Lh(r);var y=i.contextType;typeof y=="object"&&y!==null?p.context=kn(y):(y=on(i)?Js:Bt.current,p.context=ao(r,y)),p.state=r.memoizedState,y=i.getDerivedStateFromProps,typeof y=="function"&&(Yh(r,i,y,a),p.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(i=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),i!==p.state&&Su.enqueueReplaceState(p,p.state,null),yu(r,a,p,h),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308)}function go(r,i){try{var a="",h=i;do a+=Ce(h),h=h.return;while(h);var p=a}catch(y){p=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:i,stack:p,digest:null}}function Jh(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Zh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var fT=typeof WeakMap=="function"?WeakMap:Map;function xg(r,i,a){a=Nr(-1,a),a.tag=3,a.payload={element:null};var h=i.value;return a.callback=function(){Nu||(Nu=!0,pd=h),Zh(r,i)},a}function Tg(r,i,a){a=Nr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var p=i.value;a.payload=function(){return h(p)},a.callback=function(){Zh(r,i)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(a.callback=function(){Zh(r,i),typeof h!="function"&&(as===null?as=new Set([this]):as.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function Eg(r,i,a){var h=r.pingCache;if(h===null){h=r.pingCache=new fT;var p=new Set;h.set(i,p)}else p=h.get(i),p===void 0&&(p=new Set,h.set(i,p));p.has(a)||(p.add(a),r=CT.bind(null,r,i,a),i.then(r,r))}function Sg(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function Ag(r,i,a,h,p){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Nr(-1,1),i.tag=2,is(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=p,r)}var pT=Q.ReactCurrentOwner,an=!1;function Xt(r,i,a,h){i.child=r===null?qm(i,null,a,h):ho(i,r.child,a,h)}function Ig(r,i,a,h,p){a=a.render;var y=i.ref;return po(i,p),h=Hh(r,i,a,h,y,p),a=qh(),r!==null&&!an?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,br(r,i,p)):(tt&&a&&Ch(i),i.flags|=1,Xt(r,i,h,p),i.child)}function Cg(r,i,a,h,p){if(r===null){var y=a.type;return typeof y=="function"&&!xd(y)&&y.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=y,Pg(r,i,y,h,p)):(r=Lu(a.type,null,h,i,i.mode,p),r.ref=i.ref,r.return=i,i.child=r)}if(y=r.child,(r.lanes&p)===0){var E=y.memoizedProps;if(a=a.compare,a=a!==null?a:wa,a(E,h)&&r.ref===i.ref)return br(r,i,p)}return i.flags|=1,r=hs(y,h),r.ref=i.ref,r.return=i,i.child=r}function Pg(r,i,a,h,p){if(r!==null){var y=r.memoizedProps;if(wa(y,h)&&r.ref===i.ref)if(an=!1,i.pendingProps=h=y,(r.lanes&p)!==0)(r.flags&131072)!==0&&(an=!0);else return i.lanes=r.lanes,br(r,i,p)}return ed(r,i,a,h,p)}function kg(r,i,a){var h=i.pendingProps,p=h.children,y=r!==null?r.memoizedState:null;if(h.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(vo,_n),_n|=a;else{if((a&1073741824)===0)return r=y!==null?y.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,Qe(vo,_n),_n|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:a,Qe(vo,_n),_n|=h}else y!==null?(h=y.baseLanes|a,i.memoizedState=null):h=a,Qe(vo,_n),_n|=h;return Xt(r,i,p,a),i.child}function Rg(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function ed(r,i,a,h,p){var y=on(a)?Js:Bt.current;return y=ao(i,y),po(i,p),a=Hh(r,i,a,h,y,p),h=qh(),r!==null&&!an?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~p,br(r,i,p)):(tt&&h&&Ch(i),i.flags|=1,Xt(r,i,a,p),i.child)}function Ng(r,i,a,h,p){if(on(a)){var y=!0;lu(i)}else y=!1;if(po(i,p),i.stateNode===null)Iu(r,i),_g(i,a,h),Xh(i,a,h,p),h=!0;else if(r===null){var E=i.stateNode,k=i.memoizedProps;E.props=k;var D=E.context,H=a.contextType;typeof H=="object"&&H!==null?H=kn(H):(H=on(a)?Js:Bt.current,H=ao(i,H));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==h||D!==H)&&wg(i,E,h,H),ss=!1;var Z=i.memoizedState;E.state=Z,yu(i,h,E,p),D=i.memoizedState,k!==h||Z!==D||sn.current||ss?(typeof ee=="function"&&(Yh(i,a,ee,h),D=i.memoizedState),(k=ss||vg(i,a,k,h,Z,D,H))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=D),E.props=h,E.state=D,E.context=H,h=k):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{E=i.stateNode,Gm(r,i),k=i.memoizedProps,H=i.type===i.elementType?k:Gn(i.type,k),E.props=H,te=i.pendingProps,Z=E.context,D=a.contextType,typeof D=="object"&&D!==null?D=kn(D):(D=on(a)?Js:Bt.current,D=ao(i,D));var le=a.getDerivedStateFromProps;(ee=typeof le=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==te||Z!==D)&&wg(i,E,h,D),ss=!1,Z=i.memoizedState,E.state=Z,yu(i,h,E,p);var fe=i.memoizedState;k!==te||Z!==fe||sn.current||ss?(typeof le=="function"&&(Yh(i,a,le,h),fe=i.memoizedState),(H=ss||vg(i,a,H,h,Z,fe,D)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,fe,D),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,fe,D)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=fe),E.props=h,E.state=fe,E.context=D,h=H):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),h=!1)}return td(r,i,a,h,y,p)}function td(r,i,a,h,p,y){Rg(r,i);var E=(i.flags&128)!==0;if(!h&&!E)return p&&Mm(i,a,!1),br(r,i,y);h=i.stateNode,pT.current=i;var k=E&&typeof a.getDerivedStateFromError!="function"?null:h.render();return i.flags|=1,r!==null&&E?(i.child=ho(i,r.child,null,y),i.child=ho(i,null,k,y)):Xt(r,i,k,y),i.memoizedState=h.state,p&&Mm(i,a,!0),i.child}function bg(r){var i=r.stateNode;i.pendingContext?Dm(r,i.pendingContext,i.pendingContext!==i.context):i.context&&Dm(r,i.context,!1),Oh(r,i.containerInfo)}function Vg(r,i,a,h,p){return co(),Nh(p),i.flags|=256,Xt(r,i,a,h),i.child}var nd={dehydrated:null,treeContext:null,retryLane:0};function rd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Dg(r,i,a){var h=i.pendingProps,p=st.current,y=!1,E=(i.flags&128)!==0,k;if((k=E)||(k=r!==null&&r.memoizedState===null?!1:(p&2)!==0),k?(y=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(p|=1),Qe(st,p&1),r===null)return Rh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=h.children,r=h.fallback,y?(h=i.mode,y=i.child,E={mode:"hidden",children:E},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=E):y=Ou(E,h,0,null),r=li(r,h,a,null),y.return=i,r.return=i,y.sibling=r,i.child=y,i.child.memoizedState=rd(a),i.memoizedState=nd,r):sd(i,E));if(p=r.memoizedState,p!==null&&(k=p.dehydrated,k!==null))return mT(r,i,E,h,k,p,a);if(y){y=h.fallback,E=i.mode,p=r.child,k=p.sibling;var D={mode:"hidden",children:h.children};return(E&1)===0&&i.child!==p?(h=i.child,h.childLanes=0,h.pendingProps=D,i.deletions=null):(h=hs(p,D),h.subtreeFlags=p.subtreeFlags&14680064),k!==null?y=hs(k,y):(y=li(y,E,a,null),y.flags|=2),y.return=i,h.return=i,h.sibling=y,i.child=h,h=y,y=i.child,E=r.child.memoizedState,E=E===null?rd(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~a,i.memoizedState=nd,h}return y=r.child,r=y.sibling,h=hs(y,{mode:"visible",children:h.children}),(i.mode&1)===0&&(h.lanes=a),h.return=i,h.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=h,i.memoizedState=null,h}function sd(r,i){return i=Ou({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Au(r,i,a,h){return h!==null&&Nh(h),ho(i,r.child,null,a),r=sd(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function mT(r,i,a,h,p,y,E){if(a)return i.flags&256?(i.flags&=-257,h=Jh(Error(t(422))),Au(r,i,E,h)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(y=h.fallback,p=i.mode,h=Ou({mode:"visible",children:h.children},p,0,null),y=li(y,p,E,null),y.flags|=2,h.return=i,y.return=i,h.sibling=y,i.child=h,(i.mode&1)!==0&&ho(i,r.child,null,E),i.child.memoizedState=rd(E),i.memoizedState=nd,y);if((i.mode&1)===0)return Au(r,i,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var k=h.dgst;return h=k,y=Error(t(419)),h=Jh(y,h,void 0),Au(r,i,E,h)}if(k=(E&r.childLanes)!==0,an||k){if(h=Rt,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==y.retryLane&&(y.retryLane=p,Rr(r,p),Yn(h,r,p,-1))}return wd(),h=Jh(Error(t(421))),Au(r,i,E,h)}return p.data==="$?"?(i.flags|=128,i.child=r.child,i=PT.bind(null,r),p._reactRetry=i,null):(r=y.treeContext,vn=es(p.nextSibling),yn=i,tt=!0,Wn=null,r!==null&&(Cn[Pn++]=Pr,Cn[Pn++]=kr,Cn[Pn++]=Zs,Pr=r.id,kr=r.overflow,Zs=i),i=sd(i,h.children),i.flags|=4096,i)}function jg(r,i,a){r.lanes|=i;var h=r.alternate;h!==null&&(h.lanes|=i),jh(r.return,i,a)}function id(r,i,a,h,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:p}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=a,y.tailMode=p)}function Mg(r,i,a){var h=i.pendingProps,p=h.revealOrder,y=h.tail;if(Xt(r,i,h.children,a),h=st.current,(h&2)!==0)h=h&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jg(r,a,i);else if(r.tag===19)jg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Qe(st,h),(i.mode&1)===0)i.memoizedState=null;else switch(p){case"forwards":for(a=i.child,p=null;a!==null;)r=a.alternate,r!==null&&vu(r)===null&&(p=a),a=a.sibling;a=p,a===null?(p=i.child,i.child=null):(p=a.sibling,a.sibling=null),id(i,!1,p,a,y);break;case"backwards":for(a=null,p=i.child,i.child=null;p!==null;){if(r=p.alternate,r!==null&&vu(r)===null){i.child=p;break}r=p.sibling,p.sibling=a,a=p,p=r}id(i,!0,a,null,y);break;case"together":id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Iu(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function br(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),si|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=hs(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=hs(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function gT(r,i,a){switch(i.tag){case 3:bg(i),co();break;case 5:Ym(i);break;case 1:on(i.type)&&lu(i);break;case 4:Oh(i,i.stateNode.containerInfo);break;case 10:var h=i.type._context,p=i.memoizedProps.value;Qe(pu,h._currentValue),h._currentValue=p;break;case 13:if(h=i.memoizedState,h!==null)return h.dehydrated!==null?(Qe(st,st.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?Dg(r,i,a):(Qe(st,st.current&1),r=br(r,i,a),r!==null?r.sibling:null);Qe(st,st.current&1);break;case 19:if(h=(a&i.childLanes)!==0,(r.flags&128)!==0){if(h)return Mg(r,i,a);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),Qe(st,st.current),h)break;return null;case 22:case 23:return i.lanes=0,kg(r,i,a)}return br(r,i,a)}var Lg,od,Og,Fg;Lg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},od=function(){},Og=function(r,i,a,h){var p=r.memoizedProps;if(p!==h){r=i.stateNode,ni(lr.current);var y=null;switch(a){case"input":p=js(r,p),h=js(r,h),y=[];break;case"select":p=ae({},p,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":p=Qo(r,p),h=Qo(r,h),y=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=iu)}ta(a,h);var E;a=null;for(H in p)if(!h.hasOwnProperty(H)&&p.hasOwnProperty(H)&&p[H]!=null)if(H==="style"){var k=p[H];for(E in k)k.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?y||(y=[]):(y=y||[]).push(H,null));for(H in h){var D=h[H];if(k=p!=null?p[H]:void 0,h.hasOwnProperty(H)&&D!==k&&(D!=null||k!=null))if(H==="style")if(k){for(E in k)!k.hasOwnProperty(E)||D&&D.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in D)D.hasOwnProperty(E)&&k[E]!==D[E]&&(a||(a={}),a[E]=D[E])}else a||(y||(y=[]),y.push(H,a)),a=D;else H==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,k=k?k.__html:void 0,D!=null&&k!==D&&(y=y||[]).push(H,D)):H==="children"?typeof D!="string"&&typeof D!="number"||(y=y||[]).push(H,""+D):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(D!=null&&H==="onScroll"&&Xe("scroll",r),y||k===D||(y=[])):(y=y||[]).push(H,D))}a&&(y=y||[]).push("style",a);var H=y;(i.updateQueue=H)&&(i.flags|=4)}},Fg=function(r,i,a,h){a!==h&&(i.flags|=4)};function ja(r,i){if(!tt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function $t(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(i)for(var p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)a|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=h,r.childLanes=a,i}function yT(r,i,a){var h=i.pendingProps;switch(Ph(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(i),null;case 1:return on(i.type)&&au(),$t(i),null;case 3:return h=i.stateNode,mo(),Je(sn),Je(Bt),Bh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(du(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&(yd(Wn),Wn=null))),od(r,i),$t(i),null;case 5:Fh(i);var p=ni(Ra.current);if(a=i.type,r!==null&&i.stateNode!=null)Og(r,i,a,h,p),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!h){if(i.stateNode===null)throw Error(t(166));return $t(i),null}if(r=ni(lr.current),du(i)){h=i.stateNode,a=i.type;var y=i.memoizedProps;switch(h[ar]=i,h[Aa]=y,r=(i.mode&1)!==0,a){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(p=0;p<Ta.length;p++)Xe(Ta[p],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":ki(h,y),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",h);break;case"textarea":Ni(h,y),Xe("invalid",h)}ta(a,y),p=null;for(var E in y)if(y.hasOwnProperty(E)){var k=y[E];E==="children"?typeof k=="string"?h.textContent!==k&&(y.suppressHydrationWarning!==!0&&su(h.textContent,k,r),p=["children",k]):typeof k=="number"&&h.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&su(h.textContent,k,r),p=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&Xe("scroll",h)}switch(a){case"input":Vt(h),Rl(h,y,!0);break;case"textarea":Vt(h),Yo(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=iu)}h=p,i.updateQueue=h,h!==null&&(i.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=xt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=E.createElement(a,{is:h.is}):(r=E.createElement(a),a==="select"&&(E=r,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):r=E.createElementNS(r,a),r[ar]=i,r[Aa]=h,Lg(r,i,!1,!1),i.stateNode=r;e:{switch(E=na(a,h),a){case"dialog":Xe("cancel",r),Xe("close",r),p=h;break;case"iframe":case"object":case"embed":Xe("load",r),p=h;break;case"video":case"audio":for(p=0;p<Ta.length;p++)Xe(Ta[p],r);p=h;break;case"source":Xe("error",r),p=h;break;case"img":case"image":case"link":Xe("error",r),Xe("load",r),p=h;break;case"details":Xe("toggle",r),p=h;break;case"input":ki(r,h),p=js(r,h),Xe("invalid",r);break;case"option":p=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},p=ae({},h,{value:void 0}),Xe("invalid",r);break;case"textarea":Ni(r,h),p=Qo(r,h),Xe("invalid",r);break;default:p=h}ta(a,p),k=p;for(y in k)if(k.hasOwnProperty(y)){var D=k[y];y==="style"?Zo(r,D):y==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Xo(r,D)):y==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&$r(r,D):typeof D=="number"&&$r(r,""+D):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?D!=null&&y==="onScroll"&&Xe("scroll",r):D!=null&&$(r,y,D,E))}switch(a){case"input":Vt(r),Rl(r,h,!1);break;case"textarea":Vt(r),Yo(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Ue(h.value));break;case"select":r.multiple=!!h.multiple,y=h.value,y!=null?vr(r,!!h.multiple,y,!1):h.defaultValue!=null&&vr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(r.onclick=iu)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return $t(i),null;case 6:if(r&&i.stateNode!=null)Fg(r,i,r.memoizedProps,h);else{if(typeof h!="string"&&i.stateNode===null)throw Error(t(166));if(a=ni(Ra.current),ni(lr.current),du(i)){if(h=i.stateNode,a=i.memoizedProps,h[ar]=i,(y=h.nodeValue!==a)&&(r=yn,r!==null))switch(r.tag){case 3:su(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&su(h.nodeValue,a,(r.mode&1)!==0)}y&&(i.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ar]=i,i.stateNode=h}return $t(i),null;case 13:if(Je(st),h=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(tt&&vn!==null&&(i.mode&1)!==0&&(i.flags&128)===0)zm(),co(),i.flags|=98560,y=!1;else if(y=du(i),h!==null&&h.dehydrated!==null){if(r===null){if(!y)throw Error(t(318));if(y=i.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[ar]=i}else co(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$t(i),y=!1}else Wn!==null&&(yd(Wn),Wn=null),y=!0;if(!y)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(st.current&1)!==0?At===0&&(At=3):wd())),i.updateQueue!==null&&(i.flags|=4),$t(i),null);case 4:return mo(),od(r,i),r===null&&Ea(i.stateNode.containerInfo),$t(i),null;case 10:return Dh(i.type._context),$t(i),null;case 17:return on(i.type)&&au(),$t(i),null;case 19:if(Je(st),y=i.memoizedState,y===null)return $t(i),null;if(h=(i.flags&128)!==0,E=y.rendering,E===null)if(h)ja(y,!1);else{if(At!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(E=vu(r),E!==null){for(i.flags|=128,ja(y,!1),h=E.updateQueue,h!==null&&(i.updateQueue=h,i.flags|=4),i.subtreeFlags=0,h=a,a=i.child;a!==null;)y=a,r=h,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Qe(st,st.current&1|2),i.child}r=r.sibling}y.tail!==null&&Ke()>_o&&(i.flags|=128,h=!0,ja(y,!1),i.lanes=4194304)}else{if(!h)if(r=vu(E),r!==null){if(i.flags|=128,h=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),ja(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!tt)return $t(i),null}else 2*Ke()-y.renderingStartTime>_o&&a!==1073741824&&(i.flags|=128,h=!0,ja(y,!1),i.lanes=4194304);y.isBackwards?(E.sibling=i.child,i.child=E):(a=y.last,a!==null?a.sibling=E:i.child=E,y.last=E)}return y.tail!==null?(i=y.tail,y.rendering=i,y.tail=i.sibling,y.renderingStartTime=Ke(),i.sibling=null,a=st.current,Qe(st,h?a&1|2:a&1),i):($t(i),null);case 22:case 23:return _d(),h=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(i.flags|=8192),h&&(i.mode&1)!==0?(_n&1073741824)!==0&&($t(i),i.subtreeFlags&6&&(i.flags|=8192)):$t(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function vT(r,i){switch(Ph(i),i.tag){case 1:return on(i.type)&&au(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return mo(),Je(sn),Je(Bt),Bh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return Fh(i),null;case 13:if(Je(st),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));co()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return Je(st),null;case 4:return mo(),null;case 10:return Dh(i.type._context),null;case 22:case 23:return _d(),null;case 24:return null;default:return null}}var Cu=!1,Ht=!1,_T=typeof WeakSet=="function"?WeakSet:Set,he=null;function yo(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){ut(r,i,h)}else a.current=null}function ad(r,i,a){try{a()}catch(h){ut(r,i,h)}}var Ug=!1;function wT(r,i){if(_h=Xr,r=vm(),hh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var p=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{a.nodeType,y.nodeType}catch{a=null;break e}var E=0,k=-1,D=-1,H=0,ee=0,te=r,Z=null;t:for(;;){for(var le;te!==a||p!==0&&te.nodeType!==3||(k=E+p),te!==y||h!==0&&te.nodeType!==3||(D=E+h),te.nodeType===3&&(E+=te.nodeValue.length),(le=te.firstChild)!==null;)Z=te,te=le;for(;;){if(te===r)break t;if(Z===a&&++H===p&&(k=E),Z===y&&++ee===h&&(D=E),(le=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=le}a=k===-1||D===-1?null:{start:k,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(wh={focusedElem:r,selectionRange:a},Xr=!1,he=i;he!==null;)if(i=he,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,he=r;else for(;he!==null;){i=he;try{var fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(fe!==null){var pe=fe.memoizedProps,ft=fe.memoizedState,B=i.stateNode,O=B.getSnapshotBeforeUpdate(i.elementType===i.type?pe:Gn(i.type,pe),ft);B.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=i.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){ut(i,i.return,ne)}if(r=i.sibling,r!==null){r.return=i.return,he=r;break}he=i.return}return fe=Ug,Ug=!1,fe}function Ma(r,i,a){var h=i.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&r)===r){var y=p.destroy;p.destroy=void 0,y!==void 0&&ad(i,a,y)}p=p.next}while(p!==h)}}function Pu(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==i)}}function ld(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Bg(r){var i=r.alternate;i!==null&&(r.alternate=null,Bg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[ar],delete i[Aa],delete i[Sh],delete i[nT],delete i[rT])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function zg(r){return r.tag===5||r.tag===3||r.tag===4}function $g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||zg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ud(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=iu));else if(h!==4&&(r=r.child,r!==null))for(ud(r,i,a),r=r.sibling;r!==null;)ud(r,i,a),r=r.sibling}function cd(r,i,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(cd(r,i,a),r=r.sibling;r!==null;)cd(r,i,a),r=r.sibling}var Mt=null,Kn=!1;function os(r,i,a){for(a=a.child;a!==null;)Hg(r,i,a),a=a.sibling}function Hg(r,i,a){if(fn&&typeof fn.onCommitFiberUnmount=="function")try{fn.onCommitFiberUnmount(Hs,a)}catch{}switch(a.tag){case 5:Ht||yo(a,i);case 6:var h=Mt,p=Kn;Mt=null,os(r,i,a),Mt=h,Kn=p,Mt!==null&&(Kn?(r=Mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Mt.removeChild(a.stateNode));break;case 18:Mt!==null&&(Kn?(r=Mt,a=a.stateNode,r.nodeType===8?Eh(r.parentNode,a):r.nodeType===1&&Eh(r,a),$n(r)):Eh(Mt,a.stateNode));break;case 4:h=Mt,p=Kn,Mt=a.stateNode.containerInfo,Kn=!0,os(r,i,a),Mt=h,Kn=p;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var y=p,E=y.destroy;y=y.tag,E!==void 0&&((y&2)!==0||(y&4)!==0)&&ad(a,i,E),p=p.next}while(p!==h)}os(r,i,a);break;case 1:if(!Ht&&(yo(a,i),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(k){ut(a,i,k)}os(r,i,a);break;case 21:os(r,i,a);break;case 22:a.mode&1?(Ht=(h=Ht)||a.memoizedState!==null,os(r,i,a),Ht=h):os(r,i,a);break;default:os(r,i,a)}}function qg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new _T),i.forEach(function(h){var p=kT.bind(null,r,h);a.has(h)||(a.add(h),h.then(p,p))})}}function Qn(r,i){var a=i.deletions;if(a!==null)for(var h=0;h<a.length;h++){var p=a[h];try{var y=r,E=i,k=E;e:for(;k!==null;){switch(k.tag){case 5:Mt=k.stateNode,Kn=!1;break e;case 3:Mt=k.stateNode.containerInfo,Kn=!0;break e;case 4:Mt=k.stateNode.containerInfo,Kn=!0;break e}k=k.return}if(Mt===null)throw Error(t(160));Hg(y,E,p),Mt=null,Kn=!1;var D=p.alternate;D!==null&&(D.return=null),p.return=null}catch(H){ut(p,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Wg(i,r),i=i.sibling}function Wg(r,i){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(i,r),cr(r),h&4){try{Ma(3,r,r.return),Pu(3,r)}catch(pe){ut(r,r.return,pe)}try{Ma(5,r,r.return)}catch(pe){ut(r,r.return,pe)}}break;case 1:Qn(i,r),cr(r),h&512&&a!==null&&yo(a,a.return);break;case 5:if(Qn(i,r),cr(r),h&512&&a!==null&&yo(a,a.return),r.flags&32){var p=r.stateNode;try{$r(p,"")}catch(pe){ut(r,r.return,pe)}}if(h&4&&(p=r.stateNode,p!=null)){var y=r.memoizedProps,E=a!==null?a.memoizedProps:y,k=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Go(p,y),na(k,E);var H=na(k,y);for(E=0;E<D.length;E+=2){var ee=D[E],te=D[E+1];ee==="style"?Zo(p,te):ee==="dangerouslySetInnerHTML"?Xo(p,te):ee==="children"?$r(p,te):$(p,ee,te,H)}switch(k){case"input":Ko(p,y);break;case"textarea":bi(p,y);break;case"select":var Z=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?vr(p,!!y.multiple,le,!1):Z!==!!y.multiple&&(y.defaultValue!=null?vr(p,!!y.multiple,y.defaultValue,!0):vr(p,!!y.multiple,y.multiple?[]:"",!1))}p[Aa]=y}catch(pe){ut(r,r.return,pe)}}break;case 6:if(Qn(i,r),cr(r),h&4){if(r.stateNode===null)throw Error(t(162));p=r.stateNode,y=r.memoizedProps;try{p.nodeValue=y}catch(pe){ut(r,r.return,pe)}}break;case 3:if(Qn(i,r),cr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{$n(i.containerInfo)}catch(pe){ut(r,r.return,pe)}break;case 4:Qn(i,r),cr(r);break;case 13:Qn(i,r),cr(r),p=r.child,p.flags&8192&&(y=p.memoizedState!==null,p.stateNode.isHidden=y,!y||p.alternate!==null&&p.alternate.memoizedState!==null||(fd=Ke())),h&4&&qg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(Ht=(H=Ht)||ee,Qn(i,r),Ht=H):Qn(i,r),cr(r),h&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ee&&(r.mode&1)!==0)for(he=r,ee=r.child;ee!==null;){for(te=he=ee;he!==null;){switch(Z=he,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:Ma(4,Z,Z.return);break;case 1:yo(Z,Z.return);var fe=Z.stateNode;if(typeof fe.componentWillUnmount=="function"){h=Z,a=Z.return;try{i=h,fe.props=i.memoizedProps,fe.state=i.memoizedState,fe.componentWillUnmount()}catch(pe){ut(h,a,pe)}}break;case 5:yo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Qg(te);continue}}le!==null?(le.return=Z,he=le):Qg(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{p=te.stateNode,H?(y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=te.stateNode,D=te.memoizedProps.style,E=D!=null&&D.hasOwnProperty("display")?D.display:null,k.style.display=Jo("display",E))}catch(pe){ut(r,r.return,pe)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(pe){ut(r,r.return,pe)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Qn(i,r),cr(r),h&4&&qg(r);break;case 21:break;default:Qn(i,r),cr(r)}}function cr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(zg(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&($r(p,""),h.flags&=-33);var y=$g(r);cd(r,y,p);break;case 3:case 4:var E=h.stateNode.containerInfo,k=$g(r);ud(r,k,E);break;default:throw Error(t(161))}}catch(D){ut(r,r.return,D)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function xT(r,i,a){he=r,Gg(r)}function Gg(r,i,a){for(var h=(r.mode&1)!==0;he!==null;){var p=he,y=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||Cu;if(!E){var k=p.alternate,D=k!==null&&k.memoizedState!==null||Ht;k=Cu;var H=Ht;if(Cu=E,(Ht=D)&&!H)for(he=p;he!==null;)E=he,D=E.child,E.tag===22&&E.memoizedState!==null?Yg(p):D!==null?(D.return=E,he=D):Yg(p);for(;y!==null;)he=y,Gg(y),y=y.sibling;he=p,Cu=k,Ht=H}Kg(r)}else(p.subtreeFlags&8772)!==0&&y!==null?(y.return=p,he=y):Kg(r)}}function Kg(r){for(;he!==null;){var i=he;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ht||Pu(5,i);break;case 1:var h=i.stateNode;if(i.flags&4&&!Ht)if(a===null)h.componentDidMount();else{var p=i.elementType===i.type?a.memoizedProps:Gn(i.type,a.memoizedProps);h.componentDidUpdate(p,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=i.updateQueue;y!==null&&Qm(i,y,h);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Qm(i,E,a)}break;case 5:var k=i.stateNode;if(a===null&&i.flags&4){a=k;var D=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var ee=H.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&$n(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||i.flags&512&&ld(i)}catch(Z){ut(i,i.return,Z)}}if(i===r){he=null;break}if(a=i.sibling,a!==null){a.return=i.return,he=a;break}he=i.return}}function Qg(r){for(;he!==null;){var i=he;if(i===r){he=null;break}var a=i.sibling;if(a!==null){a.return=i.return,he=a;break}he=i.return}}function Yg(r){for(;he!==null;){var i=he;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Pu(4,i)}catch(D){ut(i,a,D)}break;case 1:var h=i.stateNode;if(typeof h.componentDidMount=="function"){var p=i.return;try{h.componentDidMount()}catch(D){ut(i,p,D)}}var y=i.return;try{ld(i)}catch(D){ut(i,y,D)}break;case 5:var E=i.return;try{ld(i)}catch(D){ut(i,E,D)}}}catch(D){ut(i,i.return,D)}if(i===r){he=null;break}var k=i.sibling;if(k!==null){k.return=i.return,he=k;break}he=i.return}}var TT=Math.ceil,ku=Q.ReactCurrentDispatcher,hd=Q.ReactCurrentOwner,Nn=Q.ReactCurrentBatchConfig,Be=0,Rt=null,yt=null,Lt=0,_n=0,vo=ts(0),At=0,La=null,si=0,Ru=0,dd=0,Oa=null,ln=null,fd=0,_o=1/0,Vr=null,Nu=!1,pd=null,as=null,bu=!1,ls=null,Vu=0,Fa=0,md=null,Du=-1,ju=0;function Jt(){return(Be&6)!==0?Ke():Du!==-1?Du:Du=Ke()}function us(r){return(r.mode&1)===0?1:(Be&2)!==0&&Lt!==0?Lt&-Lt:iT.transition!==null?(ju===0&&(ju=Ws()),ju):(r=De,r!==0||(r=window.event,r=r===void 0?16:fa(r.type)),r)}function Yn(r,i,a,h){if(50<Fa)throw Fa=0,md=null,Error(t(185));Gr(r,a,h),((Be&2)===0||r!==Rt)&&(r===Rt&&((Be&2)===0&&(Ru|=a),At===4&&cs(r,Lt)),un(r,h),a===1&&Be===0&&(i.mode&1)===0&&(_o=Ke()+500,uu&&rs()))}function un(r,i){var a=r.callbackNode;xr(r,i);var h=qs(r,r===Rt?Lt:0);if(h===0)a!==null&&la(a),r.callbackNode=null,r.callbackPriority=0;else if(i=h&-h,r.callbackPriority!==i){if(a!=null&&la(a),i===1)r.tag===0?sT(Jg.bind(null,r)):Lm(Jg.bind(null,r)),eT(function(){(Be&6)===0&&rs()}),a=null;else{switch(Qr(h)){case 1:a=$s;break;case 4:a=Hr;break;case 16:a=Sn;break;case 536870912:a=jl;break;default:a=Sn}a=oy(a,Xg.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Xg(r,i){if(Du=-1,ju=0,(Be&6)!==0)throw Error(t(327));var a=r.callbackNode;if(wo()&&r.callbackNode!==a)return null;var h=qs(r,r===Rt?Lt:0);if(h===0)return null;if((h&30)!==0||(h&r.expiredLanes)!==0||i)i=Mu(r,h);else{i=h;var p=Be;Be|=2;var y=ey();(Rt!==r||Lt!==i)&&(Vr=null,_o=Ke()+500,oi(r,i));do try{AT();break}catch(k){Zg(r,k)}while(!0);Vh(),ku.current=y,Be=p,yt!==null?i=0:(Rt=null,Lt=0,i=At)}if(i!==0){if(i===2&&(p=pn(r),p!==0&&(h=p,i=gd(r,p))),i===1)throw a=La,oi(r,0),cs(r,h),un(r,Ke()),a;if(i===6)cs(r,h);else{if(p=r.current.alternate,(h&30)===0&&!ET(p)&&(i=Mu(r,h),i===2&&(y=pn(r),y!==0&&(h=y,i=gd(r,y))),i===1))throw a=La,oi(r,0),cs(r,h),un(r,Ke()),a;switch(r.finishedWork=p,r.finishedLanes=h,i){case 0:case 1:throw Error(t(345));case 2:ai(r,ln,Vr);break;case 3:if(cs(r,h),(h&130023424)===h&&(i=fd+500-Ke(),10<i)){if(qs(r,0)!==0)break;if(p=r.suspendedLanes,(p&h)!==h){Jt(),r.pingedLanes|=r.suspendedLanes&p;break}r.timeoutHandle=Th(ai.bind(null,r,ln,Vr),i);break}ai(r,ln,Vr);break;case 4:if(cs(r,h),(h&4194240)===h)break;for(i=r.eventTimes,p=-1;0<h;){var E=31-Qt(h);y=1<<E,E=i[E],E>p&&(p=E),h&=~y}if(h=p,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*TT(h/1960))-h,10<h){r.timeoutHandle=Th(ai.bind(null,r,ln,Vr),h);break}ai(r,ln,Vr);break;case 5:ai(r,ln,Vr);break;default:throw Error(t(329))}}}return un(r,Ke()),r.callbackNode===a?Xg.bind(null,r):null}function gd(r,i){var a=Oa;return r.current.memoizedState.isDehydrated&&(oi(r,i).flags|=256),r=Mu(r,i),r!==2&&(i=ln,ln=a,i!==null&&yd(i)),r}function yd(r){ln===null?ln=r:ln.push.apply(ln,r)}function ET(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var p=a[h],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function cs(r,i){for(i&=~dd,i&=~Ru,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Qt(i),h=1<<a;r[a]=-1,i&=~h}}function Jg(r){if((Be&6)!==0)throw Error(t(327));wo();var i=qs(r,0);if((i&1)===0)return un(r,Ke()),null;var a=Mu(r,i);if(r.tag!==0&&a===2){var h=pn(r);h!==0&&(i=h,a=gd(r,h))}if(a===1)throw a=La,oi(r,0),cs(r,i),un(r,Ke()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,ai(r,ln,Vr),un(r,Ke()),null}function vd(r,i){var a=Be;Be|=1;try{return r(i)}finally{Be=a,Be===0&&(_o=Ke()+500,uu&&rs())}}function ii(r){ls!==null&&ls.tag===0&&(Be&6)===0&&wo();var i=Be;Be|=1;var a=Nn.transition,h=De;try{if(Nn.transition=null,De=1,r)return r()}finally{De=h,Nn.transition=a,Be=i,(Be&6)===0&&rs()}}function _d(){_n=vo.current,Je(vo)}function oi(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Zx(a)),yt!==null)for(a=yt.return;a!==null;){var h=a;switch(Ph(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&au();break;case 3:mo(),Je(sn),Je(Bt),Bh();break;case 5:Fh(h);break;case 4:mo();break;case 13:Je(st);break;case 19:Je(st);break;case 10:Dh(h.type._context);break;case 22:case 23:_d()}a=a.return}if(Rt=r,yt=r=hs(r.current,null),Lt=_n=i,At=0,La=null,dd=Ru=si=0,ln=Oa=null,ti!==null){for(i=0;i<ti.length;i++)if(a=ti[i],h=a.interleaved,h!==null){a.interleaved=null;var p=h.next,y=a.pending;if(y!==null){var E=y.next;y.next=p,h.next=E}a.pending=h}ti=null}return r}function Zg(r,i){do{var a=yt;try{if(Vh(),_u.current=Eu,wu){for(var h=it.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}wu=!1}if(ri=0,kt=St=it=null,Na=!1,ba=0,hd.current=null,a===null||a.return===null){At=1,La=i,yt=null;break}e:{var y=r,E=a.return,k=a,D=i;if(i=Lt,k.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var H=D,ee=k,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=Sg(E);if(le!==null){le.flags&=-257,Ag(le,E,k,y,i),le.mode&1&&Eg(y,H,i),i=le,D=H;var fe=i.updateQueue;if(fe===null){var pe=new Set;pe.add(D),i.updateQueue=pe}else fe.add(D);break e}else{if((i&1)===0){Eg(y,H,i),wd();break e}D=Error(t(426))}}else if(tt&&k.mode&1){var ft=Sg(E);if(ft!==null){(ft.flags&65536)===0&&(ft.flags|=256),Ag(ft,E,k,y,i),Nh(go(D,k));break e}}y=D=go(D,k),At!==4&&(At=2),Oa===null?Oa=[y]:Oa.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,i&=-i,y.lanes|=i;var B=xg(y,D,i);Km(y,B);break e;case 1:k=D;var O=y.type,z=y.stateNode;if((y.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(as===null||!as.has(z)))){y.flags|=65536,i&=-i,y.lanes|=i;var ne=Tg(y,k,i);Km(y,ne);break e}}y=y.return}while(y!==null)}ny(a)}catch(ge){i=ge,yt===a&&a!==null&&(yt=a=a.return);continue}break}while(!0)}function ey(){var r=ku.current;return ku.current=Eu,r===null?Eu:r}function wd(){(At===0||At===3||At===2)&&(At=4),Rt===null||(si&268435455)===0&&(Ru&268435455)===0||cs(Rt,Lt)}function Mu(r,i){var a=Be;Be|=2;var h=ey();(Rt!==r||Lt!==i)&&(Vr=null,oi(r,i));do try{ST();break}catch(p){Zg(r,p)}while(!0);if(Vh(),Be=a,ku.current=h,yt!==null)throw Error(t(261));return Rt=null,Lt=0,At}function ST(){for(;yt!==null;)ty(yt)}function AT(){for(;yt!==null&&!Vl();)ty(yt)}function ty(r){var i=iy(r.alternate,r,_n);r.memoizedProps=r.pendingProps,i===null?ny(r):yt=i,hd.current=null}function ny(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=yT(a,i,_n),a!==null){yt=a;return}}else{if(a=vT(a,i),a!==null){a.flags&=32767,yt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{At=6,yt=null;return}}if(i=i.sibling,i!==null){yt=i;return}yt=i=r}while(i!==null);At===0&&(At=5)}function ai(r,i,a){var h=De,p=Nn.transition;try{Nn.transition=null,De=1,IT(r,i,a,h)}finally{Nn.transition=p,De=h}return null}function IT(r,i,a,h){do wo();while(ls!==null);if((Be&6)!==0)throw Error(t(327));a=r.finishedWork;var p=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var y=a.lanes|a.childLanes;if(Ge(r,y),r===Rt&&(yt=Rt=null,Lt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||bu||(bu=!0,oy(Sn,function(){return wo(),null})),y=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||y){y=Nn.transition,Nn.transition=null;var E=De;De=1;var k=Be;Be|=4,hd.current=null,wT(r,a),Wg(a,r),Wx(wh),Xr=!!_h,wh=_h=null,r.current=a,xT(a),rh(),Be=k,De=E,Nn.transition=y}else r.current=a;if(bu&&(bu=!1,ls=r,Vu=p),y=r.pendingLanes,y===0&&(as=null),Ml(a.stateNode),un(r,Ke()),i!==null)for(h=r.onRecoverableError,a=0;a<i.length;a++)p=i[a],h(p.value,{componentStack:p.stack,digest:p.digest});if(Nu)throw Nu=!1,r=pd,pd=null,r;return(Vu&1)!==0&&r.tag!==0&&wo(),y=r.pendingLanes,(y&1)!==0?r===md?Fa++:(Fa=0,md=r):Fa=0,rs(),null}function wo(){if(ls!==null){var r=Qr(Vu),i=Nn.transition,a=De;try{if(Nn.transition=null,De=16>r?16:r,ls===null)var h=!1;else{if(r=ls,ls=null,Vu=0,(Be&6)!==0)throw Error(t(331));var p=Be;for(Be|=4,he=r.current;he!==null;){var y=he,E=y.child;if((he.flags&16)!==0){var k=y.deletions;if(k!==null){for(var D=0;D<k.length;D++){var H=k[D];for(he=H;he!==null;){var ee=he;switch(ee.tag){case 0:case 11:case 15:Ma(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,he=te;else for(;he!==null;){ee=he;var Z=ee.sibling,le=ee.return;if(Bg(ee),ee===H){he=null;break}if(Z!==null){Z.return=le,he=Z;break}he=le}}}var fe=y.alternate;if(fe!==null){var pe=fe.child;if(pe!==null){fe.child=null;do{var ft=pe.sibling;pe.sibling=null,pe=ft}while(pe!==null)}}he=y}}if((y.subtreeFlags&2064)!==0&&E!==null)E.return=y,he=E;else e:for(;he!==null;){if(y=he,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:Ma(9,y,y.return)}var B=y.sibling;if(B!==null){B.return=y.return,he=B;break e}he=y.return}}var O=r.current;for(he=O;he!==null;){E=he;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,he=z;else e:for(E=O;he!==null;){if(k=he,(k.flags&2048)!==0)try{switch(k.tag){case 0:case 11:case 15:Pu(9,k)}}catch(ge){ut(k,k.return,ge)}if(k===E){he=null;break e}var ne=k.sibling;if(ne!==null){ne.return=k.return,he=ne;break e}he=k.return}}if(Be=p,rs(),fn&&typeof fn.onPostCommitFiberRoot=="function")try{fn.onPostCommitFiberRoot(Hs,r)}catch{}h=!0}return h}finally{De=a,Nn.transition=i}}return!1}function ry(r,i,a){i=go(a,i),i=xg(r,i,1),r=is(r,i,1),i=Jt(),r!==null&&(Gr(r,1,i),un(r,i))}function ut(r,i,a){if(r.tag===3)ry(r,r,a);else for(;i!==null;){if(i.tag===3){ry(i,r,a);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(as===null||!as.has(h))){r=go(a,r),r=Tg(i,r,1),i=is(i,r,1),r=Jt(),i!==null&&(Gr(i,1,r),un(i,r));break}}i=i.return}}function CT(r,i,a){var h=r.pingCache;h!==null&&h.delete(i),i=Jt(),r.pingedLanes|=r.suspendedLanes&a,Rt===r&&(Lt&a)===a&&(At===4||At===3&&(Lt&130023424)===Lt&&500>Ke()-fd?oi(r,0):dd|=a),un(r,i)}function sy(r,i){i===0&&((r.mode&1)===0?i=1:(i=zi,zi<<=1,(zi&130023424)===0&&(zi=4194304)));var a=Jt();r=Rr(r,i),r!==null&&(Gr(r,i,a),un(r,a))}function PT(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),sy(r,a)}function kT(r,i){var a=0;switch(r.tag){case 13:var h=r.stateNode,p=r.memoizedState;p!==null&&(a=p.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(i),sy(r,a)}var iy;iy=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||sn.current)an=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return an=!1,gT(r,i,a);an=(r.flags&131072)!==0}else an=!1,tt&&(i.flags&1048576)!==0&&Om(i,hu,i.index);switch(i.lanes=0,i.tag){case 2:var h=i.type;Iu(r,i),r=i.pendingProps;var p=ao(i,Bt.current);po(i,a),p=Hh(null,i,h,r,p,a);var y=qh();return i.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,on(h)?(y=!0,lu(i)):y=!1,i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Lh(i),p.updater=Su,i.stateNode=p,p._reactInternals=i,Xh(i,h,r,a),i=td(null,i,h,!0,y,a)):(i.tag=0,tt&&y&&Ch(i),Xt(null,i,p,a),i=i.child),i;case 16:h=i.elementType;e:{switch(Iu(r,i),r=i.pendingProps,p=h._init,h=p(h._payload),i.type=h,p=i.tag=NT(h),r=Gn(h,r),p){case 0:i=ed(null,i,h,r,a);break e;case 1:i=Ng(null,i,h,r,a);break e;case 11:i=Ig(null,i,h,r,a);break e;case 14:i=Cg(null,i,h,Gn(h.type,r),a);break e}throw Error(t(306,h,""))}return i;case 0:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Gn(h,p),ed(r,i,h,p,a);case 1:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Gn(h,p),Ng(r,i,h,p,a);case 3:e:{if(bg(i),r===null)throw Error(t(387));h=i.pendingProps,y=i.memoizedState,p=y.element,Gm(r,i),yu(i,h,null,a);var E=i.memoizedState;if(h=E.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=y,i.memoizedState=y,i.flags&256){p=go(Error(t(423)),i),i=Vg(r,i,h,a,p);break e}else if(h!==p){p=go(Error(t(424)),i),i=Vg(r,i,h,a,p);break e}else for(vn=es(i.stateNode.containerInfo.firstChild),yn=i,tt=!0,Wn=null,a=qm(i,null,h,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(co(),h===p){i=br(r,i,a);break e}Xt(r,i,h,a)}i=i.child}return i;case 5:return Ym(i),r===null&&Rh(i),h=i.type,p=i.pendingProps,y=r!==null?r.memoizedProps:null,E=p.children,xh(h,p)?E=null:y!==null&&xh(h,y)&&(i.flags|=32),Rg(r,i),Xt(r,i,E,a),i.child;case 6:return r===null&&Rh(i),null;case 13:return Dg(r,i,a);case 4:return Oh(i,i.stateNode.containerInfo),h=i.pendingProps,r===null?i.child=ho(i,null,h,a):Xt(r,i,h,a),i.child;case 11:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Gn(h,p),Ig(r,i,h,p,a);case 7:return Xt(r,i,i.pendingProps,a),i.child;case 8:return Xt(r,i,i.pendingProps.children,a),i.child;case 12:return Xt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(h=i.type._context,p=i.pendingProps,y=i.memoizedProps,E=p.value,Qe(pu,h._currentValue),h._currentValue=E,y!==null)if(qn(y.value,E)){if(y.children===p.children&&!sn.current){i=br(r,i,a);break e}}else for(y=i.child,y!==null&&(y.return=i);y!==null;){var k=y.dependencies;if(k!==null){E=y.child;for(var D=k.firstContext;D!==null;){if(D.context===h){if(y.tag===1){D=Nr(-1,a&-a),D.tag=2;var H=y.updateQueue;if(H!==null){H=H.shared;var ee=H.pending;ee===null?D.next=D:(D.next=ee.next,ee.next=D),H.pending=D}}y.lanes|=a,D=y.alternate,D!==null&&(D.lanes|=a),jh(y.return,a,i),k.lanes|=a;break}D=D.next}}else if(y.tag===10)E=y.type===i.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(t(341));E.lanes|=a,k=E.alternate,k!==null&&(k.lanes|=a),jh(E,a,i),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===i){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Xt(r,i,p.children,a),i=i.child}return i;case 9:return p=i.type,h=i.pendingProps.children,po(i,a),p=kn(p),h=h(p),i.flags|=1,Xt(r,i,h,a),i.child;case 14:return h=i.type,p=Gn(h,i.pendingProps),p=Gn(h.type,p),Cg(r,i,h,p,a);case 15:return Pg(r,i,i.type,i.pendingProps,a);case 17:return h=i.type,p=i.pendingProps,p=i.elementType===h?p:Gn(h,p),Iu(r,i),i.tag=1,on(h)?(r=!0,lu(i)):r=!1,po(i,a),_g(i,h,p),Xh(i,h,p,a),td(null,i,h,!0,r,a);case 19:return Mg(r,i,a);case 22:return kg(r,i,a)}throw Error(t(156,i.tag))};function oy(r,i){return Ui(r,i)}function RT(r,i,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,i,a,h){return new RT(r,i,a,h)}function xd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function NT(r){if(typeof r=="function")return xd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===nt)return 14}return 2}function hs(r,i){var a=r.alternate;return a===null?(a=bn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Lu(r,i,a,h,p,y){var E=2;if(h=r,typeof r=="function")xd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case P:return li(a.children,p,y,i);case I:E=8,p|=8;break;case C:return r=bn(12,a,i,p|2),r.elementType=C,r.lanes=y,r;case R:return r=bn(13,a,i,p),r.elementType=R,r.lanes=y,r;case Ne:return r=bn(19,a,i,p),r.elementType=Ne,r.lanes=y,r;case be:return Ou(a,p,y,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case b:E=10;break e;case j:E=9;break e;case F:E=11;break e;case nt:E=14;break e;case je:E=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=bn(E,a,i,p),i.elementType=r,i.type=h,i.lanes=y,i}function li(r,i,a,h){return r=bn(7,r,h,i),r.lanes=a,r}function Ou(r,i,a,h){return r=bn(22,r,h,i),r.elementType=be,r.lanes=a,r.stateNode={isHidden:!1},r}function Td(r,i,a){return r=bn(6,r,null,i),r.lanes=a,r}function Ed(r,i,a){return i=bn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function bT(r,i,a,h,p){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wr(0),this.expirationTimes=Wr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wr(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Sd(r,i,a,h,p,y,E,k,D){return r=new bT(r,i,a,k,D),i===1?(i=1,y===!0&&(i|=8)):i=0,y=bn(3,null,null,i),r.current=y,y.stateNode=r,y.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lh(y),r}function VT(r,i,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:oe,key:h==null?null:""+h,children:r,containerInfo:i,implementation:a}}function ay(r){if(!r)return ns;r=r._reactInternals;e:{if(On(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(on(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return jm(r,a,i)}return i}function ly(r,i,a,h,p,y,E,k,D){return r=Sd(a,h,!0,r,p,y,E,k,D),r.context=ay(null),a=r.current,h=Jt(),p=us(a),y=Nr(h,p),y.callback=i??null,is(a,y,p),r.current.lanes=p,Gr(r,p,h),un(r,h),r}function Fu(r,i,a,h){var p=i.current,y=Jt(),E=us(p);return a=ay(a),i.context===null?i.context=a:i.pendingContext=a,i=Nr(y,E),i.payload={element:r},h=h===void 0?null:h,h!==null&&(i.callback=h),r=is(p,i,E),r!==null&&(Yn(r,p,E,y),gu(r,p,E)),E}function Uu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function uy(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Ad(r,i){uy(r,i),(r=r.alternate)&&uy(r,i)}function DT(){return null}var cy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Id(r){this._internalRoot=r}Bu.prototype.render=Id.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));Fu(r,i,null,null)},Bu.prototype.unmount=Id.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;ii(function(){Fu(null,r,null,null)}),i[Ir]=null}};function Bu(r){this._internalRoot=r}Bu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Bl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<rr.length&&i!==0&&i<rr[a].priority;a++);rr.splice(a,0,r),a===0&&Hl(r)}};function Cd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function hy(){}function jT(r,i,a,h,p){if(p){if(typeof h=="function"){var y=h;h=function(){var H=Uu(E);y.call(H)}}var E=ly(i,h,r,0,null,!1,!1,"",hy);return r._reactRootContainer=E,r[Ir]=E.current,Ea(r.nodeType===8?r.parentNode:r),ii(),E}for(;p=r.lastChild;)r.removeChild(p);if(typeof h=="function"){var k=h;h=function(){var H=Uu(D);k.call(H)}}var D=Sd(r,0,!1,null,null,!1,!1,"",hy);return r._reactRootContainer=D,r[Ir]=D.current,Ea(r.nodeType===8?r.parentNode:r),ii(function(){Fu(i,D,a,h)}),D}function $u(r,i,a,h,p){var y=a._reactRootContainer;if(y){var E=y;if(typeof p=="function"){var k=p;p=function(){var D=Uu(E);k.call(D)}}Fu(i,E,r,p)}else E=jT(a,i,r,p,h);return Uu(E)}Fl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=qr(i.pendingLanes);a!==0&&(Kr(i,a|1),un(i,Ke()),(Be&6)===0&&(_o=Ke()+500,rs()))}break;case 13:ii(function(){var h=Rr(r,1);if(h!==null){var p=Jt();Yn(h,r,1,p)}}),Ad(r,1)}},$i=function(r){if(r.tag===13){var i=Rr(r,134217728);if(i!==null){var a=Jt();Yn(i,r,134217728,a)}Ad(r,134217728)}},Ul=function(r){if(r.tag===13){var i=us(r),a=Rr(r,i);if(a!==null){var h=Jt();Yn(a,r,i,h)}Ad(r,i)}},Bl=function(){return De},zl=function(r,i){var a=De;try{return De=r,i()}finally{De=a}},Di=function(r,i,a){switch(i){case"input":if(Ko(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var h=a[i];if(h!==r&&h.form===r.form){var p=ou(h);if(!p)throw Error(t(90));Ds(h),Ko(h,p)}}}break;case"textarea":bi(r,a);break;case"select":i=a.value,i!=null&&vr(r,!!a.multiple,i,!1)}},Fs=vd,sa=ii;var MT={usingClientEntryPoint:!1,Events:[Ia,io,ou,tr,ra,vd]},Ua={findFiberByHostInstance:Xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},LT={bundleType:Ua.bundleType,version:Ua.version,rendererPackageName:Ua.rendererPackageName,rendererConfig:Ua.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Q.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=aa(r),r===null?null:r.stateNode},findFiberByHostInstance:Ua.findFiberByHostInstance||DT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Hs=Hu.inject(LT),fn=Hu}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MT,cn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cd(i))throw Error(t(200));return VT(r,i,null,a)},cn.createRoot=function(r,i){if(!Cd(r))throw Error(t(299));var a=!1,h="",p=cy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(p=i.onRecoverableError)),i=Sd(r,1,!1,null,null,a,!1,h,p),r[Ir]=i.current,Ea(r.nodeType===8?r.parentNode:r),new Id(i)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=aa(i),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return ii(r)},cn.hydrate=function(r,i,a){if(!zu(i))throw Error(t(200));return $u(null,r,i,!0,a)},cn.hydrateRoot=function(r,i,a){if(!Cd(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,p=!1,y="",E=cy;if(a!=null&&(a.unstable_strictMode===!0&&(p=!0),a.identifierPrefix!==void 0&&(y=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=ly(i,null,r,1,a??null,p,!1,y,E),r[Ir]=i.current,Ea(r),h)for(r=0;r<h.length;r++)a=h[r],p=a._getVersion,p=p(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,p]:i.mutableSourceEagerHydrationData.push(a,p);return new Bu(i)},cn.render=function(r,i,a){if(!zu(i))throw Error(t(200));return $u(null,r,i,!1,a)},cn.unmountComponentAtNode=function(r){if(!zu(r))throw Error(t(40));return r._reactRootContainer?(ii(function(){$u(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},cn.unstable_batchedUpdates=vd,cn.unstable_renderSubtreeIntoContainer=function(r,i,a,h){if(!zu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return $u(r,i,a,!1,h)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var _y;function WT(){if(_y)return Rd.exports;_y=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rd.exports=qT(),Rd.exports}var wy;function GT(){if(wy)return qu;wy=1;var n=WT();return qu.createRoot=n.createRoot,qu.hydrateRoot=n.hydrateRoot,qu}var KT=GT();const zv=q.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"}),jc=q.createContext({}),Mc=q.createContext(null),Lc=typeof document<"u",Bf=Lc?q.useLayoutEffect:q.useEffect,$v=q.createContext({strict:!1}),zf=n=>n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),QT="framerAppearId",Hv="data-"+zf(QT);function YT(n,e,t,s){const{visualElement:o}=q.useContext(jc),l=q.useContext($v),u=q.useContext(Mc),d=q.useContext(zv).reducedMotion,f=q.useRef();s=s||l.renderer,!f.current&&s&&(f.current=s(n,{visualState:e,parent:o,props:t,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const m=f.current;q.useInsertionEffect(()=>{m&&m.update(t,u)});const _=q.useRef(!!(t[Hv]&&!window.HandoffComplete));return Bf(()=>{m&&(m.render(),_.current&&m.animationState&&m.animationState.animateChanges())}),q.useEffect(()=>{m&&(m.updateFeatures(),!_.current&&m.animationState&&m.animationState.animateChanges(),_.current&&(_.current=!1,window.HandoffComplete=!0))}),m}function Ao(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function XT(n,e,t){return q.useCallback(s=>{s&&n.mount&&n.mount(s),e&&(s?e.mount(s):e.unmount()),t&&(typeof t=="function"?t(s):Ao(t)&&(t.current=s))},[e])}function ol(n){return typeof n=="string"||Array.isArray(n)}function Oc(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const $f=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hf=["initial",...$f];function Fc(n){return Oc(n.animate)||Hf.some(e=>ol(n[e]))}function qv(n){return!!(Fc(n)||n.variants)}function JT(n,e){if(Fc(n)){const{initial:t,animate:s}=n;return{initial:t===!1||ol(t)?t:void 0,animate:ol(s)?s:void 0}}return n.inherit!==!1?e:{}}function ZT(n){const{initial:e,animate:t}=JT(n,q.useContext(jc));return q.useMemo(()=>({initial:e,animate:t}),[xy(e),xy(t)])}function xy(n){return Array.isArray(n)?n.join(" "):n}const Ty={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},al={};for(const n in Ty)al[n]={isEnabled:e=>Ty[n].some(t=>!!e[t])};function eE(n){for(const e in n)al[e]={...al[e],...n[e]}}const qf=q.createContext({}),Wv=q.createContext({}),tE=Symbol.for("motionComponentSymbol");function nE({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:s,Component:o}){n&&eE(n);function l(d,f){let m;const _={...q.useContext(zv),...d,layoutId:rE(d)},{isStatic:w}=_,T=ZT(d),S=s(d,w);if(!w&&Lc){T.visualElement=YT(o,S,_,e);const V=q.useContext(Wv),N=q.useContext($v).strict;T.visualElement&&(m=T.visualElement.loadFeatures(_,N,n,V))}return q.createElement(jc.Provider,{value:T},m&&T.visualElement?q.createElement(m,{visualElement:T.visualElement,..._}):null,t(o,d,XT(S,T.visualElement,f),S,w,T.visualElement))}const u=q.forwardRef(l);return u[tE]=o,u}function rE({layoutId:n}){const e=q.useContext(qf).id;return e&&n!==void 0?e+"-"+n:n}function sE(n){function e(s,o={}){return nE(n(s,o))}if(typeof Proxy>"u")return e;const t=new Map;return new Proxy(e,{get:(s,o)=>(t.has(o)||t.set(o,e(o)),t.get(o))})}const iE=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wf(n){return typeof n!="string"||n.includes("-")?!1:!!(iE.indexOf(n)>-1||/[A-Z]/.test(n))}const hc={};function oE(n){Object.assign(hc,n)}const xl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ti=new Set(xl);function Gv(n,{layout:e,layoutId:t}){return Ti.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!hc[n]||n==="opacity")}const dn=n=>!!(n&&n.getVelocity),aE={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lE=xl.length;function uE(n,{enableHardwareAcceleration:e=!0,allowTransformNone:t=!0},s,o){let l="";for(let u=0;u<lE;u++){const d=xl[u];if(n[d]!==void 0){const f=aE[d]||d;l+=`${f}(${n[d]}) `}}return e&&!n.z&&(l+="translateZ(0)"),l=l.trim(),o?l=o(n,s?"":l):t&&s&&(l="none"),l}const Kv=n=>e=>typeof e=="string"&&e.startsWith(n),Qv=Kv("--"),tf=Kv("var(--"),cE=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,hE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Ss=(n,e,t)=>Math.min(Math.max(t,n),e),Ei={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},Ya={...Ei,transform:n=>Ss(0,1,n)},Wu={...Ei,default:1},Xa=n=>Math.round(n*1e5)/1e5,Uc=/(-)?([\d]*\.?[\d])+/g,Yv=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,dE=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Tl(n){return typeof n=="string"}const El=n=>({test:e=>Tl(e)&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),fs=El("deg"),fr=El("%"),xe=El("px"),fE=El("vh"),pE=El("vw"),Ey={...fr,parse:n=>fr.parse(n)/100,transform:n=>fr.transform(n*100)},Sy={...Ei,transform:Math.round},Xv={borderWidth:xe,borderTopWidth:xe,borderRightWidth:xe,borderBottomWidth:xe,borderLeftWidth:xe,borderRadius:xe,radius:xe,borderTopLeftRadius:xe,borderTopRightRadius:xe,borderBottomRightRadius:xe,borderBottomLeftRadius:xe,width:xe,maxWidth:xe,height:xe,maxHeight:xe,size:xe,top:xe,right:xe,bottom:xe,left:xe,padding:xe,paddingTop:xe,paddingRight:xe,paddingBottom:xe,paddingLeft:xe,margin:xe,marginTop:xe,marginRight:xe,marginBottom:xe,marginLeft:xe,rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:Wu,scaleX:Wu,scaleY:Wu,scaleZ:Wu,skew:fs,skewX:fs,skewY:fs,distance:xe,translateX:xe,translateY:xe,translateZ:xe,x:xe,y:xe,z:xe,perspective:xe,transformPerspective:xe,opacity:Ya,originX:Ey,originY:Ey,originZ:xe,zIndex:Sy,fillOpacity:Ya,strokeOpacity:Ya,numOctaves:Sy};function Gf(n,e,t,s){const{style:o,vars:l,transform:u,transformOrigin:d}=n;let f=!1,m=!1,_=!0;for(const w in e){const T=e[w];if(Qv(w)){l[w]=T;continue}const S=Xv[w],V=hE(T,S);if(Ti.has(w)){if(f=!0,u[w]=V,!_)continue;T!==(S.default||0)&&(_=!1)}else w.startsWith("origin")?(m=!0,d[w]=V):o[w]=V}if(e.transform||(f||s?o.transform=uE(n.transform,t,_,s):o.transform&&(o.transform="none")),m){const{originX:w="50%",originY:T="50%",originZ:S=0}=d;o.transformOrigin=`${w} ${T} ${S}`}}const Kf=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Jv(n,e,t){for(const s in e)!dn(e[s])&&!Gv(s,t)&&(n[s]=e[s])}function mE({transformTemplate:n},e,t){return q.useMemo(()=>{const s=Kf();return Gf(s,e,{enableHardwareAcceleration:!t},n),Object.assign({},s.vars,s.style)},[e])}function gE(n,e,t){const s=n.style||{},o={};return Jv(o,s,n),Object.assign(o,mE(n,e,t)),n.transformValues?n.transformValues(o):o}function yE(n,e,t){const s={},o=gE(n,e,t);return n.drag&&n.dragListener!==!1&&(s.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(s.tabIndex=0),s.style=o,s}const vE=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function dc(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||vE.has(n)}let Zv=n=>!dc(n);function _E(n){n&&(Zv=e=>e.startsWith("on")?!dc(e):n(e))}try{_E(require("@emotion/is-prop-valid").default)}catch{}function wE(n,e,t){const s={};for(const o in n)o==="values"&&typeof n.values=="object"||(Zv(o)||t===!0&&dc(o)||!e&&!dc(o)||n.draggable&&o.startsWith("onDrag"))&&(s[o]=n[o]);return s}function Ay(n,e,t){return typeof n=="string"?n:xe.transform(e+t*n)}function xE(n,e,t){const s=Ay(e,n.x,n.width),o=Ay(t,n.y,n.height);return`${s} ${o}`}const TE={offset:"stroke-dashoffset",array:"stroke-dasharray"},EE={offset:"strokeDashoffset",array:"strokeDasharray"};function SE(n,e,t=1,s=0,o=!0){n.pathLength=1;const l=o?TE:EE;n[l.offset]=xe.transform(-s);const u=xe.transform(e),d=xe.transform(t);n[l.array]=`${u} ${d}`}function Qf(n,{attrX:e,attrY:t,attrScale:s,originX:o,originY:l,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...m},_,w,T){if(Gf(n,m,_,T),w){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:S,style:V,dimensions:N}=n;S.transform&&(N&&(V.transform=S.transform),delete S.transform),N&&(o!==void 0||l!==void 0||V.transform)&&(V.transformOrigin=xE(N,o!==void 0?o:.5,l!==void 0?l:.5)),e!==void 0&&(S.x=e),t!==void 0&&(S.y=t),s!==void 0&&(S.scale=s),u!==void 0&&SE(S,u,d,f,!1)}const e_=()=>({...Kf(),attrs:{}}),Yf=n=>typeof n=="string"&&n.toLowerCase()==="svg";function AE(n,e,t,s){const o=q.useMemo(()=>{const l=e_();return Qf(l,e,{enableHardwareAcceleration:!1},Yf(s),n.transformTemplate),{...l.attrs,style:{...l.style}}},[e]);if(n.style){const l={};Jv(l,n.style,n),o.style={...l,...o.style}}return o}function IE(n=!1){return(t,s,o,{latestValues:l},u)=>{const f=(Wf(t)?AE:yE)(s,l,u,t),_={...wE(s,typeof t=="string",n),...f,ref:o},{children:w}=s,T=q.useMemo(()=>dn(w)?w.get():w,[w]);return q.createElement(t,{..._,children:T})}}function t_(n,{style:e,vars:t},s,o){Object.assign(n.style,e,o&&o.getProjectionStyles(s));for(const l in t)n.style.setProperty(l,t[l])}const n_=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r_(n,e,t,s){t_(n,e,void 0,s);for(const o in e.attrs)n.setAttribute(n_.has(o)?o:zf(o),e.attrs[o])}function Xf(n,e){const{style:t}=n,s={};for(const o in t)(dn(t[o])||e.style&&dn(e.style[o])||Gv(o,n))&&(s[o]=t[o]);return s}function s_(n,e){const t=Xf(n,e);for(const s in n)if(dn(n[s])||dn(e[s])){const o=xl.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;t[o]=n[s]}return t}function Jf(n,e,t,s={},o={}){return typeof e=="function"&&(e=e(t!==void 0?t:n.custom,s,o)),typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"&&(e=e(t!==void 0?t:n.custom,s,o)),e}function i_(n){const e=q.useRef(null);return e.current===null&&(e.current=n()),e.current}const fc=n=>Array.isArray(n),CE=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),PE=n=>fc(n)?n[n.length-1]||0:n;function rc(n){const e=dn(n)?n.get():n;return CE(e)?e.toValue():e}function kE({scrapeMotionValuesFromProps:n,createRenderState:e,onMount:t},s,o,l){const u={latestValues:RE(s,o,l,n),renderState:e()};return t&&(u.mount=d=>t(s,d,u)),u}const o_=n=>(e,t)=>{const s=q.useContext(jc),o=q.useContext(Mc),l=()=>kE(n,e,s,o);return t?l():i_(l)};function RE(n,e,t,s){const o={},l=s(n,{});for(const T in l)o[T]=rc(l[T]);let{initial:u,animate:d}=n;const f=Fc(n),m=qv(n);e&&m&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let _=t?t.initial===!1:!1;_=_||u===!1;const w=_?d:u;return w&&typeof w!="boolean"&&!Oc(w)&&(Array.isArray(w)?w:[w]).forEach(S=>{const V=Jf(n,S);if(!V)return;const{transitionEnd:N,transition:L,...K}=V;for(const G in K){let $=K[G];if(Array.isArray($)){const Q=_?$.length-1:0;$=$[Q]}$!==null&&(o[G]=$)}for(const G in N)o[G]=N[G]}),o}const mt=n=>n;class Iy{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const t=this.order.indexOf(e);t!==-1&&(this.order.splice(t,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function NE(n){let e=new Iy,t=new Iy,s=0,o=!1,l=!1;const u=new WeakSet,d={schedule:(f,m=!1,_=!1)=>{const w=_&&o,T=w?e:t;return m&&u.add(f),T.add(f)&&w&&o&&(s=e.order.length),f},cancel:f=>{t.remove(f),u.delete(f)},process:f=>{if(o){l=!0;return}if(o=!0,[e,t]=[t,e],t.clear(),s=e.order.length,s)for(let m=0;m<s;m++){const _=e.order[m];_(f),u.has(_)&&(d.schedule(_),n())}o=!1,l&&(l=!1,d.process(f))}};return d}const Gu=["prepare","read","update","preRender","render","postRender"],bE=40;function VE(n,e){let t=!1,s=!0;const o={delta:0,timestamp:0,isProcessing:!1},l=Gu.reduce((w,T)=>(w[T]=NE(()=>t=!0),w),{}),u=w=>l[w].process(o),d=()=>{const w=performance.now();t=!1,o.delta=s?1e3/60:Math.max(Math.min(w-o.timestamp,bE),1),o.timestamp=w,o.isProcessing=!0,Gu.forEach(u),o.isProcessing=!1,t&&e&&(s=!1,n(d))},f=()=>{t=!0,s=!0,o.isProcessing||n(d)};return{schedule:Gu.reduce((w,T)=>{const S=l[T];return w[T]=(V,N=!1,L=!1)=>(t||f(),S.schedule(V,N,L)),w},{}),cancel:w=>Gu.forEach(T=>l[T].cancel(w)),state:o,steps:l}}const{schedule:Ye,cancel:Or,state:Wt,steps:Vd}=VE(typeof requestAnimationFrame<"u"?requestAnimationFrame:mt,!0),DE={useVisualState:o_({scrapeMotionValuesFromProps:s_,createRenderState:e_,onMount:(n,e,{renderState:t,latestValues:s})=>{Ye.read(()=>{try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}),Ye.render(()=>{Qf(t,s,{enableHardwareAcceleration:!1},Yf(e.tagName),n.transformTemplate),r_(e,t)})}})},jE={useVisualState:o_({scrapeMotionValuesFromProps:Xf,createRenderState:Kf})};function ME(n,{forwardMotionProps:e=!1},t,s){return{...Wf(n)?DE:jE,preloadedFeatures:t,useRender:IE(e),createVisualElement:s,Component:n}}function Dr(n,e,t,s={passive:!0}){return n.addEventListener(e,t,s),()=>n.removeEventListener(e,t)}const a_=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1;function Bc(n,e="page"){return{point:{x:n[e+"X"],y:n[e+"Y"]}}}const LE=n=>e=>a_(e)&&n(e,Bc(e));function jr(n,e,t,s){return Dr(n,e,LE(t),s)}const OE=(n,e)=>t=>e(n(t)),ys=(...n)=>n.reduce(OE);function l_(n){let e=null;return()=>{const t=()=>{e=null};return e===null?(e=n,t):!1}}const Cy=l_("dragHorizontal"),Py=l_("dragVertical");function u_(n){let e=!1;if(n==="y")e=Py();else if(n==="x")e=Cy();else{const t=Cy(),s=Py();t&&s?e=()=>{t(),s()}:(t&&t(),s&&s())}return e}function c_(){const n=u_(!0);return n?(n(),!1):!0}class bs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function ky(n,e){const t="pointer"+(e?"enter":"leave"),s="onHover"+(e?"Start":"End"),o=(l,u)=>{if(l.pointerType==="touch"||c_())return;const d=n.getProps();n.animationState&&d.whileHover&&n.animationState.setActive("whileHover",e),d[s]&&Ye.update(()=>d[s](l,u))};return jr(n.current,t,o,{passive:!n.getProps()[s]})}class FE extends bs{mount(){this.unmount=ys(ky(this.node,!0),ky(this.node,!1))}unmount(){}}class UE extends bs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ys(Dr(this.node.current,"focus",()=>this.onFocus()),Dr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const h_=(n,e)=>e?n===e?!0:h_(n,e.parentElement):!1;function Dd(n,e){if(!e)return;const t=new PointerEvent("pointer"+n);e(t,Bc(t))}class BE extends bs{constructor(){super(...arguments),this.removeStartListeners=mt,this.removeEndListeners=mt,this.removeAccessibleListeners=mt,this.startPointerPress=(e,t)=>{if(this.isPressing)return;this.removeEndListeners();const s=this.node.getProps(),l=jr(window,"pointerup",(d,f)=>{if(!this.checkPressEnd())return;const{onTap:m,onTapCancel:_,globalTapTarget:w}=this.node.getProps();Ye.update(()=>{!w&&!h_(this.node.current,d.target)?_&&_(d,f):m&&m(d,f)})},{passive:!(s.onTap||s.onPointerUp)}),u=jr(window,"pointercancel",(d,f)=>this.cancelPress(d,f),{passive:!(s.onTapCancel||s.onPointerCancel)});this.removeEndListeners=ys(l,u),this.startPress(e,t)},this.startAccessiblePress=()=>{const e=l=>{if(l.key!=="Enter"||this.isPressing)return;const u=d=>{d.key!=="Enter"||!this.checkPressEnd()||Dd("up",(f,m)=>{const{onTap:_}=this.node.getProps();_&&Ye.update(()=>_(f,m))})};this.removeEndListeners(),this.removeEndListeners=Dr(this.node.current,"keyup",u),Dd("down",(d,f)=>{this.startPress(d,f)})},t=Dr(this.node.current,"keydown",e),s=()=>{this.isPressing&&Dd("cancel",(l,u)=>this.cancelPress(l,u))},o=Dr(this.node.current,"blur",s);this.removeAccessibleListeners=ys(t,o)}}startPress(e,t){this.isPressing=!0;const{onTapStart:s,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),s&&Ye.update(()=>s(e,t))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!c_()}cancelPress(e,t){if(!this.checkPressEnd())return;const{onTapCancel:s}=this.node.getProps();s&&Ye.update(()=>s(e,t))}mount(){const e=this.node.getProps(),t=jr(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),s=Dr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ys(t,s)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const nf=new WeakMap,jd=new WeakMap,zE=n=>{const e=nf.get(n.target);e&&e(n)},$E=n=>{n.forEach(zE)};function HE({root:n,...e}){const t=n||document;jd.has(t)||jd.set(t,{});const s=jd.get(t),o=JSON.stringify(e);return s[o]||(s[o]=new IntersectionObserver($E,{root:n,...e})),s[o]}function qE(n,e,t){const s=HE(e);return nf.set(n,t),s.observe(n),()=>{nf.delete(n),s.unobserve(n)}}const WE={some:0,all:1};class GE extends bs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:s,amount:o="some",once:l}=e,u={root:t?t.current:void 0,rootMargin:s,threshold:typeof o=="number"?o:WE[o]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:_,onViewportLeave:w}=this.node.getProps(),T=m?_:w;T&&T(f)};return qE(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(KE(e,t))&&this.startObserver()}unmount(){}}function KE({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const QE={inView:{Feature:GE},tap:{Feature:BE},focus:{Feature:UE},hover:{Feature:FE}};function d_(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let s=0;s<t;s++)if(e[s]!==n[s])return!1;return!0}function YE(n){const e={};return n.values.forEach((t,s)=>e[s]=t.get()),e}function XE(n){const e={};return n.values.forEach((t,s)=>e[s]=t.getVelocity()),e}function zc(n,e,t){const s=n.getProps();return Jf(s,e,t!==void 0?t:s.custom,YE(n),XE(n))}let Zf=mt;const gi=n=>n*1e3,Mr=n=>n/1e3,JE={current:!1},f_=n=>Array.isArray(n)&&typeof n[0]=="number";function p_(n){return!!(!n||typeof n=="string"&&m_[n]||f_(n)||Array.isArray(n)&&n.every(p_))}const qa=([n,e,t,s])=>`cubic-bezier(${n}, ${e}, ${t}, ${s})`,m_={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qa([0,.65,.55,1]),circOut:qa([.55,0,1,.45]),backIn:qa([.31,.01,.66,-.59]),backOut:qa([.33,1.53,.69,.99])};function g_(n){if(n)return f_(n)?qa(n):Array.isArray(n)?n.map(g_):m_[n]}function ZE(n,e,t,{delay:s=0,duration:o,repeat:l=0,repeatType:u="loop",ease:d,times:f}={}){const m={[e]:t};f&&(m.offset=f);const _=g_(d);return Array.isArray(_)&&(m.easing=_),n.animate(m,{delay:s,duration:o,easing:Array.isArray(_)?"linear":_,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"})}function e2(n,{repeat:e,repeatType:t="loop"}){const s=e&&t!=="loop"&&e%2===1?0:n.length-1;return n[s]}const y_=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,t2=1e-7,n2=12;function r2(n,e,t,s,o){let l,u,d=0;do u=e+(t-e)/2,l=y_(u,s,o)-n,l>0?t=u:e=u;while(Math.abs(l)>t2&&++d<n2);return u}function Sl(n,e,t,s){if(n===e&&t===s)return mt;const o=l=>r2(l,0,1,n,t);return l=>l===0||l===1?l:y_(o(l),e,s)}const s2=Sl(.42,0,1,1),i2=Sl(0,0,.58,1),v_=Sl(.42,0,.58,1),o2=n=>Array.isArray(n)&&typeof n[0]!="number",__=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,w_=n=>e=>1-n(1-e),ep=n=>1-Math.sin(Math.acos(n)),x_=w_(ep),a2=__(ep),T_=Sl(.33,1.53,.69,.99),tp=w_(T_),l2=__(tp),u2=n=>(n*=2)<1?.5*tp(n):.5*(2-Math.pow(2,-10*(n-1))),c2={linear:mt,easeIn:s2,easeInOut:v_,easeOut:i2,circIn:ep,circInOut:a2,circOut:x_,backIn:tp,backInOut:l2,backOut:T_,anticipate:u2},Ry=n=>{if(Array.isArray(n)){Zf(n.length===4);const[e,t,s,o]=n;return Sl(e,t,s,o)}else if(typeof n=="string")return c2[n];return n},np=(n,e)=>t=>!!(Tl(t)&&dE.test(t)&&t.startsWith(n)||e&&Object.prototype.hasOwnProperty.call(t,e)),E_=(n,e,t)=>s=>{if(!Tl(s))return s;const[o,l,u,d]=s.match(Uc);return{[n]:parseFloat(o),[e]:parseFloat(l),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},h2=n=>Ss(0,255,n),Md={...Ei,transform:n=>Math.round(h2(n))},pi={test:np("rgb","red"),parse:E_("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:s=1})=>"rgba("+Md.transform(n)+", "+Md.transform(e)+", "+Md.transform(t)+", "+Xa(Ya.transform(s))+")"};function d2(n){let e="",t="",s="",o="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),s=n.substring(5,7),o=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),s=n.substring(3,4),o=n.substring(4,5),e+=e,t+=t,s+=s,o+=o),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(s,16),alpha:o?parseInt(o,16)/255:1}}const rf={test:np("#"),parse:d2,transform:pi.transform},Io={test:np("hsl","hue"),parse:E_("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:s=1})=>"hsla("+Math.round(n)+", "+fr.transform(Xa(e))+", "+fr.transform(Xa(t))+", "+Xa(Ya.transform(s))+")"},en={test:n=>pi.test(n)||rf.test(n)||Io.test(n),parse:n=>pi.test(n)?pi.parse(n):Io.test(n)?Io.parse(n):rf.parse(n),transform:n=>Tl(n)?n:n.hasOwnProperty("red")?pi.transform(n):Io.transform(n)},at=(n,e,t)=>-t*n+t*e+n;function Ld(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function f2({hue:n,saturation:e,lightness:t,alpha:s}){n/=360,e/=100,t/=100;let o=0,l=0,u=0;if(!e)o=l=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;o=Ld(f,d,n+1/3),l=Ld(f,d,n),u=Ld(f,d,n-1/3)}return{red:Math.round(o*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:s}}const Od=(n,e,t)=>{const s=n*n;return Math.sqrt(Math.max(0,t*(e*e-s)+s))},p2=[rf,pi,Io],m2=n=>p2.find(e=>e.test(n));function Ny(n){const e=m2(n);let t=e.parse(n);return e===Io&&(t=f2(t)),t}const S_=(n,e)=>{const t=Ny(n),s=Ny(e),o={...t};return l=>(o.red=Od(t.red,s.red,l),o.green=Od(t.green,s.green,l),o.blue=Od(t.blue,s.blue,l),o.alpha=at(t.alpha,s.alpha,l),pi.transform(o))};function g2(n){var e,t;return isNaN(n)&&Tl(n)&&(((e=n.match(Uc))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(Yv))===null||t===void 0?void 0:t.length)||0)>0}const A_={regex:cE,countKey:"Vars",token:"${v}",parse:mt},I_={regex:Yv,countKey:"Colors",token:"${c}",parse:en.parse},C_={regex:Uc,countKey:"Numbers",token:"${n}",parse:Ei.parse};function Fd(n,{regex:e,countKey:t,token:s,parse:o}){const l=n.tokenised.match(e);l&&(n["num"+t]=l.length,n.tokenised=n.tokenised.replace(e,s),n.values.push(...l.map(o)))}function pc(n){const e=n.toString(),t={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return t.value.includes("var(--")&&Fd(t,A_),Fd(t,I_),Fd(t,C_),t}function P_(n){return pc(n).values}function k_(n){const{values:e,numColors:t,numVars:s,tokenised:o}=pc(n),l=e.length;return u=>{let d=o;for(let f=0;f<l;f++)f<s?d=d.replace(A_.token,u[f]):f<s+t?d=d.replace(I_.token,en.transform(u[f])):d=d.replace(C_.token,Xa(u[f]));return d}}const y2=n=>typeof n=="number"?0:n;function v2(n){const e=P_(n);return k_(n)(e.map(y2))}const As={test:g2,parse:P_,createTransformer:k_,getAnimatableNone:v2},R_=(n,e)=>t=>`${t>0?e:n}`;function N_(n,e){return typeof n=="number"?t=>at(n,e,t):en.test(n)?S_(n,e):n.startsWith("var(")?R_(n,e):V_(n,e)}const b_=(n,e)=>{const t=[...n],s=t.length,o=n.map((l,u)=>N_(l,e[u]));return l=>{for(let u=0;u<s;u++)t[u]=o[u](l);return t}},_2=(n,e)=>{const t={...n,...e},s={};for(const o in t)n[o]!==void 0&&e[o]!==void 0&&(s[o]=N_(n[o],e[o]));return o=>{for(const l in s)t[l]=s[l](o);return t}},V_=(n,e)=>{const t=As.createTransformer(e),s=pc(n),o=pc(e);return s.numVars===o.numVars&&s.numColors===o.numColors&&s.numNumbers>=o.numNumbers?ys(b_(s.values,o.values),t):R_(n,e)},ll=(n,e,t)=>{const s=e-n;return s===0?1:(t-n)/s},by=(n,e)=>t=>at(n,e,t);function w2(n){return typeof n=="number"?by:typeof n=="string"?en.test(n)?S_:V_:Array.isArray(n)?b_:typeof n=="object"?_2:by}function x2(n,e,t){const s=[],o=t||w2(n[0]),l=n.length-1;for(let u=0;u<l;u++){let d=o(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||mt:e;d=ys(f,d)}s.push(d)}return s}function D_(n,e,{clamp:t=!0,ease:s,mixer:o}={}){const l=n.length;if(Zf(l===e.length),l===1)return()=>e[0];n[0]>n[l-1]&&(n=[...n].reverse(),e=[...e].reverse());const u=x2(e,s,o),d=u.length,f=m=>{let _=0;if(d>1)for(;_<n.length-2&&!(m<n[_+1]);_++);const w=ll(n[_],n[_+1],m);return u[_](w)};return t?m=>f(Ss(n[0],n[l-1],m)):f}function T2(n,e){const t=n[n.length-1];for(let s=1;s<=e;s++){const o=ll(0,e,s);n.push(at(t,1,o))}}function E2(n){const e=[0];return T2(e,n.length-1),e}function S2(n,e){return n.map(t=>t*e)}function A2(n,e){return n.map(()=>e||v_).splice(0,n.length-1)}function mc({duration:n=300,keyframes:e,times:t,ease:s="easeInOut"}){const o=o2(s)?s.map(Ry):Ry(s),l={done:!1,value:e[0]},u=S2(t&&t.length===e.length?t:E2(e),n),d=D_(u,e,{ease:Array.isArray(o)?o:A2(e,o)});return{calculatedDuration:n,next:f=>(l.value=d(f),l.done=f>=n,l)}}function j_(n,e){return e?n*(1e3/e):0}const I2=5;function M_(n,e,t){const s=Math.max(e-I2,0);return j_(t-n(s),e-s)}const Vy=.001,C2=.01,P2=10,k2=.05,R2=1;function N2({duration:n=800,bounce:e=.25,velocity:t=0,mass:s=1}){let o,l,u=1-e;u=Ss(k2,R2,u),n=Ss(C2,P2,Mr(n)),u<1?(o=m=>{const _=m*u,w=_*n,T=_-t,S=sf(m,u),V=Math.exp(-w);return Vy-T/S*V},l=m=>{const w=m*u*n,T=w*t+t,S=Math.pow(u,2)*Math.pow(m,2)*n,V=Math.exp(-w),N=sf(Math.pow(m,2),u);return(-o(m)+Vy>0?-1:1)*((T-S)*V)/N}):(o=m=>{const _=Math.exp(-m*n),w=(m-t)*n+1;return-.001+_*w},l=m=>{const _=Math.exp(-m*n),w=(t-m)*(n*n);return _*w});const d=5/n,f=V2(o,l,d);if(n=gi(n),isNaN(f))return{stiffness:100,damping:10,duration:n};{const m=Math.pow(f,2)*s;return{stiffness:m,damping:u*2*Math.sqrt(s*m),duration:n}}}const b2=12;function V2(n,e,t){let s=t;for(let o=1;o<b2;o++)s=s-n(s)/e(s);return s}function sf(n,e){return n*Math.sqrt(1-e*e)}const D2=["duration","bounce"],j2=["stiffness","damping","mass"];function Dy(n,e){return e.some(t=>n[t]!==void 0)}function M2(n){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...n};if(!Dy(n,j2)&&Dy(n,D2)){const t=N2(n);e={...e,...t,mass:1},e.isResolvedFromDuration=!0}return e}function L_({keyframes:n,restDelta:e,restSpeed:t,...s}){const o=n[0],l=n[n.length-1],u={done:!1,value:o},{stiffness:d,damping:f,mass:m,duration:_,velocity:w,isResolvedFromDuration:T}=M2({...s,velocity:-Mr(s.velocity||0)}),S=w||0,V=f/(2*Math.sqrt(d*m)),N=l-o,L=Mr(Math.sqrt(d/m)),K=Math.abs(N)<5;t||(t=K?.01:2),e||(e=K?.005:.5);let G;if(V<1){const $=sf(L,V);G=Q=>{const ue=Math.exp(-V*L*Q);return l-ue*((S+V*L*N)/$*Math.sin($*Q)+N*Math.cos($*Q))}}else if(V===1)G=$=>l-Math.exp(-L*$)*(N+(S+L*N)*$);else{const $=L*Math.sqrt(V*V-1);G=Q=>{const ue=Math.exp(-V*L*Q),oe=Math.min($*Q,300);return l-ue*((S+V*L*N)*Math.sinh(oe)+$*N*Math.cosh(oe))/$}}return{calculatedDuration:T&&_||null,next:$=>{const Q=G($);if(T)u.done=$>=_;else{let ue=S;$!==0&&(V<1?ue=M_(G,$,Q):ue=0);const oe=Math.abs(ue)<=t,P=Math.abs(l-Q)<=e;u.done=oe&&P}return u.value=u.done?l:Q,u}}}function jy({keyframes:n,velocity:e=0,power:t=.8,timeConstant:s=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:f,restDelta:m=.5,restSpeed:_}){const w=n[0],T={done:!1,value:w},S=I=>d!==void 0&&I<d||f!==void 0&&I>f,V=I=>d===void 0?f:f===void 0||Math.abs(d-I)<Math.abs(f-I)?d:f;let N=t*e;const L=w+N,K=u===void 0?L:u(L);K!==L&&(N=K-w);const G=I=>-N*Math.exp(-I/s),$=I=>K+G(I),Q=I=>{const C=G(I),b=$(I);T.done=Math.abs(C)<=m,T.value=T.done?K:b};let ue,oe;const P=I=>{S(T.value)&&(ue=I,oe=L_({keyframes:[T.value,V(T.value)],velocity:M_($,I,T.value),damping:o,stiffness:l,restDelta:m,restSpeed:_}))};return P(0),{calculatedDuration:null,next:I=>{let C=!1;return!oe&&ue===void 0&&(C=!0,Q(I),P(I)),ue!==void 0&&I>ue?oe.next(I-ue):(!C&&Q(I),T)}}}const L2=n=>{const e=({timestamp:t})=>n(t);return{start:()=>Ye.update(e,!0),stop:()=>Or(e),now:()=>Wt.isProcessing?Wt.timestamp:performance.now()}},My=2e4;function Ly(n){let e=0;const t=50;let s=n.next(e);for(;!s.done&&e<My;)e+=t,s=n.next(e);return e>=My?1/0:e}const O2={decay:jy,inertia:jy,tween:mc,keyframes:mc,spring:L_};function gc({autoplay:n=!0,delay:e=0,driver:t=L2,keyframes:s,type:o="keyframes",repeat:l=0,repeatDelay:u=0,repeatType:d="loop",onPlay:f,onStop:m,onComplete:_,onUpdate:w,...T}){let S=1,V=!1,N,L;const K=()=>{L=new Promise(M=>{N=M})};K();let G;const $=O2[o]||mc;let Q;$!==mc&&typeof s[0]!="number"&&(Q=D_([0,100],s,{clamp:!1}),s=[0,100]);const ue=$({...T,keyframes:s});let oe;d==="mirror"&&(oe=$({...T,keyframes:[...s].reverse(),velocity:-(T.velocity||0)}));let P="idle",I=null,C=null,b=null;ue.calculatedDuration===null&&l&&(ue.calculatedDuration=Ly(ue));const{calculatedDuration:j}=ue;let F=1/0,R=1/0;j!==null&&(F=j+u,R=F*(l+1)-u);let Ne=0;const nt=M=>{if(C===null)return;S>0&&(C=Math.min(C,M)),S<0&&(C=Math.min(M-R/S,C)),I!==null?Ne=I:Ne=Math.round(M-C)*S;const Y=Ne-e*(S>=0?1:-1),ye=S>=0?Y<0:Y>R;Ne=Math.max(Y,0),P==="finished"&&I===null&&(Ne=R);let Ie=Ne,Ce=ue;if(l){const He=Math.min(Ne,R)/F;let rt=Math.floor(He),Vt=He%1;!Vt&&He>=1&&(Vt=1),Vt===1&&rt--,rt=Math.min(rt,l+1),!!(rt%2)&&(d==="reverse"?(Vt=1-Vt,u&&(Vt-=u/F)):d==="mirror"&&(Ce=oe)),Ie=Ss(0,1,Vt)*F}const Pe=ye?{done:!1,value:s[0]}:Ce.next(Ie);Q&&(Pe.value=Q(Pe.value));let{done:Me}=Pe;!ye&&j!==null&&(Me=S>=0?Ne>=R:Ne<=0);const Ue=I===null&&(P==="finished"||P==="running"&&Me);return w&&w(Pe.value),Ue&&se(),Pe},je=()=>{G&&G.stop(),G=void 0},be=()=>{P="idle",je(),N(),K(),C=b=null},se=()=>{P="finished",_&&_(),je(),N()},me=()=>{if(V)return;G||(G=t(nt));const M=G.now();f&&f(),I!==null?C=M-I:(!C||P==="finished")&&(C=M),P==="finished"&&K(),b=C,I=null,P="running",G.start()};n&&me();const ae={then(M,Y){return L.then(M,Y)},get time(){return Mr(Ne)},set time(M){M=gi(M),Ne=M,I!==null||!G||S===0?I=M:C=G.now()-M/S},get duration(){const M=ue.calculatedDuration===null?Ly(ue):ue.calculatedDuration;return Mr(M)},get speed(){return S},set speed(M){M===S||!G||(S=M,ae.time=Mr(Ne))},get state(){return P},play:me,pause:()=>{P="paused",I=Ne},stop:()=>{V=!0,P!=="idle"&&(P="idle",m&&m(),be())},cancel:()=>{b!==null&&nt(b),be()},complete:()=>{P="finished"},sample:M=>(C=0,nt(M))};return ae}function F2(n){let e;return()=>(e===void 0&&(e=n()),e)}const U2=F2(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),B2=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ku=10,z2=2e4,$2=(n,e)=>e.type==="spring"||n==="backgroundColor"||!p_(e.ease);function H2(n,e,{onUpdate:t,onComplete:s,...o}){if(!(U2()&&B2.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let u=!1,d,f,m=!1;const _=()=>{f=new Promise($=>{d=$})};_();let{keyframes:w,duration:T=300,ease:S,times:V}=o;if($2(e,o)){const $=gc({...o,repeat:0,delay:0});let Q={done:!1,value:w[0]};const ue=[];let oe=0;for(;!Q.done&&oe<z2;)Q=$.sample(oe),ue.push(Q.value),oe+=Ku;V=void 0,w=ue,T=oe-Ku,S="linear"}const N=ZE(n.owner.current,e,w,{...o,duration:T,ease:S,times:V}),L=()=>{m=!1,N.cancel()},K=()=>{m=!0,Ye.update(L),d(),_()};return N.onfinish=()=>{m||(n.set(e2(w,o)),s&&s(),K())},{then($,Q){return f.then($,Q)},attachTimeline($){return N.timeline=$,N.onfinish=null,mt},get time(){return Mr(N.currentTime||0)},set time($){N.currentTime=gi($)},get speed(){return N.playbackRate},set speed($){N.playbackRate=$},get duration(){return Mr(T)},play:()=>{u||(N.play(),Or(L))},pause:()=>N.pause(),stop:()=>{if(u=!0,N.playState==="idle")return;const{currentTime:$}=N;if($){const Q=gc({...o,autoplay:!1});n.setWithVelocity(Q.sample($-Ku).value,Q.sample($).value,Ku)}K()},complete:()=>{m||N.finish()},cancel:K}}function q2({keyframes:n,delay:e,onUpdate:t,onComplete:s}){const o=()=>(t&&t(n[n.length-1]),s&&s(),{time:0,speed:1,duration:0,play:mt,pause:mt,stop:mt,then:l=>(l(),Promise.resolve()),cancel:mt,complete:mt});return e?gc({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const W2={type:"spring",stiffness:500,damping:25,restSpeed:10},G2=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),K2={type:"keyframes",duration:.8},Q2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Y2=(n,{keyframes:e})=>e.length>2?K2:Ti.has(n)?n.startsWith("scale")?G2(e[1]):W2:Q2,of=(n,e)=>n==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(As.test(e)||e==="0")&&!e.startsWith("url(")),X2=new Set(["brightness","contrast","saturate","opacity"]);function J2(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[s]=t.match(Uc)||[];if(!s)return n;const o=t.replace(s,"");let l=X2.has(e)?1:0;return s!==t&&(l*=100),e+"("+l+o+")"}const Z2=/([a-z-]*)\(.*?\)/g,af={...As,getAnimatableNone:n=>{const e=n.match(Z2);return e?e.map(J2).join(" "):n}},eS={...Xv,color:en,backgroundColor:en,outlineColor:en,fill:en,stroke:en,borderColor:en,borderTopColor:en,borderRightColor:en,borderBottomColor:en,borderLeftColor:en,filter:af,WebkitFilter:af},rp=n=>eS[n];function O_(n,e){let t=rp(n);return t!==af&&(t=As),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const F_=n=>/^0[^.\s]+$/.test(n);function tS(n){if(typeof n=="number")return n===0;if(n!==null)return n==="none"||n==="0"||F_(n)}function nS(n,e,t,s){const o=of(e,t);let l;Array.isArray(t)?l=[...t]:l=[null,t];const u=s.from!==void 0?s.from:n.get();let d;const f=[];for(let m=0;m<l.length;m++)l[m]===null&&(l[m]=m===0?u:l[m-1]),tS(l[m])&&f.push(m),typeof l[m]=="string"&&l[m]!=="none"&&l[m]!=="0"&&(d=l[m]);if(o&&f.length&&d)for(let m=0;m<f.length;m++){const _=f[m];l[_]=O_(e,d)}return l}function rS({when:n,delay:e,delayChildren:t,staggerChildren:s,staggerDirection:o,repeat:l,repeatType:u,repeatDelay:d,from:f,elapsed:m,..._}){return!!Object.keys(_).length}function sp(n,e){return n[e]||n.default||n}const sS={skipAnimations:!1},ip=(n,e,t,s={})=>o=>{const l=sp(s,n)||{},u=l.delay||s.delay||0;let{elapsed:d=0}=s;d=d-gi(u);const f=nS(e,n,t,l),m=f[0],_=f[f.length-1],w=of(n,m),T=of(n,_);let S={keyframes:f,velocity:e.getVelocity(),ease:"easeOut",...l,delay:-d,onUpdate:V=>{e.set(V),l.onUpdate&&l.onUpdate(V)},onComplete:()=>{o(),l.onComplete&&l.onComplete()}};if(rS(l)||(S={...S,...Y2(n,S)}),S.duration&&(S.duration=gi(S.duration)),S.repeatDelay&&(S.repeatDelay=gi(S.repeatDelay)),!w||!T||JE.current||l.type===!1||sS.skipAnimations)return q2(S);if(!s.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const V=H2(e,n,S);if(V)return V}return gc(S)};function yc(n){return!!(dn(n)&&n.add)}const U_=n=>/^\-?\d*\.?\d+$/.test(n);function op(n,e){n.indexOf(e)===-1&&n.push(e)}function ap(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class lp{constructor(){this.subscriptions=[]}add(e){return op(this.subscriptions,e),()=>ap(this.subscriptions,e)}notify(e,t,s){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,t,s);else for(let l=0;l<o;l++){const u=this.subscriptions[l];u&&u(e,t,s)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const iS=n=>!isNaN(parseFloat(n));class oS{constructor(e,t={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(s,o=!0)=>{this.prev=this.current,this.current=s;const{delta:l,timestamp:u}=Wt;this.lastUpdated!==u&&(this.timeDelta=l,this.lastUpdated=u,Ye.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ye.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{s!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=iS(this.current),this.owner=t.owner}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new lp);const s=this.events[e].add(t);return e==="change"?()=>{s(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:s}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,s){this.set(t),this.prev=e,this.timeDelta=s}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?j_(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ro(n,e){return new oS(n,e)}const B_=n=>e=>e.test(n),aS={test:n=>n==="auto",parse:n=>n},z_=[Ei,xe,fr,fs,pE,fE,aS],za=n=>z_.find(B_(n)),lS=[...z_,en,As],uS=n=>lS.find(B_(n));function cS(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Ro(t))}function hS(n,e){const t=zc(n,e);let{transitionEnd:s={},transition:o={},...l}=t?n.makeTargetAnimatable(t,!1):{};l={...l,...s};for(const u in l){const d=PE(l[u]);cS(n,u,d)}}function dS(n,e,t){var s,o;const l=Object.keys(e).filter(d=>!n.hasValue(d)),u=l.length;if(u)for(let d=0;d<u;d++){const f=l[d],m=e[f];let _=null;Array.isArray(m)&&(_=m[0]),_===null&&(_=(o=(s=t[f])!==null&&s!==void 0?s:n.readValue(f))!==null&&o!==void 0?o:e[f]),_!=null&&(typeof _=="string"&&(U_(_)||F_(_))?_=parseFloat(_):!uS(_)&&As.test(m)&&(_=O_(f,m)),n.addValue(f,Ro(_,{owner:n})),t[f]===void 0&&(t[f]=_),_!==null&&n.setBaseTarget(f,_))}}function fS(n,e){return e?(e[n]||e.default||e).from:void 0}function pS(n,e,t){const s={};for(const o in n){const l=fS(o,e);if(l!==void 0)s[o]=l;else{const u=t.getValue(o);u&&(s[o]=u.get())}}return s}function mS({protectedKeys:n,needsAnimating:e},t){const s=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,s}function gS(n,e){const t=n.get();if(Array.isArray(e)){for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}else return t!==e}function $_(n,e,{delay:t=0,transitionOverride:s,type:o}={}){let{transition:l=n.getDefaultTransition(),transitionEnd:u,...d}=n.makeTargetAnimatable(e);const f=n.getValue("willChange");s&&(l=s);const m=[],_=o&&n.animationState&&n.animationState.getState()[o];for(const w in d){const T=n.getValue(w),S=d[w];if(!T||S===void 0||_&&mS(_,w))continue;const V={delay:t,elapsed:0,...sp(l||{},w)};if(window.HandoffAppearAnimations){const K=n.getProps()[Hv];if(K){const G=window.HandoffAppearAnimations(K,w,T,Ye);G!==null&&(V.elapsed=G,V.isHandoff=!0)}}let N=!V.isHandoff&&!gS(T,S);if(V.type==="spring"&&(T.getVelocity()||V.velocity)&&(N=!1),T.animation&&(N=!1),N)continue;T.start(ip(w,T,S,n.shouldReduceMotion&&Ti.has(w)?{type:!1}:V));const L=T.animation;yc(f)&&(f.add(w),L.then(()=>f.remove(w))),m.push(L)}return u&&Promise.all(m).then(()=>{u&&hS(n,u)}),m}function lf(n,e,t={}){const s=zc(n,e,t.custom);let{transition:o=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(o=t.transitionOverride);const l=s?()=>Promise.all($_(n,s,t)):()=>Promise.resolve(),u=n.variantChildren&&n.variantChildren.size?(f=0)=>{const{delayChildren:m=0,staggerChildren:_,staggerDirection:w}=o;return yS(n,e,m+f,_,w,t)}:()=>Promise.resolve(),{when:d}=o;if(d){const[f,m]=d==="beforeChildren"?[l,u]:[u,l];return f().then(()=>m())}else return Promise.all([l(),u(t.delay)])}function yS(n,e,t=0,s=0,o=1,l){const u=[],d=(n.variantChildren.size-1)*s,f=o===1?(m=0)=>m*s:(m=0)=>d-m*s;return Array.from(n.variantChildren).sort(vS).forEach((m,_)=>{m.notify("AnimationStart",e),u.push(lf(m,e,{...l,delay:t+f(_)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function vS(n,e){return n.sortNodePosition(e)}function _S(n,e,t={}){n.notify("AnimationStart",e);let s;if(Array.isArray(e)){const o=e.map(l=>lf(n,l,t));s=Promise.all(o)}else if(typeof e=="string")s=lf(n,e,t);else{const o=typeof e=="function"?zc(n,e,t.custom):e;s=Promise.all($_(n,o,t))}return s.then(()=>n.notify("AnimationComplete",e))}const wS=[...$f].reverse(),xS=$f.length;function TS(n){return e=>Promise.all(e.map(({animation:t,options:s})=>_S(n,t,s)))}function ES(n){let e=TS(n);const t=AS();let s=!0;const o=(f,m)=>{const _=zc(n,m);if(_){const{transition:w,transitionEnd:T,...S}=_;f={...f,...S,...T}}return f};function l(f){e=f(n)}function u(f,m){const _=n.getProps(),w=n.getVariantContext(!0)||{},T=[],S=new Set;let V={},N=1/0;for(let K=0;K<xS;K++){const G=wS[K],$=t[G],Q=_[G]!==void 0?_[G]:w[G],ue=ol(Q),oe=G===m?$.isActive:null;oe===!1&&(N=K);let P=Q===w[G]&&Q!==_[G]&&ue;if(P&&s&&n.manuallyAnimateOnMount&&(P=!1),$.protectedKeys={...V},!$.isActive&&oe===null||!Q&&!$.prevProp||Oc(Q)||typeof Q=="boolean")continue;let C=SS($.prevProp,Q)||G===m&&$.isActive&&!P&&ue||K>N&&ue,b=!1;const j=Array.isArray(Q)?Q:[Q];let F=j.reduce(o,{});oe===!1&&(F={});const{prevResolvedValues:R={}}=$,Ne={...R,...F},nt=je=>{C=!0,S.has(je)&&(b=!0,S.delete(je)),$.needsAnimating[je]=!0};for(const je in Ne){const be=F[je],se=R[je];if(V.hasOwnProperty(je))continue;let me=!1;fc(be)&&fc(se)?me=!d_(be,se):me=be!==se,me?be!==void 0?nt(je):S.add(je):be!==void 0&&S.has(je)?nt(je):$.protectedKeys[je]=!0}$.prevProp=Q,$.prevResolvedValues=F,$.isActive&&(V={...V,...F}),s&&n.blockInitialAnimation&&(C=!1),C&&(!P||b)&&T.push(...j.map(je=>({animation:je,options:{type:G,...f}})))}if(S.size){const K={};S.forEach(G=>{const $=n.getBaseTarget(G);$!==void 0&&(K[G]=$)}),T.push({animation:K})}let L=!!T.length;return s&&(_.initial===!1||_.initial===_.animate)&&!n.manuallyAnimateOnMount&&(L=!1),s=!1,L?e(T):Promise.resolve()}function d(f,m,_){var w;if(t[f].isActive===m)return Promise.resolve();(w=n.variantChildren)===null||w===void 0||w.forEach(S=>{var V;return(V=S.animationState)===null||V===void 0?void 0:V.setActive(f,m)}),t[f].isActive=m;const T=u(_,f);for(const S in t)t[S].protectedKeys={};return T}return{animateChanges:u,setActive:d,setAnimateFunction:l,getState:()=>t}}function SS(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!d_(e,n):!1}function ui(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function AS(){return{animate:ui(!0),whileInView:ui(),whileHover:ui(),whileTap:ui(),whileDrag:ui(),whileFocus:ui(),exit:ui()}}class IS extends bs{constructor(e){super(e),e.animationState||(e.animationState=ES(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Oc(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){}}let CS=0;class PS extends bs{constructor(){super(...arguments),this.id=CS++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t,custom:s}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const l=this.node.animationState.setActive("exit",!e,{custom:s??this.node.getProps().custom});t&&!e&&l.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kS={animation:{Feature:IS},exit:{Feature:PS}},Oy=(n,e)=>Math.abs(n-e);function RS(n,e){const t=Oy(n.x,e.x),s=Oy(n.y,e.y);return Math.sqrt(t**2+s**2)}class H_{constructor(e,t,{transformPagePoint:s,contextWindow:o,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Bd(this.lastMoveEventInfo,this.history),T=this.startEvent!==null,S=RS(w.offset,{x:0,y:0})>=3;if(!T&&!S)return;const{point:V}=w,{timestamp:N}=Wt;this.history.push({...V,timestamp:N});const{onStart:L,onMove:K}=this.handlers;T||(L&&L(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),K&&K(this.lastMoveEvent,w)},this.handlePointerMove=(w,T)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Ud(T,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(w,T)=>{this.end();const{onEnd:S,onSessionEnd:V,resumeAnimation:N}=this.handlers;if(this.dragSnapToOrigin&&N&&N(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const L=Bd(w.type==="pointercancel"?this.lastMoveEventInfo:Ud(T,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,L),V&&V(w,L)},!a_(e))return;this.dragSnapToOrigin=l,this.handlers=t,this.transformPagePoint=s,this.contextWindow=o||window;const u=Bc(e),d=Ud(u,this.transformPagePoint),{point:f}=d,{timestamp:m}=Wt;this.history=[{...f,timestamp:m}];const{onSessionStart:_}=t;_&&_(e,Bd(d,this.history)),this.removeListeners=ys(jr(this.contextWindow,"pointermove",this.handlePointerMove),jr(this.contextWindow,"pointerup",this.handlePointerUp),jr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Or(this.updatePoint)}}function Ud(n,e){return e?{point:e(n.point)}:n}function Fy(n,e){return{x:n.x-e.x,y:n.y-e.y}}function Bd({point:n},e){return{point:n,delta:Fy(n,q_(e)),offset:Fy(n,NS(e)),velocity:bS(e,.1)}}function NS(n){return n[0]}function q_(n){return n[n.length-1]}function bS(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,s=null;const o=q_(n);for(;t>=0&&(s=n[t],!(o.timestamp-s.timestamp>gi(e)));)t--;if(!s)return{x:0,y:0};const l=Mr(o.timestamp-s.timestamp);if(l===0)return{x:0,y:0};const u={x:(o.x-s.x)/l,y:(o.y-s.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function Tn(n){return n.max-n.min}function uf(n,e=0,t=.01){return Math.abs(n-e)<=t}function Uy(n,e,t,s=.5){n.origin=s,n.originPoint=at(e.min,e.max,n.origin),n.scale=Tn(t)/Tn(e),(uf(n.scale,1,1e-4)||isNaN(n.scale))&&(n.scale=1),n.translate=at(t.min,t.max,n.origin)-n.originPoint,(uf(n.translate)||isNaN(n.translate))&&(n.translate=0)}function Ja(n,e,t,s){Uy(n.x,e.x,t.x,s?s.originX:void 0),Uy(n.y,e.y,t.y,s?s.originY:void 0)}function By(n,e,t){n.min=t.min+e.min,n.max=n.min+Tn(e)}function VS(n,e,t){By(n.x,e.x,t.x),By(n.y,e.y,t.y)}function zy(n,e,t){n.min=e.min-t.min,n.max=n.min+Tn(e)}function Za(n,e,t){zy(n.x,e.x,t.x),zy(n.y,e.y,t.y)}function DS(n,{min:e,max:t},s){return e!==void 0&&n<e?n=s?at(e,n,s.min):Math.max(n,e):t!==void 0&&n>t&&(n=s?at(t,n,s.max):Math.min(n,t)),n}function $y(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function jS(n,{top:e,left:t,bottom:s,right:o}){return{x:$y(n.x,t,o),y:$y(n.y,e,s)}}function Hy(n,e){let t=e.min-n.min,s=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,s]=[s,t]),{min:t,max:s}}function MS(n,e){return{x:Hy(n.x,e.x),y:Hy(n.y,e.y)}}function LS(n,e){let t=.5;const s=Tn(n),o=Tn(e);return o>s?t=ll(e.min,e.max-s,n.min):s>o&&(t=ll(n.min,n.max-o,e.min)),Ss(0,1,t)}function OS(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const cf=.35;function FS(n=cf){return n===!1?n=0:n===!0&&(n=cf),{x:qy(n,"left","right"),y:qy(n,"top","bottom")}}function qy(n,e,t){return{min:Wy(n,e),max:Wy(n,t)}}function Wy(n,e){return typeof n=="number"?n:n[e]||0}const Gy=()=>({translate:0,scale:1,origin:0,originPoint:0}),Co=()=>({x:Gy(),y:Gy()}),Ky=()=>({min:0,max:0}),_t=()=>({x:Ky(),y:Ky()});function Dn(n){return[n("x"),n("y")]}function W_({top:n,left:e,right:t,bottom:s}){return{x:{min:e,max:t},y:{min:n,max:s}}}function US({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function BS(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),s=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:s.y,right:s.x}}function zd(n){return n===void 0||n===1}function hf({scale:n,scaleX:e,scaleY:t}){return!zd(n)||!zd(e)||!zd(t)}function ci(n){return hf(n)||G_(n)||n.z||n.rotate||n.rotateX||n.rotateY}function G_(n){return Qy(n.x)||Qy(n.y)}function Qy(n){return n&&n!=="0%"}function vc(n,e,t){const s=n-t,o=e*s;return t+o}function Yy(n,e,t,s,o){return o!==void 0&&(n=vc(n,o,s)),vc(n,t,s)+e}function df(n,e=0,t=1,s,o){n.min=Yy(n.min,e,t,s,o),n.max=Yy(n.max,e,t,s,o)}function K_(n,{x:e,y:t}){df(n.x,e.translate,e.scale,e.originPoint),df(n.y,t.translate,t.scale,t.originPoint)}function zS(n,e,t,s=!1){const o=t.length;if(!o)return;e.x=e.y=1;let l,u;for(let d=0;d<o;d++){l=t[d],u=l.projectionDelta;const f=l.instance;f&&f.style&&f.style.display==="contents"||(s&&l.options.layoutScroll&&l.scroll&&l!==l.root&&Po(n,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,K_(n,u)),s&&ci(l.latestValues)&&Po(n,l.latestValues))}e.x=Xy(e.x),e.y=Xy(e.y)}function Xy(n){return Number.isInteger(n)||n>1.0000000000001||n<.999999999999?n:1}function ps(n,e){n.min=n.min+e,n.max=n.max+e}function Jy(n,e,[t,s,o]){const l=e[o]!==void 0?e[o]:.5,u=at(n.min,n.max,l);df(n,e[t],e[s],u,e.scale)}const $S=["x","scaleX","originX"],HS=["y","scaleY","originY"];function Po(n,e){Jy(n.x,e,$S),Jy(n.y,e,HS)}function Q_(n,e){return W_(BS(n.getBoundingClientRect(),e))}function qS(n,e,t){const s=Q_(n,t),{scroll:o}=e;return o&&(ps(s.x,o.offset.x),ps(s.y,o.offset.y)),s}const Y_=({current:n})=>n?n.ownerDocument.defaultView:null,WS=new WeakMap;class GS{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_t(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const o=_=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(Bc(_,"page").point)},l=(_,w)=>{const{drag:T,dragPropagation:S,onDragStart:V}=this.getProps();if(T&&!S&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=u_(T),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(L=>{let K=this.getAxisMotionValue(L).get()||0;if(fr.test(K)){const{projection:G}=this.visualElement;if(G&&G.layout){const $=G.layout.layoutBox[L];$&&(K=Tn($)*(parseFloat(K)/100))}}this.originPoint[L]=K}),V&&Ye.update(()=>V(_,w),!1,!0);const{animationState:N}=this.visualElement;N&&N.setActive("whileDrag",!0)},u=(_,w)=>{const{dragPropagation:T,dragDirectionLock:S,onDirectionLock:V,onDrag:N}=this.getProps();if(!T&&!this.openGlobalLock)return;const{offset:L}=w;if(S&&this.currentDirection===null){this.currentDirection=KS(L),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",w.point,L),this.updateAxis("y",w.point,L),this.visualElement.render(),N&&N(_,w)},d=(_,w)=>this.stop(_,w),f=()=>Dn(_=>{var w;return this.getAnimationState(_)==="paused"&&((w=this.getAxisMotionValue(_).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new H_(e,{onSessionStart:o,onStart:l,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:Y_(this.visualElement)})}stop(e,t){const s=this.isDragging;if(this.cancel(),!s)return;const{velocity:o}=t;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&Ye.update(()=>l(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:s}=this.getProps();!s&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,s){const{drag:o}=this.getProps();if(!s||!Qu(e,o,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+s[e];this.constraints&&this.constraints[e]&&(u=DS(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:s}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,l=this.constraints;t&&Ao(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&o?this.constraints=jS(o.layoutBox,t):this.constraints=!1,this.elastic=FS(s),l!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.getAxisMotionValue(u)&&(this.constraints[u]=OS(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Ao(e))return!1;const s=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const l=qS(s,o.root,this.visualElement.getTransformPagePoint());let u=MS(o.layout.layoutBox,l);if(t){const d=t(US(u));this.hasMutatedConstraints=!!d,d&&(u=W_(d))}return u}startAnimation(e){const{drag:t,dragMomentum:s,dragElastic:o,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=Dn(_=>{if(!Qu(_,t,this.currentDirection))return;let w=f&&f[_]||{};u&&(w={min:0,max:0});const T=o?200:1e6,S=o?40:1e7,V={type:"inertia",velocity:s?e[_]:0,bounceStiffness:T,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...l,...w};return this.startAxisValueAnimation(_,V)});return Promise.all(m).then(d)}startAxisValueAnimation(e,t){const s=this.getAxisMotionValue(e);return s.start(ip(e,s,0,t))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t="_drag"+e.toUpperCase(),s=this.visualElement.getProps(),o=s[t];return o||this.visualElement.getValue(e,(s.initial?s.initial[e]:void 0)||0)}snapToCursor(e){Dn(t=>{const{drag:s}=this.getProps();if(!Qu(t,s,this.currentDirection))return;const{projection:o}=this.visualElement,l=this.getAxisMotionValue(t);if(o&&o.layout){const{min:u,max:d}=o.layout.layoutBox[t];l.set(e[t]-at(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:s}=this.visualElement;if(!Ao(t)||!s||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const d=this.getAxisMotionValue(u);if(d){const f=d.get();o[u]=LS({min:f,max:f},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",s.root&&s.root.updateScroll(),s.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Qu(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:m}=this.constraints[u];d.set(at(f,m,o[u]))})}addListeners(){if(!this.visualElement.current)return;WS.set(this.visualElement,this);const e=this.visualElement.current,t=jr(e,"pointerdown",f=>{const{drag:m,dragListener:_=!0}=this.getProps();m&&_&&this.start(f)}),s=()=>{const{dragConstraints:f}=this.getProps();Ao(f)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,l=o.addEventListener("measure",s);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),s();const u=Dr(window,"resize",()=>this.scalePositionWithinConstraints()),d=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(Dn(_=>{const w=this.getAxisMotionValue(_);w&&(this.originPoint[_]+=f[_].translate,w.set(w.get()+f[_].translate))}),this.visualElement.render())});return()=>{u(),t(),l(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:s=!1,dragPropagation:o=!1,dragConstraints:l=!1,dragElastic:u=cf,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:s,dragPropagation:o,dragConstraints:l,dragElastic:u,dragMomentum:d}}}function Qu(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function KS(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class QS extends bs{constructor(e){super(e),this.removeGroupControls=mt,this.removeListeners=mt,this.controls=new GS(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zy=n=>(e,t)=>{n&&Ye.update(()=>n(e,t))};class YS extends bs{constructor(){super(...arguments),this.removePointerDownListener=mt}onPointerDown(e){this.session=new H_(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Y_(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:s,onPanEnd:o}=this.node.getProps();return{onSessionStart:Zy(e),onStart:Zy(t),onMove:s,onEnd:(l,u)=>{delete this.session,o&&Ye.update(()=>o(l,u))}}}mount(){this.removePointerDownListener=jr(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function XS(){const n=q.useContext(Mc);if(n===null)return[!0,null];const{isPresent:e,onExitComplete:t,register:s}=n,o=q.useId();return q.useEffect(()=>s(o),[]),!e&&t?[!1,()=>t&&t(o)]:[!0]}const sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const $a={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(xe.test(n))n=parseFloat(n);else return n;const t=e0(n,e.target.x),s=e0(n,e.target.y);return`${t}% ${s}%`}},JS={correct:(n,{treeScale:e,projectionDelta:t})=>{const s=n,o=As.parse(n);if(o.length>5)return s;const l=As.createTransformer(n),u=typeof o[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;o[0+u]/=d,o[1+u]/=f;const m=at(d,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=m),typeof o[3+u]=="number"&&(o[3+u]/=m),l(o)}};class ZS extends Dc.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s,layoutId:o}=this.props,{projection:l}=e;oE(eA),l&&(t.group&&t.group.add(l),s&&s.register&&o&&s.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:s,drag:o,isPresent:l}=this.props,u=s.projection;return u&&(u.isPresent=l,o||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Ye.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:s}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(o),s&&s.deregister&&s.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function X_(n){const[e,t]=XS(),s=q.useContext(qf);return Dc.createElement(ZS,{...n,layoutGroup:s,switchLayoutGroup:q.useContext(Wv),isPresent:e,safeToRemove:t})}const eA={borderRadius:{...$a,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$a,borderTopRightRadius:$a,borderBottomLeftRadius:$a,borderBottomRightRadius:$a,boxShadow:JS},J_=["TopLeft","TopRight","BottomLeft","BottomRight"],tA=J_.length,t0=n=>typeof n=="string"?parseFloat(n):n,n0=n=>typeof n=="number"||xe.test(n);function nA(n,e,t,s,o,l){o?(n.opacity=at(0,t.opacity!==void 0?t.opacity:1,rA(s)),n.opacityExit=at(e.opacity!==void 0?e.opacity:1,0,sA(s))):l&&(n.opacity=at(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,s));for(let u=0;u<tA;u++){const d=`border${J_[u]}Radius`;let f=r0(e,d),m=r0(t,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||n0(f)===n0(m)?(n[d]=Math.max(at(t0(f),t0(m),s),0),(fr.test(m)||fr.test(f))&&(n[d]+="%")):n[d]=m}(e.rotate||t.rotate)&&(n.rotate=at(e.rotate||0,t.rotate||0,s))}function r0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const rA=Z_(0,.5,x_),sA=Z_(.5,.95,mt);function Z_(n,e,t){return s=>s<n?0:s>e?1:t(ll(n,e,s))}function s0(n,e){n.min=e.min,n.max=e.max}function Vn(n,e){s0(n.x,e.x),s0(n.y,e.y)}function i0(n,e,t,s,o){return n-=e,n=vc(n,1/t,s),o!==void 0&&(n=vc(n,1/o,s)),n}function iA(n,e=0,t=1,s=.5,o,l=n,u=n){if(fr.test(e)&&(e=parseFloat(e),e=at(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=at(l.min,l.max,s);n===l&&(d-=e),n.min=i0(n.min,e,t,d,o),n.max=i0(n.max,e,t,d,o)}function o0(n,e,[t,s,o],l,u){iA(n,e[t],e[s],e[o],e.scale,l,u)}const oA=["x","scaleX","originX"],aA=["y","scaleY","originY"];function a0(n,e,t,s){o0(n.x,e,oA,t?t.x:void 0,s?s.x:void 0),o0(n.y,e,aA,t?t.y:void 0,s?s.y:void 0)}function l0(n){return n.translate===0&&n.scale===1}function e1(n){return l0(n.x)&&l0(n.y)}function lA(n,e){return n.x.min===e.x.min&&n.x.max===e.x.max&&n.y.min===e.y.min&&n.y.max===e.y.max}function t1(n,e){return Math.round(n.x.min)===Math.round(e.x.min)&&Math.round(n.x.max)===Math.round(e.x.max)&&Math.round(n.y.min)===Math.round(e.y.min)&&Math.round(n.y.max)===Math.round(e.y.max)}function u0(n){return Tn(n.x)/Tn(n.y)}class uA{constructor(){this.members=[]}add(e){op(this.members,e),e.scheduleRender()}remove(e){if(ap(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(o=>e===o);if(t===0)return!1;let s;for(let o=t;o>=0;o--){const l=this.members[o];if(l.isPresent!==!1){s=l;break}}return s?(this.promote(s),!0):!1}promote(e,t){const s=this.lead;if(e!==s&&(this.prevLead=s,this.lead=e,e.show(),s)){s.instance&&s.scheduleRender(),e.scheduleRender(),e.resumeFrom=s,t&&(e.resumeFrom.preserveOpacity=!0),s.snapshot&&(e.snapshot=s.snapshot,e.snapshot.latestValues=s.animationValues||s.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&s.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:s}=e;t.onExitComplete&&t.onExitComplete(),s&&s.options.onExitComplete&&s.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function c0(n,e,t){let s="";const o=n.x.translate/e.x,l=n.y.translate/e.y;if((o||l)&&(s=`translate3d(${o}px, ${l}px, 0) `),(e.x!==1||e.y!==1)&&(s+=`scale(${1/e.x}, ${1/e.y}) `),t){const{rotate:f,rotateX:m,rotateY:_}=t;f&&(s+=`rotate(${f}deg) `),m&&(s+=`rotateX(${m}deg) `),_&&(s+=`rotateY(${_}deg) `)}const u=n.x.scale*e.x,d=n.y.scale*e.y;return(u!==1||d!==1)&&(s+=`scale(${u}, ${d})`),s||"none"}const cA=(n,e)=>n.depth-e.depth;class hA{constructor(){this.children=[],this.isDirty=!1}add(e){op(this.children,e),this.isDirty=!0}remove(e){ap(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cA),this.isDirty=!1,this.children.forEach(e)}}function dA(n,e){const t=performance.now(),s=({timestamp:o})=>{const l=o-t;l>=e&&(Or(s),n(l-e))};return Ye.read(s,!0),()=>Or(s)}function fA(n){window.MotionDebug&&window.MotionDebug.record(n)}function pA(n){return n instanceof SVGElement&&n.tagName!=="svg"}function mA(n,e,t){const s=dn(n)?n:Ro(n);return s.start(ip("",s,e,t)),s.animation}const h0=["","X","Y","Z"],gA={visibility:"hidden"},d0=1e3;let yA=0;const hi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function n1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:s,resetTransform:o}){return class{constructor(u={},d=e==null?void 0:e()){this.id=yA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,hi.totalNodes=hi.resolvedTargetDeltas=hi.recalculatedProjection=0,this.nodes.forEach(wA),this.nodes.forEach(AA),this.nodes.forEach(IA),this.nodes.forEach(xA),fA(hi)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new hA)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new lp),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=pA(u),this.instance=u;const{layoutId:f,layout:m,visualElement:_}=this.options;if(_&&!_.current&&_.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(m||f)&&(this.isLayoutDirty=!0),n){let w;const T=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=dA(T,250),sc.hasAnimatedSinceResize&&(sc.hasAnimatedSinceResize=!1,this.nodes.forEach(p0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&_&&(f||m)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:T,hasRelativeTargetChanged:S,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const N=this.options.transition||_.getDefaultTransition()||NA,{onLayoutAnimationStart:L,onLayoutAnimationComplete:K}=_.getProps(),G=!this.targetLayout||!t1(this.targetLayout,V)||S,$=!T&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||$||T&&(G||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,$);const Q={...sp(N,"layout"),onPlay:L,onComplete:K};(_.shouldReduceMotion||this.options.layoutRoot)&&(Q.delay=0,Q.type=!1),this.startAnimation(Q)}else T||p0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Or(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(CA),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let _=0;_<this.path.length;_++){const w=this.path[_];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(f0);return}this.isUpdating||this.nodes.forEach(EA),this.isUpdating=!1,this.nodes.forEach(SA),this.nodes.forEach(vA),this.nodes.forEach(_A),this.clearAllSnapshots();const d=performance.now();Wt.delta=Ss(0,1e3/60,d-Wt.timestamp),Wt.timestamp=d,Wt.isProcessing=!0,Vd.update.process(Wt),Vd.preRender.process(Wt),Vd.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(TA),this.sharedNodes.forEach(PA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_t(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d&&(this.scroll={animationId:this.root.animationId,phase:u,isRoot:s(this.instance),offset:t(this.instance)})}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform,d=this.projectionDelta&&!e1(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,_=m!==this.prevTransformTemplateValue;u&&(d||ci(this.latestValues)||_)&&(o(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),bA(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:u}=this.options;if(!u)return _t();const d=u.measureViewportBox(),{scroll:f}=this.root;return f&&(ps(d.x,f.offset.x),ps(d.y,f.offset.y)),d}removeElementScroll(u){const d=_t();Vn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f],{scroll:_,options:w}=m;if(m!==this.root&&_&&w.layoutScroll){if(_.isRoot){Vn(d,u);const{scroll:T}=this.root;T&&(ps(d.x,-T.offset.x),ps(d.y,-T.offset.y))}ps(d.x,_.offset.x),ps(d.y,_.offset.y)}}return d}applyTransform(u,d=!1){const f=_t();Vn(f,u);for(let m=0;m<this.path.length;m++){const _=this.path[m];!d&&_.options.layoutScroll&&_.scroll&&_!==_.root&&Po(f,{x:-_.scroll.offset.x,y:-_.scroll.offset.y}),ci(_.latestValues)&&Po(f,_.latestValues)}return ci(this.latestValues)&&Po(f,this.latestValues),f}removeTransform(u){const d=_t();Vn(d,u);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!ci(m.latestValues))continue;hf(m.latestValues)&&m.updateSnapshot();const _=_t(),w=m.measurePageBox();Vn(_,w),a0(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,_)}return ci(this.latestValues)&&a0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==f;if(!(u||m&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:w,layoutId:T}=this.options;if(!(!this.layout||!(w||T))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Za(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=_t(),this.targetWithTransforms=_t()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),VS(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vn(this.target,this.layout.layoutBox),K_(this.target,this.targetDelta)):Vn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_t(),this.relativeTargetOrigin=_t(),Za(this.relativeTargetOrigin,this.target,S.target),Vn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}hi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||hf(this.parent.latestValues)||G_(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(m=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(m=!1),m)return;const{layout:_,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(_||w))return;Vn(this.layoutCorrected,this.layout.layoutBox);const T=this.treeScale.x,S=this.treeScale.y;zS(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox);const{target:V}=d;if(!V){this.projectionTransform&&(this.projectionDelta=Co(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Co(),this.projectionDeltaWithTransform=Co());const N=this.projectionTransform;Ja(this.projectionDelta,this.layoutCorrected,V,this.latestValues),this.projectionTransform=c0(this.projectionDelta,this.treeScale),(this.projectionTransform!==N||this.treeScale.x!==T||this.treeScale.y!==S)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V)),hi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(u,d=!1){const f=this.snapshot,m=f?f.latestValues:{},_={...this.latestValues},w=Co();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const T=_t(),S=f?f.source:void 0,V=this.layout?this.layout.source:void 0,N=S!==V,L=this.getStack(),K=!L||L.members.length<=1,G=!!(N&&!K&&this.options.crossfade===!0&&!this.path.some(RA));this.animationProgress=0;let $;this.mixTargetDelta=Q=>{const ue=Q/1e3;m0(w.x,u.x,ue),m0(w.y,u.y,ue),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Za(T,this.layout.layoutBox,this.relativeParent.layout.layoutBox),kA(this.relativeTarget,this.relativeTargetOrigin,T,ue),$&&lA(this.relativeTarget,$)&&(this.isProjectionDirty=!1),$||($=_t()),Vn($,this.relativeTarget)),N&&(this.animationValues=_,nA(_,m,this.latestValues,ue,G,K)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ue},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Or(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{sc.hasAnimatedSinceResize=!0,this.currentAnimation=mA(0,d0,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(d0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:_}=u;if(!(!d||!f||!m)){if(this!==u&&this.layout&&m&&r1(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||_t();const w=Tn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const T=Tn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+T}Vn(d,f),Po(d,_),Ja(this.projectionDeltaWithTransform,this.layoutCorrected,d,_)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new uA),this.sharedNodes.get(u).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.rotate||f.rotateX||f.rotateY||f.rotateZ)&&(d=!0),!d)return;const m={};for(let _=0;_<h0.length;_++){const w="rotate"+h0[_];f[w]&&(m[w]=f[w],u.setStaticValue(w,0))}u.render();for(const _ in m)u.setStaticValue(_,m[_]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return gA;const m={visibility:""},_=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,m.opacity="",m.pointerEvents=rc(u==null?void 0:u.pointerEvents)||"",m.transform=_?_(this.latestValues,""):"none",m;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const N={};return this.options.layoutId&&(N.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,N.pointerEvents=rc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ci(this.latestValues)&&(N.transform=_?_({},""):"none",this.hasProjected=!1),N}const T=w.animationValues||w.latestValues;this.applyTransformsToTarget(),m.transform=c0(this.projectionDeltaWithTransform,this.treeScale,T),_&&(m.transform=_(T,m.transform));const{x:S,y:V}=this.projectionDelta;m.transformOrigin=`${S.origin*100}% ${V.origin*100}% 0`,w.animationValues?m.opacity=w===this?(f=(d=T.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:T.opacityExit:m.opacity=w===this?T.opacity!==void 0?T.opacity:"":T.opacityExit!==void 0?T.opacityExit:0;for(const N in hc){if(T[N]===void 0)continue;const{correct:L,applyTo:K}=hc[N],G=m.transform==="none"?T[N]:L(T[N],w);if(K){const $=K.length;for(let Q=0;Q<$;Q++)m[K[Q]]=G}else m[N]=G}return this.options.layoutId&&(m.pointerEvents=w===this?rc(u==null?void 0:u.pointerEvents)||"":"none"),m}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(f0),this.root.sharedNodes.clear()}}}function vA(n){n.updateLayout()}function _A(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:o}=n.layout,{animationType:l}=n.options,u=t.source!==n.layout.source;l==="size"?Dn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],S=Tn(T);T.min=s[w].min,T.max=T.min+S}):r1(l,t.layoutBox,s)&&Dn(w=>{const T=u?t.measuredBox[w]:t.layoutBox[w],S=Tn(s[w]);T.max=T.min+S,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[w].max=n.relativeTarget[w].min+S)});const d=Co();Ja(d,s,t.layoutBox);const f=Co();u?Ja(f,n.applyTransform(o,!0),t.measuredBox):Ja(f,s,t.layoutBox);const m=!e1(d);let _=!1;if(!n.resumeFrom){const w=n.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:T,layout:S}=w;if(T&&S){const V=_t();Za(V,t.layoutBox,T.layoutBox);const N=_t();Za(N,s,S.layoutBox),t1(V,N)||(_=!0),w.options.layoutRoot&&(n.relativeTarget=N,n.relativeTargetOrigin=V,n.relativeParent=w)}}}n.notifyListeners("didUpdate",{layout:s,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeTargetChanged:_})}else if(n.isLead()){const{onExitComplete:s}=n.options;s&&s()}n.options.transition=void 0}function wA(n){hi.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function xA(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function TA(n){n.clearSnapshot()}function f0(n){n.clearMeasurements()}function EA(n){n.isLayoutDirty=!1}function SA(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function p0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function AA(n){n.resolveTargetDelta()}function IA(n){n.calcProjection()}function CA(n){n.resetRotation()}function PA(n){n.removeLeadSnapshot()}function m0(n,e,t){n.translate=at(e.translate,0,t),n.scale=at(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function g0(n,e,t,s){n.min=at(e.min,t.min,s),n.max=at(e.max,t.max,s)}function kA(n,e,t,s){g0(n.x,e.x,t.x,s),g0(n.y,e.y,t.y,s)}function RA(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const NA={duration:.45,ease:[.4,0,.1,1]},y0=n=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(n),v0=y0("applewebkit/")&&!y0("chrome/")?Math.round:mt;function _0(n){n.min=v0(n.min),n.max=v0(n.max)}function bA(n){_0(n.x),_0(n.y)}function r1(n,e,t){return n==="position"||n==="preserve-aspect"&&!uf(u0(e),u0(t),.2)}const VA=n1({attachResizeListener:(n,e)=>Dr(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),$d={current:void 0},s1=n1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!$d.current){const n=new VA({});n.mount(window),n.setOptions({layoutScroll:!0}),$d.current=n}return $d.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),DA={pan:{Feature:YS},drag:{Feature:QS,ProjectionNode:s1,MeasureLayout:X_}},jA=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function MA(n){const e=jA.exec(n);if(!e)return[,];const[,t,s]=e;return[t,s]}function ff(n,e,t=1){const[s,o]=MA(n);if(!s)return;const l=window.getComputedStyle(e).getPropertyValue(s);if(l){const u=l.trim();return U_(u)?parseFloat(u):u}else return tf(o)?ff(o,e,t+1):o}function LA(n,{...e},t){const s=n.current;if(!(s instanceof Element))return{target:e,transitionEnd:t};t&&(t={...t}),n.values.forEach(o=>{const l=o.get();if(!tf(l))return;const u=ff(l,s);u&&o.set(u)});for(const o in e){const l=e[o];if(!tf(l))continue;const u=ff(l,s);u&&(e[o]=u,t||(t={}),t[o]===void 0&&(t[o]=l))}return{target:e,transitionEnd:t}}const OA=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),i1=n=>OA.has(n),FA=n=>Object.keys(n).some(i1),w0=n=>n===Ei||n===xe,x0=(n,e)=>parseFloat(n.split(", ")[e]),T0=(n,e)=>(t,{transform:s})=>{if(s==="none"||!s)return 0;const o=s.match(/^matrix3d\((.+)\)$/);if(o)return x0(o[1],e);{const l=s.match(/^matrix\((.+)\)$/);return l?x0(l[1],n):0}},UA=new Set(["x","y","z"]),BA=xl.filter(n=>!UA.has(n));function zA(n){const e=[];return BA.forEach(t=>{const s=n.getValue(t);s!==void 0&&(e.push([t,s.get()]),s.set(t.startsWith("scale")?1:0))}),e.length&&n.render(),e}const No={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:T0(4,13),y:T0(5,14)};No.translateX=No.x;No.translateY=No.y;const $A=(n,e,t)=>{const s=e.measureViewportBox(),o=e.current,l=getComputedStyle(o),{display:u}=l,d={};u==="none"&&e.setStaticValue("display",n.display||"block"),t.forEach(m=>{d[m]=No[m](s,l)}),e.render();const f=e.measureViewportBox();return t.forEach(m=>{const _=e.getValue(m);_&&_.jump(d[m]),n[m]=No[m](f,l)}),n},HA=(n,e,t={},s={})=>{e={...e},s={...s};const o=Object.keys(e).filter(i1);let l=[],u=!1;const d=[];if(o.forEach(f=>{const m=n.getValue(f);if(!n.hasValue(f))return;let _=t[f],w=za(_);const T=e[f];let S;if(fc(T)){const V=T.length,N=T[0]===null?1:0;_=T[N],w=za(_);for(let L=N;L<V&&T[L]!==null;L++)S?Zf(za(T[L])===S):S=za(T[L])}else S=za(T);if(w!==S)if(w0(w)&&w0(S)){const V=m.get();typeof V=="string"&&m.set(parseFloat(V)),typeof T=="string"?e[f]=parseFloat(T):Array.isArray(T)&&S===xe&&(e[f]=T.map(parseFloat))}else w!=null&&w.transform&&(S!=null&&S.transform)&&(_===0||T===0)?_===0?m.set(S.transform(_)):e[f]=w.transform(T):(u||(l=zA(n),u=!0),d.push(f),s[f]=s[f]!==void 0?s[f]:e[f],m.jump(T))}),d.length){const f=d.indexOf("height")>=0?window.pageYOffset:null,m=$A(e,n,d);return l.length&&l.forEach(([_,w])=>{n.getValue(_).set(w)}),n.render(),Lc&&f!==null&&window.scrollTo({top:f}),{target:m,transitionEnd:s}}else return{target:e,transitionEnd:s}};function qA(n,e,t,s){return FA(e)?HA(n,e,t,s):{target:e,transitionEnd:s}}const WA=(n,e,t,s)=>{const o=LA(n,e,s);return e=o.target,s=o.transitionEnd,qA(n,e,t,s)},pf={current:null},o1={current:!1};function GA(){if(o1.current=!0,!!Lc)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>pf.current=n.matches;n.addListener(e),e()}else pf.current=!1}function KA(n,e,t){const{willChange:s}=e;for(const o in e){const l=e[o],u=t[o];if(dn(l))n.addValue(o,l),yc(s)&&s.add(o);else if(dn(u))n.addValue(o,Ro(l,{owner:n})),yc(s)&&s.remove(o);else if(u!==l)if(n.hasValue(o)){const d=n.getValue(o);!d.hasAnimated&&d.set(l)}else{const d=n.getStaticValue(o);n.addValue(o,Ro(d!==void 0?d:l,{owner:n}))}}for(const o in t)e[o]===void 0&&n.removeValue(o);return e}const E0=new WeakMap,a1=Object.keys(al),QA=a1.length,S0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],YA=Hf.length;class XA{constructor({parent:e,props:t,presenceContext:s,reducedMotionConfig:o,visualState:l},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ye.render(this.render,!1,!0);const{latestValues:d,renderState:f}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=t.initial?{...d}:{},this.renderState=f,this.parent=e,this.props=t,this.presenceContext=s,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=u,this.isControllingVariants=Fc(t),this.isVariantNode=qv(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,..._}=this.scrapeMotionValuesFromProps(t,{});for(const w in _){const T=_[w];d[w]!==void 0&&dn(T)&&(T.set(d[w],!1),yc(m)&&m.add(w))}}scrapeMotionValuesFromProps(e,t){return{}}mount(e){this.current=e,E0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,s)=>this.bindToMotionValue(s,t)),o1.current||GA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){E0.delete(this.current),this.projection&&this.projection.unmount(),Or(this.notifyUpdate),Or(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,t){const s=Ti.has(e),o=t.on("change",u=>{this.latestValues[e]=u,this.props.onUpdate&&Ye.update(this.notifyUpdate,!1,!0),s&&this.projection&&(this.projection.isTransformDirty=!0)}),l=t.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),l()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...t},s,o,l){let u,d;for(let f=0;f<QA;f++){const m=a1[f],{isEnabled:_,Feature:w,ProjectionNode:T,MeasureLayout:S}=al[m];T&&(u=T),_(t)&&(!this.features[m]&&w&&(this.features[m]=new w(this)),S&&(d=S))}if((this.type==="html"||this.type==="svg")&&!this.projection&&u){this.projection=new u(this.latestValues,this.parent&&this.parent.projection);const{layoutId:f,layout:m,drag:_,dragConstraints:w,layoutScroll:T,layoutRoot:S}=t;this.projection.setOptions({layoutId:f,layout:m,alwaysMeasureLayout:!!_||w&&Ao(w),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof m=="string"?m:"both",initialPromotionConfig:l,layoutScroll:T,layoutRoot:S})}return d}updateFeatures(){for(const e in this.features){const t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_t()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}makeTargetAnimatable(e,t=!0){return this.makeTargetAnimatableFromInstance(e,this.props,t)}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let s=0;s<S0.length;s++){const o=S0[s];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const l=e["on"+o];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=KA(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const s=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(s.initial=this.props.initial),s}const t={};for(let s=0;s<YA;s++){const o=Hf[s],l=this.props[o];(ol(l)||l===!1)&&(t[o]=l)}return t}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){t!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,t)),this.values.set(e,t),this.latestValues[e]=t.get()}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let s=this.values.get(e);return s===void 0&&t!==void 0&&(s=Ro(t,{owner:this}),this.addValue(e,s)),s}readValue(e){var t;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(t=this.getBaseTargetFromProps(this.props,e))!==null&&t!==void 0?t:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:s}=this.props,o=typeof s=="string"||typeof s=="object"?(t=Jf(this.props,s))===null||t===void 0?void 0:t[e]:void 0;if(s&&o!==void 0)return o;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!dn(l)?l:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new lp),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class l1 extends XA{sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:s}){delete t[e],delete s[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:t,...s},{transformValues:o},l){let u=pS(s,e||{},this);if(o&&(t&&(t=o(t)),s&&(s=o(s)),u&&(u=o(u))),l){dS(this,s,u);const d=WA(this,s,u,t);t=d.transitionEnd,s=d.target}return{transition:e,transitionEnd:t,...s}}}function JA(n){return window.getComputedStyle(n)}class ZA extends l1{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,t){if(Ti.has(t)){const s=rp(t);return s&&s.default||0}else{const s=JA(e),o=(Qv(t)?s.getPropertyValue(t):s[t])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:t}){return Q_(e,t)}build(e,t,s,o){Gf(e,t,s,o.transformTemplate)}scrapeMotionValuesFromProps(e,t){return Xf(e,t)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;dn(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}renderInstance(e,t,s,o){t_(e,t,s,o)}}class eI extends l1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ti.has(t)){const s=rp(t);return s&&s.default||0}return t=n_.has(t)?t:zf(t),e.getAttribute(t)}measureInstanceViewportBox(){return _t()}scrapeMotionValuesFromProps(e,t){return s_(e,t)}build(e,t,s,o){Qf(e,t,s,this.isSVGTag,o.transformTemplate)}renderInstance(e,t,s,o){r_(e,t,s,o)}mount(e){this.isSVGTag=Yf(e.tagName),super.mount(e)}}const tI=(n,e)=>Wf(n)?new eI(e,{enableHardwareAcceleration:!1}):new ZA(e,{enableHardwareAcceleration:!0}),nI={layout:{ProjectionNode:s1,MeasureLayout:X_}},rI={...kS,...QE,...DA,...nI},re=sE((n,e)=>ME(n,e,rI,tI));function u1(){const n=q.useRef(!1);return Bf(()=>(n.current=!0,()=>{n.current=!1}),[]),n}function sI(){const n=u1(),[e,t]=q.useState(0),s=q.useCallback(()=>{n.current&&t(e+1)},[e]);return[q.useCallback(()=>Ye.postRender(s),[s]),e]}class iI extends q.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){const s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oI({children:n,isPresent:e}){const t=q.useId(),s=q.useRef(null),o=q.useRef({width:0,height:0,top:0,left:0});return q.useInsertionEffect(()=>{const{width:l,height:u,top:d,left:f}=o.current;if(e||!s.current||!l||!u)return;s.current.dataset.motionPopId=t;const m=document.createElement("style");return document.head.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${t}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${u}px !important;
            top: ${d}px !important;
            left: ${f}px !important;
          }
        `),()=>{document.head.removeChild(m)}},[e]),q.createElement(iI,{isPresent:e,childRef:s,sizeRef:o},q.cloneElement(n,{ref:s}))}const Hd=({children:n,initial:e,isPresent:t,onExitComplete:s,custom:o,presenceAffectsLayout:l,mode:u})=>{const d=i_(aI),f=q.useId(),m=q.useMemo(()=>({id:f,initial:e,isPresent:t,custom:o,onExitComplete:_=>{d.set(_,!0);for(const w of d.values())if(!w)return;s&&s()},register:_=>(d.set(_,!1),()=>d.delete(_))}),l?void 0:[t]);return q.useMemo(()=>{d.forEach((_,w)=>d.set(w,!1))},[t]),q.useEffect(()=>{!t&&!d.size&&s&&s()},[t]),u==="popLayout"&&(n=q.createElement(oI,{isPresent:t},n)),q.createElement(Mc.Provider,{value:m},n)};function aI(){return new Map}function lI(n){return q.useEffect(()=>()=>n(),[])}const di=n=>n.key||"";function uI(n,e){n.forEach(t=>{const s=di(t);e.set(s,t)})}function cI(n){const e=[];return q.Children.forEach(n,t=>{q.isValidElement(t)&&e.push(t)}),e}const tn=({children:n,custom:e,initial:t=!0,onExitComplete:s,exitBeforeEnter:o,presenceAffectsLayout:l=!0,mode:u="sync"})=>{const d=q.useContext(qf).forceRender||sI()[0],f=u1(),m=cI(n);let _=m;const w=q.useRef(new Map).current,T=q.useRef(_),S=q.useRef(new Map).current,V=q.useRef(!0);if(Bf(()=>{V.current=!1,uI(m,S),T.current=_}),lI(()=>{V.current=!0,S.clear(),w.clear()}),V.current)return q.createElement(q.Fragment,null,_.map(G=>q.createElement(Hd,{key:di(G),isPresent:!0,initial:t?void 0:!1,presenceAffectsLayout:l,mode:u},G)));_=[..._];const N=T.current.map(di),L=m.map(di),K=N.length;for(let G=0;G<K;G++){const $=N[G];L.indexOf($)===-1&&!w.has($)&&w.set($,void 0)}return u==="wait"&&w.size&&(_=[]),w.forEach((G,$)=>{if(L.indexOf($)!==-1)return;const Q=S.get($);if(!Q)return;const ue=N.indexOf($);let oe=G;if(!oe){const P=()=>{w.delete($);const I=Array.from(S.keys()).filter(C=>!L.includes(C));if(I.forEach(C=>S.delete(C)),T.current=m.filter(C=>{const b=di(C);return b===$||I.includes(b)}),!w.size){if(f.current===!1)return;d(),s&&s()}};oe=q.createElement(Hd,{key:di(Q),isPresent:!1,onExitComplete:P,custom:e,presenceAffectsLayout:l,mode:u},Q),w.set($,oe)}_.splice(ue,0,oe)}),_=_.map(G=>{const $=G.key;return w.has($)?G:q.createElement(Hd,{key:di(G),isPresent:!0,presenceAffectsLayout:l,mode:u},G)}),q.createElement(q.Fragment,null,w.size?_:_.map(G=>q.cloneElement(G)))};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ze=(n,e)=>{const t=q.forwardRef(({color:s="currentColor",size:o=24,strokeWidth:l=2,absoluteStrokeWidth:u,className:d="",children:f,...m},_)=>q.createElement("svg",{ref:_,...hI,width:o,height:o,stroke:s,strokeWidth:u?Number(l)*24/Number(o):l,className:["lucide",`lucide-${dI(n)}`,d].join(" "),...m},[...e.map(([w,T])=>q.createElement(w,T)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=ze("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const up=ze("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=ze("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=ze("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=ze("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=ze("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=ze("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=ze("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=ze("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=ze("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=ze("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=ze("Flower",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M12 16.5A4.5 4.5 0 1 1 7.5 12 4.5 4.5 0 1 1 12 7.5a4.5 4.5 0 1 1 4.5 4.5 4.5 4.5 0 1 1-4.5 4.5",key:"14wa3c"}],["path",{d:"M12 7.5V9",key:"1oy5b0"}],["path",{d:"M7.5 12H9",key:"eltsq1"}],["path",{d:"M16.5 12H15",key:"vk5kw4"}],["path",{d:"M12 16.5V15",key:"k7eayi"}],["path",{d:"m8 8 1.88 1.88",key:"nxy4qf"}],["path",{d:"M14.12 9.88 16 8",key:"1lst6k"}],["path",{d:"m8 16 1.88-1.88",key:"h2eex1"}],["path",{d:"M14.12 14.12 16 16",key:"uqkrx3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=ze("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=ze("HeartHandshake",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08v0c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"12sd6o"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=ze("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=ze("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=ze("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=ze("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ze("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mf=ze("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=ze("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=ze("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=ze("Plane",[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=ze("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ze("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=ze("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=ze("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ze("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=ze("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hp=ze("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=ze("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=ze("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=ze("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bI=()=>v.jsxs("header",{className:"text-center py-12",children:[v.jsx(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},className:"inline-block",children:v.jsx(ot,{className:"h-16 w-16 mx-auto text-red-500 mb-4",fill:"#FCA5A5"})}),v.jsx(re.h1,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.3,duration:.8},className:"text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-red-600 mb-4",children:"Happy Birthday, Sarah"}),v.jsx(re.p,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.6,duration:.8},className:"text-xl md:text-2xl text-purple-700 max-w-2xl mx-auto leading-relaxed",children:"To the woman who makes my heart skip a beat, who fills my days with joy, and who makes every moment worth living. This is for you."})]}),VI=()=>{const n=[{url:"/Sarah/img/photo_2_2025-05-20_17-15-33.jpg",caption:"The day we first met – where every chapter of grace began. ❤️"},{url:"/Sarah/img/photo_2025-05-20_17-44-39.jpg",caption:"“For I know the plans I have for you...” – Jeremiah 29:11 🌸"},{url:"/Sarah/img/photo_3_2025-05-20_17-15-33.jpg",caption:"“To everything there is a season...” – Ecclesiastes 3:1 🍂"},{url:"/Sarah/img/photo_4_2025-05-20_17-15-33.jpg",caption:"In the wilderness, He carried you – Deuteronomy 1:31 💫"},{url:"/Sarah/img/photo_5_2025-05-20_17-15-33.jpg",caption:"“My grace is sufficient for thee...” – 2 Corinthians 12:9 🙏"},{url:"/Sarah/img/photo_6_2025-05-20_17-15-33.jpg",caption:"“Sit still, my daughter, until you see how the matter will turn out.” – Ruth 3:18 🌾"},{url:"/Sarah/img/photo_7_2025-05-20_17-15-33.jpg",caption:"“I will ascend... I will exalt...” – Isaiah 14:13 🌠 (A reminder of the power of humility)"},{url:"/Sarah/img/photo_9_2025-05-20_17-15-33.jpg",caption:"Your joy is a light that even time respects ✨"},{url:"/Sarah/img/photo_10_2025-05-20_17-15-33.jpg",caption:"If grace had a face, it would look a lot like you 💖"},{url:"/Sarah/img/photo_11_2025-05-20_17-15-33.jpg",caption:"Heaven whispers through your smile – Happy Birthday, Sarah 🎂👑"}],[e,t]=q.useState(0),[s,o]=q.useState(!0),l=()=>{t(e===n.length-1?0:e+1)},u=()=>{t(e===0?n.length-1:e-1)};q.useEffect(()=>{let f;return s&&(f=setInterval(()=>{l()},5e3)),()=>clearInterval(f)},[e,s]);const d=()=>{o(!1),setTimeout(()=>o(!0),15e3)};return v.jsxs("section",{className:"py-8",id:"gallery",children:[v.jsx(re.h2,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"text-3xl md:text-4xl font-serif font-bold text-purple-800 text-center mb-8",children:"Birthday Blessings for Sarah 💜"}),v.jsxs("div",{className:"relative h-[600px] w-[400px] md:h-[700px] md:w-[500px] mx-auto rounded-xl overflow-hidden shadow-xl",children:[v.jsx(tn,{mode:"wait",children:v.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"absolute inset-0",children:[v.jsx("img",{src:n[e].url,alt:n[e].caption,className:"w-full h-full object-cover",loading:"lazy"}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-6",children:v.jsx("p",{className:"text-white text-lg md:text-xl font-medium",children:n[e].caption})})]},e)}),v.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/60 p-2 rounded-full backdrop-blur-sm text-white transition duration-300",onClick:()=>{u(),d()},"aria-label":"Previous image",children:v.jsx(gI,{className:"h-6 w-6"})}),v.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 bg-white/30 hover:bg-white/60 p-2 rounded-full backdrop-blur-sm text-white transition duration-300",onClick:()=>{l(),d()},"aria-label":"Next image",children:v.jsx(yI,{className:"h-6 w-6"})}),v.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex space-x-2",children:n.map((f,m)=>v.jsx("button",{className:`h-2 w-2 rounded-full transition-all duration-300 ${e===m?"bg-white w-4":"bg-white/50"}`,onClick:()=>{t(m),d()},"aria-label":`Go to slide ${m+1}`},m))})]})]})},DI=()=>v.jsx("section",{className:"py-8",id:"letter",children:v.jsxs(re.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"max-w-3xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(EI,{className:"h-12 w-12 mx-auto text-red-500 mb-4"}),v.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-purple-800",children:"My Birthday Letter to You 💌"})]}),v.jsxs(re.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{delay:.3,duration:.8},className:"bg-white p-8 md:p-10 rounded-xl shadow-lg border border-pink-200",children:[v.jsx("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:"My dearest Sarah💖,"}),v.jsx("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:"As I write this letter for your birthday 🎂, I find myself marveling at how fortunate I am to have you in my life. Each day with you is a gift 🎁 that I cherish more than you could ever know."}),v.jsxs("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:["Today is not just a celebration of your birth, but a celebration of everything you are - your kindness 🌸, your strength 💪, your beautiful smile 😊 that lights up my world, and the countless ways you make life better just by being you.",v.jsx("br",{}),v.jsx("em",{className:"text-sm text-purple-600 block mt-2",children:"“You are altogether beautiful, my darling; there is no flaw in you.” — Song of Solomon 4:7 ✨"})]}),v.jsxs("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:["Do you remember when we first met? I knew even then that you were someone special. What I couldn't have known was how deeply you would touch my heart, how completely you would change my life, and how perfectly we would fit together.",v.jsx("br",{}),v.jsx("em",{className:"text-sm text-purple-600 block mt-2",children:"“The Lord has done this, and it is marvelous in our eyes.” — Psalm 118:23 🙏"})]}),v.jsxs("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:["On your special day, I want you to know that my love for you grows with each passing moment. You are my best friend, my confidant, my partner in all of life's adventures, and the woman I can't wait to build a future with. 🏡💑",v.jsx("br",{}),v.jsx("em",{className:"text-sm text-purple-600 block mt-2",children:"“Two are better than one… for if they fall, one will lift up the other.” — Ecclesiastes 4:9-10 🤝"})]}),v.jsxs("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:["Happy birthday, my love 🎉. May this year bring you all the joy, success, and happiness that you deserve.",v.jsx("br",{}),v.jsx("em",{className:"text-sm text-purple-600 block mt-2",children:"“For I know the plans I have for you… plans to prosper you and not to harm you, plans to give you hope and a future.” — Jeremiah 29:11 🌟"})]}),v.jsxs("p",{className:"text-lg leading-relaxed mb-6 text-gray-700",children:["As you journey into this new year of your life, may the words of ",v.jsx("strong",{children:"Psalm 91"})," be your covering and your shield:",v.jsx("br",{}),v.jsxs("em",{className:"text-sm text-purple-700 block mt-3 leading-snug",children:["“He who dwells in the secret place of the Most High, shall abide under the shadow of the Almighty. I will say of the Lord, ‘He is my refuge and my fortress; My God, in Him I will trust.’”",v.jsx("br",{}),"— Psalm 91:1–2 🕊️"]})]}),v.jsx("p",{className:"text-lg leading-relaxed text-gray-700 text-right",children:"Forever yours, 💌"}),v.jsx("p",{className:"text-xl font-bold mt-2 text-black-700 text-right",children:"Jr Patrick 🙇🏽‍♂️"})]})]})}),jI=()=>{const[n,e]=q.useState(!1),[t,s]=q.useState(!1);q.useEffect(()=>{const l=setTimeout(()=>{e(!0)},1500);return()=>clearTimeout(l)},[]);const o=()=>{n&&(e(!1),s(!0),setTimeout(()=>{s(!1),setTimeout(()=>e(!0),3e3)},4e3))};return v.jsxs("div",{className:"relative w-full max-w-md mx-auto h-[450px] flex items-end justify-center",children:[v.jsx(re.div,{initial:{opacity:0,y:10},animate:{opacity:t?1:0,y:t?-30:10},className:"absolute top-10 text-center w-full z-20",children:v.jsx(re.div,{animate:{y:t?[0,-40]:0},transition:{duration:3,ease:"easeOut"},className:"inline-block bg-white/90 backdrop-blur-md rounded-full px-8 py-4 shadow-xl",children:v.jsx("h3",{className:"text-2xl font-semibold text-pink-600",children:"✨ Make a wish, my love! ✨"})})}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 w-72 h-6 bg-white rounded-full shadow-md"}),[{width:"w-40",colors:"from-pink-400 to-pink-500",dots:6},{width:"w-52",colors:"from-purple-400 to-purple-500",dots:8},{width:"w-68",colors:"from-red-400 to-red-500",dots:10}].map((l,u)=>v.jsxs(re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3+u*.2,duration:.5,type:"spring"},className:`relative h-20 ${l.width} bg-gradient-to-r ${l.colors} rounded-2xl shadow-lg mb-2 mx-auto z-${10+u}`,children:[v.jsx("div",{className:"absolute top-0 left-0 w-full h-4 bg-white rounded-b-full shadow-inner"}),Array.from({length:l.dots}).map((d,f)=>v.jsx("div",{className:"absolute bottom-2 w-2.5 h-2.5 bg-white rounded-full",style:{left:`${(f+1)*(100/(l.dots+1))}%`}},`dot-${u}-${f}`))]},`layer-${u}`)),Array.from({length:4}).map((l,u)=>v.jsx("div",{className:"absolute -top-12",style:{left:`${22+u*18}%`},children:v.jsxs("div",{className:"w-2.5 h-14 bg-gradient-to-b from-blue-300 to-blue-500 relative rounded-sm shadow-sm",children:[Array.from({length:4}).map((d,f)=>v.jsx("div",{className:"absolute left-0 w-full h-0.5 bg-white opacity-60",style:{top:`${(f+1)*25}%`}},f)),v.jsx(re.div,{initial:{scale:0},animate:{scale:n?[.8,1.2,.8]:0,opacity:n?1:0},transition:{repeat:n?1/0:0,duration:.8,ease:"easeInOut"},className:"absolute -top-6 left-1/2 -translate-x-1/2 w-4 h-6 bg-gradient-to-b from-yellow-300 to-orange-500 rounded-full"}),n&&v.jsx(re.div,{animate:{scale:[1,1.5,1],opacity:[.6,.8,.6]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},className:"absolute -top-4 left-1/2 -translate-x-1/2 w-8 h-8 bg-yellow-300/30 rounded-full blur-md"})]})},`candle-${u}`))]}),v.jsx("div",{className:"cake",children:v.jsx("button",{onClick:o,disabled:!n,className:`absolute top-24 left-1/2 -translate-x-1/2 px-6 py-3 rounded-full transition-all duration-300 font-semibold shadow-lg ${n?"bg-gradient-to-r from-pink-500 to-purple-500 text-white hover:from-pink-600 hover:to-purple-600":"bg-gray-200 text-gray-400 opacity-50"}`,children:"Blow Candles"})})]})},MI=({onOpenGift:n,isOpen:e})=>{const[t,s]=q.useState(!1),o=()=>{n(),s(!0)},l=()=>{s(!1)};return v.jsxs("section",{className:"py-16",id:"gift",children:[v.jsxs(re.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.8},className:"max-w-md mx-auto text-center",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-purple-800 mb-6",children:"Your Special Gift"}),v.jsx("p",{className:"text-lg text-gray-700 mb-8",children:"I've prepared something special just for you. Hope you like it!"}),v.jsxs(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-4 rounded-full text-xl font-bold shadow-lg flex items-center justify-center mx-auto",children:[v.jsx(_c,{className:"mr-2 h-6 w-6"}),"Open Your Gift"]})]}),v.jsx(tn,{children:t&&v.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4",onClick:l,children:v.jsxs(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{type:"spring",damping:20},className:"bg-white rounded-2xl p-6 md:p-8 max-w-lg w-full max-h-[90vh] overflow-y-auto relative",onClick:u=>u.stopPropagation(),children:[v.jsx("button",{onClick:l,className:"absolute top-4 right-4 text-gray-500 hover:text-gray-700","aria-label":"Close modal",children:v.jsx(m1,{className:"h-6 w-6"})}),v.jsxs("div",{className:"text-center py-4",children:[v.jsx("h3",{className:"text-2xl md:text-3xl font-serif font-bold text-purple-800 mb-6",children:"My Gift to You"}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"w-full h-64 mb-6 bg-pink-100 rounded-lg flex items-center justify-center overflow-hidden",children:v.jsxs("video",{className:"w-full h-full object-cover rounded-lg",controls:!0,autoPlay:!0,children:[v.jsx("source",{src:"/Sarah/video_2025-05-20_18-00-20.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]})}),v.jsx("p",{className:"text-lg italic text-black-600 dark:text-black-300",children:"This is but a moment in the beautiful cycle God has designed, where every season has its purpose, every sunrise holds a promise. Like the lilies of the field and the turning of the leaves, your life blooms in divine rhythm. What comes next is a whisper from heaven... sacred and unfolding."})]})]})]})})})]})},LI=()=>v.jsxs("footer",{className:"py-8 mt-16 text-center",children:[v.jsxs("div",{className:"flex items-center justify-center text-pink-600",children:[v.jsx("p",{className:"text-sm",children:"Made with"}),v.jsx(ot,{className:"h-4 w-4 mx-1",fill:"#FCA5A5"}),v.jsx("p",{className:"text-sm",children:"for you"})]}),v.jsx("p",{className:"text-purple-700 mt-2 text-sm",children:"Happy Birthday, my love! Always and Forever."})]}),OI=Dc.memo(LI),FI=()=>{let n;return()=>(n||(n={activePlayer:null,registerPlayer:function(e,t){this.activePlayer&&this.activePlayer.id!==e&&this.activePlayer.pause(),this.activePlayer={id:e,pause:t}},unregisterPlayer:function(e){this.activePlayer&&this.activePlayer.id===e&&(this.activePlayer=null)}}),n)},UI=FI(),BI=()=>{const[n,e]=q.useState(!1),[t,s]=q.useState(!1),[o,l]=q.useState(.5),[u,d]=q.useState(!1),f=q.useRef(null),[m,_]=q.useState(!1),w=q.useRef(`player-${Math.random().toString(36).substr(2,9)}`),T=UI(),S=[{name:"Romantic Background Music",url:"/Sarah/alex-warren-ordinary.mp3"}],V=()=>{f.current&&n&&(f.current.pause(),e(!1))};q.useEffect(()=>{f.current=new Audio(S[0].url),f.current.loop=!0,f.current.volume=o;const $=()=>{_(!0),console.log("Audio loaded and ready to play"),f.current&&(T.registerPlayer(w.current,V),f.current.play().then(()=>{console.log("Autoplay successful"),e(!0)}).catch(oe=>{console.log("Autoplay prevented by browser policy:",oe),T.unregisterPlayer(w.current)}))};f.current.addEventListener("canplaythrough",$);const Q=oe=>{oe.target!==f.current&&n&&f.current&&(f.current.pause(),e(!1),T.unregisterPlayer(w.current))};document.addEventListener("play",Q,!0);const ue=oe=>{const P=oe.target,I=b=>{var j,F;return b?!!((j=b.textContent)!=null&&j.toLowerCase().includes("open your gift")||b.classList.contains("gift-button")||b.id.includes("gift")||(F=b.getAttribute("aria-label"))!=null&&F.toLowerCase().includes("gift")||b.dataset.gift||b.dataset.type==="gift"):!1};let C=P;for(let b=0;b<3&&C;b++){if(I(C)){n&&f.current&&(console.log("Gift button clicked, pausing audio"),f.current.pause(),e(!1),T.unregisterPlayer(w.current));break}C=C.parentElement}};return document.addEventListener("click",ue,!0),()=>{f.current&&(f.current.removeEventListener("canplaythrough",$),f.current.pause(),f.current.src="",T.unregisterPlayer(w.current)),document.removeEventListener("play",Q,!0),document.removeEventListener("click",ue,!0)}},[]),q.useEffect(()=>{f.current&&(f.current.volume=t?0:o)},[o,t]);const N=()=>{if(!(!f.current||!m)){if(n)f.current.pause(),T.unregisterPlayer(w.current);else{T.registerPlayer(w.current,V);const $=f.current.play();$!==void 0&&$.then(()=>{console.log("Audio playing successfully")}).catch(Q=>{console.error("Playback failed:",Q),alert("Please click 'Play Music' again to enable the background music"),T.unregisterPlayer(w.current)})}e(!n)}},L=()=>{f.current&&(f.current.muted=!f.current.muted,s(!t))},K=$=>{const Q=parseFloat($.target.value);l(Q),f.current&&(f.current.volume=Q,Q===0?s(!0):t&&s(!1))},G=()=>{d(!u)};return v.jsx("div",{className:`fixed bottom-4 right-4 z-40 bg-white/90 backdrop-blur-sm rounded-full shadow-lg transition-all duration-300 ${u?"w-64 px-4 py-3":"w-12 h-12"}`,children:u?v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("p",{className:"text-sm font-medium text-purple-800 truncate flex-1",children:S[0].name}),v.jsx("button",{onClick:G,className:"text-gray-500 hover:text-gray-700","aria-label":"Close music player",children:v.jsx(mf,{className:"h-5 w-5"})})]}),v.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[v.jsx("button",{onClick:N,className:"text-purple-600 hover:text-purple-800 bg-purple-100 p-1.5 rounded-full","aria-label":n?"Pause music":"Play music",children:n?v.jsx(cp,{className:"h-4 w-4"}):v.jsx(wc,{className:"h-4 w-4"})}),v.jsx("button",{onClick:L,className:"text-purple-600 hover:text-purple-800","aria-label":t?"Unmute":"Mute",children:t?v.jsx(p1,{className:"h-4 w-4"}):v.jsx(hp,{className:"h-4 w-4"})}),v.jsx("input",{type:"range",min:"0",max:"1",step:"0.01",value:o,onChange:K,className:"w-full accent-purple-600 h-1","aria-label":"Volume control"})]})]}):v.jsx("button",{onClick:G,className:"w-12 h-12 flex items-center justify-center text-purple-600 hover:text-purple-800 transition-colors","aria-label":"Open music player",children:v.jsx(mf,{className:"h-6 w-6"})})})},zI=()=>{const[n,e]=q.useState([]);q.useEffect(()=>{const s=Array.from({length:8},(l,u)=>t(u));e(s);const o=setInterval(()=>{e(l=>[...l.length>=15?[...l.slice(1)]:[...l],t(Date.now())])},5e3);return()=>clearInterval(o)},[]);const t=s=>({id:s,x:Math.random()*100,scale:.5+Math.random()*1.5,duration:15+Math.random()*20,delay:Math.random()*5,opacity:.4+Math.random()*.6});return v.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.map(s=>v.jsx(re.div,{initial:{y:"110vh",x:`${s.x}vw`,opacity:s.opacity,scale:s.scale,rotate:Math.random()*30-15},animate:{y:"-10vh",rotate:Math.random()*60-30},transition:{duration:s.duration,delay:s.delay,ease:"linear",repeat:1/0},className:"absolute",children:v.jsx(ot,{className:"text-pink-400",fill:"#FCA5A5",size:24})},s.id))})},$I=[{id:1,date:"2020-02-14",title:"First Valentine's Day",description:"Our first Valentine's Day together - you made everything magical.",location:"Downtown Restaurant",image:"/memories/valentine.jpg"},{id:2,date:"2020-06-15",title:"Summer Adventure",description:"That amazing road trip where we got lost but found so much joy.",location:"Coastal Highway",image:"/memories/roadtrip.jpg"},{id:3,date:"2021-01-01",title:"New Year, New Us",description:"Starting the year together, making resolutions we actually kept.",location:"Home",image:"/memories/newyear.jpg"}],HI=()=>{const[n,e]=q.useState(null);return v.jsxs("section",{className:"py-16 bg-white rounded-2xl shadow-lg",children:[v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsx(re.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-serif text-center mb-12 text-purple-800",children:"Our Memory Timeline"}),v.jsxs("div",{className:"relative",children:[v.jsx("div",{className:"absolute left-1/2 transform -translate-x-1/2 h-full w-1 bg-gradient-to-b from-pink-300 to-purple-300"}),$I.map((t,s)=>v.jsxs(re.div,{initial:{opacity:0,x:s%2===0?-50:50},animate:{opacity:1,x:0},transition:{delay:s*.2},className:`flex items-center mb-8 ${s%2===0?"flex-row":"flex-row-reverse"}`,children:[v.jsx("div",{className:`w-1/2 ${s%2===0?"pr-8 text-right":"pl-8"}`,children:v.jsxs(re.div,{whileHover:{scale:1.05},className:"bg-gradient-to-r from-pink-100 to-purple-100 p-6 rounded-lg shadow-md cursor-pointer",onClick:()=>e(t),children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(up,{className:"w-4 h-4 text-purple-600"}),v.jsx("span",{className:"text-sm text-purple-600 font-medium",children:new Date(t.date).toLocaleDateString()})]}),v.jsx("h3",{className:"text-xl font-serif font-semibold text-gray-800 mb-2",children:t.title}),v.jsx("p",{className:"text-gray-600 text-sm",children:t.description}),t.location&&v.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[v.jsx(ul,{className:"w-3 h-3 text-pink-500"}),v.jsx("span",{className:"text-xs text-pink-500",children:t.location})]})]})}),v.jsx("div",{className:"relative z-10",children:v.jsx("div",{className:"w-4 h-4 bg-gradient-to-r from-pink-500 to-purple-500 rounded-full border-4 border-white shadow-lg"})}),v.jsx("div",{className:"w-1/2"})]},t.id))]})]}),v.jsx(tn,{children:n&&v.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>e(null),children:v.jsx(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full",onClick:t=>t.stopPropagation(),children:v.jsxs("div",{className:"text-center",children:[v.jsx(ot,{className:"w-8 h-8 text-pink-500 mx-auto mb-4"}),v.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-800 mb-2",children:n.title}),v.jsx("p",{className:"text-purple-600 mb-4",children:new Date(n.date).toLocaleDateString()}),v.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),n.location&&v.jsxs("div",{className:"flex items-center justify-center gap-2 text-pink-500",children:[v.jsx(ul,{className:"w-4 h-4"}),v.jsx("span",{children:n.location})]})]})})})})]})},qI=()=>{};var A0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WI=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],u=n[t++],d=n[t++],f=((o&7)<<18|(l&63)<<12|(u&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(f>>10)),e[s++]=String.fromCharCode(56320+(f&1023))}else{const l=n[t++],u=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|u&63)}}return e.join("")},y1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],u=o+1<n.length,d=u?n[o+1]:0,f=o+2<n.length,m=f?n[o+2]:0,_=l>>2,w=(l&3)<<4|d>>4;let T=(d&15)<<2|m>>6,S=m&63;f||(S=64,u||(T=64)),s.push(t[_],t[w],t[T],t[S])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(g1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const m=o<n.length?t[n.charAt(o)]:64;++o;const w=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||d==null||m==null||w==null)throw new GI;const T=l<<2|d>>4;if(s.push(T),m!==64){const S=d<<4&240|m>>2;if(s.push(S),w!==64){const V=m<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(n){const e=g1(n);return y1.encodeByteArray(e,!0)},xc=function(n){return KI(n).replace(/\./g,"")},QI=function(n){try{return y1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=()=>YI().__FIREBASE_DEFAULTS__,JI=()=>{if(typeof process>"u"||typeof A0>"u")return;const n=A0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ZI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&QI(n[1]);return e&&JSON.parse(e)},dp=()=>{try{return qI()||XI()||JI()||ZI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},eC=n=>{var e,t;return(t=(e=dp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},v1=n=>{const e=eC(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},_1=()=>{var n;return(n=dp())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(n){return n.endsWith(".cloudworkstations.dev")}async function w1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(u)),""].join(".")}const el={};function nC(){const n={prod:[],emulator:[]};for(const e of Object.keys(el))el[e]?n.emulator.push(e):n.prod.push(e);return n}function rC(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let I0=!1;function T1(n,e){if(typeof window>"u"||typeof document>"u"||!Al(window.location.host)||el[n]===e||el[n]||I0)return;el[n]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",l=nC().prod.length>0;function u(){const T=document.getElementById(s);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,S){T.setAttribute("width","24"),T.setAttribute("id",S),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{I0=!0,u()},T}function _(T,S){T.setAttribute("id",S),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function w(){const T=rC(s),S=t("text"),V=document.getElementById(S)||document.createElement("span"),N=t("learnmore"),L=document.getElementById(N)||document.createElement("a"),K=t("preprendIcon"),G=document.getElementById(K)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const $=T.element;d($),_(L,N);const Q=m();f(G,K),$.append(G,V,L,Q),document.body.appendChild($)}l?(V.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iC(){var n;const e=(n=dp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function oC(){return!iC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aC(){try{return typeof indexedDB=="object"}catch{return!1}}function lC(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC="FirebaseError";class Si extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=uC,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,E1.prototype.create)}}class E1{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],u=l?cC(l,s):"Error",d=`${this.serviceName}: ${u} (${o}).`;return new Si(o,d,s)}}function cC(n,e){return n.replace(hC,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const hC=/\{\$([^}]+)}/g;function Tc(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],u=e[o];if(C0(l)&&C0(u)){if(!Tc(l,u))return!1}else if(l!==u)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function C0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(n){return n&&n._delegate?n._delegate:n}class bo{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new tC;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pC(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&u.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const u=this.instances.get(o);return u&&e(u,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fC(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fC(n){return n===fi?void 0:n}function pC(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Fe||(Fe={}));const gC={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},yC=Fe.INFO,vC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},_C=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=vC[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class S1{constructor(e){this.name=e,this._logLevel=yC,this._logHandler=_C,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const wC=(n,e)=>e.some(t=>n instanceof t);let P0,k0;function xC(){return P0||(P0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function TC(){return k0||(k0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const A1=new WeakMap,gf=new WeakMap,I1=new WeakMap,qd=new WeakMap,fp=new WeakMap;function EC(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",u)},l=()=>{t(vs(n.result)),o()},u=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&A1.set(t,n)}).catch(()=>{}),fp.set(e,n),e}function SC(n){if(gf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",u),n.removeEventListener("abort",u)},l=()=>{t(),o()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",u),n.addEventListener("abort",u)});gf.set(n,e)}let yf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return gf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||I1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return vs(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function AC(n){yf=n(yf)}function IC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Wd(this),e,...t);return I1.set(s,e.sort?e.sort():[e]),vs(s)}:TC().includes(n)?function(...e){return n.apply(Wd(this),e),vs(A1.get(this))}:function(...e){return vs(n.apply(Wd(this),e))}}function CC(n){return typeof n=="function"?IC(n):(n instanceof IDBTransaction&&SC(n),wC(n,xC())?new Proxy(n,yf):n)}function vs(n){if(n instanceof IDBRequest)return EC(n);if(qd.has(n))return qd.get(n);const e=CC(n);return e!==n&&(qd.set(n,e),fp.set(e,n)),e}const Wd=n=>fp.get(n);function PC(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const u=indexedDB.open(n,e),d=vs(u);return s&&u.addEventListener("upgradeneeded",f=>{s(vs(u.result),f.oldVersion,f.newVersion,vs(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{l&&f.addEventListener("close",()=>l()),o&&f.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const kC=["get","getKey","getAll","getAllKeys","count"],RC=["put","add","delete","clear"],Gd=new Map;function R0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Gd.get(e))return Gd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=RC.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||kC.includes(t)))return;const l=async function(u,...d){const f=this.transaction(u,o?"readwrite":"readonly");let m=f.store;return s&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),o&&f.done]))[0]};return Gd.set(e,l),l}AC(n=>({...n,get:(e,t,s)=>R0(e,t)||n.get(e,t,s),has:(e,t)=>!!R0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(bC(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function bC(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",N0="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new S1("@firebase/app"),VC="@firebase/app-compat",DC="@firebase/analytics-compat",jC="@firebase/analytics",MC="@firebase/app-check-compat",LC="@firebase/app-check",OC="@firebase/auth",FC="@firebase/auth-compat",UC="@firebase/database",BC="@firebase/data-connect",zC="@firebase/database-compat",$C="@firebase/functions",HC="@firebase/functions-compat",qC="@firebase/installations",WC="@firebase/installations-compat",GC="@firebase/messaging",KC="@firebase/messaging-compat",QC="@firebase/performance",YC="@firebase/performance-compat",XC="@firebase/remote-config",JC="@firebase/remote-config-compat",ZC="@firebase/storage",eP="@firebase/storage-compat",tP="@firebase/firestore",nP="@firebase/ai",rP="@firebase/firestore-compat",sP="firebase",iP="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="[DEFAULT]",oP={[vf]:"fire-core",[VC]:"fire-core-compat",[jC]:"fire-analytics",[DC]:"fire-analytics-compat",[LC]:"fire-app-check",[MC]:"fire-app-check-compat",[OC]:"fire-auth",[FC]:"fire-auth-compat",[UC]:"fire-rtdb",[BC]:"fire-data-connect",[zC]:"fire-rtdb-compat",[$C]:"fire-fn",[HC]:"fire-fn-compat",[qC]:"fire-iid",[WC]:"fire-iid-compat",[GC]:"fire-fcm",[KC]:"fire-fcm-compat",[QC]:"fire-perf",[YC]:"fire-perf-compat",[XC]:"fire-rc",[JC]:"fire-rc-compat",[ZC]:"fire-gcs",[eP]:"fire-gcs-compat",[tP]:"fire-fst",[rP]:"fire-fst-compat",[nP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec=new Map,aP=new Map,wf=new Map;function b0(n,e){try{n.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cl(n){const e=n.name;if(wf.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;wf.set(e,n);for(const t of Ec.values())b0(t,n);for(const t of aP.values())b0(t,n);return!0}function C1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function P1(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_s=new E1("app","Firebase",lP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=iP;function R1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:_f,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw _s.create("bad-app-name",{appName:String(o)});if(t||(t=_1()),!t)throw _s.create("no-options");const l=Ec.get(o);if(l){if(Tc(t,l.options)&&Tc(s,l.config))return l;throw _s.create("duplicate-app",{appName:o})}const u=new mC(o);for(const f of wf.values())u.addComponent(f);const d=new uP(t,s,u);return Ec.set(o,d),d}function N1(n=_f){const e=Ec.get(n);if(!e&&n===_f&&_1())return R1();if(!e)throw _s.create("no-app",{appName:n});return e}function ws(n,e,t){var s;let o=(s=oP[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(d.join(" "));return}cl(new bo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP="firebase-heartbeat-database",hP=1,hl="firebase-heartbeat-store";let Kd=null;function b1(){return Kd||(Kd=PC(cP,hP,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(hl)}catch(t){console.warn(t)}}}}).catch(n=>{throw _s.create("idb-open",{originalErrorMessage:n.message})})),Kd}async function dP(n){try{const t=(await b1()).transaction(hl),s=await t.objectStore(hl).get(V1(n));return await t.done,s}catch(e){if(e instanceof Si)Fr.warn(e.message);else{const t=_s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function V0(n,e){try{const s=(await b1()).transaction(hl,"readwrite");await s.objectStore(hl).put(e,V1(n)),await s.done}catch(t){if(t instanceof Si)Fr.warn(t.message);else{const s=_s.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(s.message)}}}function V1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1024,pP=30;class mP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new yP(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=D0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>pP){const u=vP(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=D0(),{heartbeatsToSend:s,unsentEntries:o}=gP(this._heartbeatsCache.heartbeats),l=xc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function D0(){return new Date().toISOString().substring(0,10)}function gP(n,e=fP){const t=[];let s=n.slice();for(const o of n){const l=t.find(u=>u.agent===o.agent);if(l){if(l.dates.push(o.date),j0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),j0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class yP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aC()?lC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await dP(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return V0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function j0(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}function vP(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _P(n){cl(new bo("platform-logger",e=>new NC(e),"PRIVATE")),cl(new bo("heartbeat",e=>new mP(e),"PRIVATE")),ws(vf,N0,n),ws(vf,N0,"esm2017"),ws("fire-js","")}_P("");var M0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xs,D1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,I){function C(){}C.prototype=I.prototype,P.D=I.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(b,j,F){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return I.prototype[j].apply(b,R)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,I,C){C||(C=0);var b=Array(16);if(typeof I=="string")for(var j=0;16>j;++j)b[j]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(j=0;16>j;++j)b[j]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=P.g[0],C=P.g[1],j=P.g[2];var F=P.g[3],R=I+(F^C&(j^F))+b[0]+3614090360&4294967295;I=C+(R<<7&4294967295|R>>>25),R=F+(j^I&(C^j))+b[1]+3905402710&4294967295,F=I+(R<<12&4294967295|R>>>20),R=j+(C^F&(I^C))+b[2]+606105819&4294967295,j=F+(R<<17&4294967295|R>>>15),R=C+(I^j&(F^I))+b[3]+3250441966&4294967295,C=j+(R<<22&4294967295|R>>>10),R=I+(F^C&(j^F))+b[4]+4118548399&4294967295,I=C+(R<<7&4294967295|R>>>25),R=F+(j^I&(C^j))+b[5]+1200080426&4294967295,F=I+(R<<12&4294967295|R>>>20),R=j+(C^F&(I^C))+b[6]+2821735955&4294967295,j=F+(R<<17&4294967295|R>>>15),R=C+(I^j&(F^I))+b[7]+4249261313&4294967295,C=j+(R<<22&4294967295|R>>>10),R=I+(F^C&(j^F))+b[8]+1770035416&4294967295,I=C+(R<<7&4294967295|R>>>25),R=F+(j^I&(C^j))+b[9]+2336552879&4294967295,F=I+(R<<12&4294967295|R>>>20),R=j+(C^F&(I^C))+b[10]+4294925233&4294967295,j=F+(R<<17&4294967295|R>>>15),R=C+(I^j&(F^I))+b[11]+2304563134&4294967295,C=j+(R<<22&4294967295|R>>>10),R=I+(F^C&(j^F))+b[12]+1804603682&4294967295,I=C+(R<<7&4294967295|R>>>25),R=F+(j^I&(C^j))+b[13]+4254626195&4294967295,F=I+(R<<12&4294967295|R>>>20),R=j+(C^F&(I^C))+b[14]+2792965006&4294967295,j=F+(R<<17&4294967295|R>>>15),R=C+(I^j&(F^I))+b[15]+1236535329&4294967295,C=j+(R<<22&4294967295|R>>>10),R=I+(j^F&(C^j))+b[1]+4129170786&4294967295,I=C+(R<<5&4294967295|R>>>27),R=F+(C^j&(I^C))+b[6]+3225465664&4294967295,F=I+(R<<9&4294967295|R>>>23),R=j+(I^C&(F^I))+b[11]+643717713&4294967295,j=F+(R<<14&4294967295|R>>>18),R=C+(F^I&(j^F))+b[0]+3921069994&4294967295,C=j+(R<<20&4294967295|R>>>12),R=I+(j^F&(C^j))+b[5]+3593408605&4294967295,I=C+(R<<5&4294967295|R>>>27),R=F+(C^j&(I^C))+b[10]+38016083&4294967295,F=I+(R<<9&4294967295|R>>>23),R=j+(I^C&(F^I))+b[15]+3634488961&4294967295,j=F+(R<<14&4294967295|R>>>18),R=C+(F^I&(j^F))+b[4]+3889429448&4294967295,C=j+(R<<20&4294967295|R>>>12),R=I+(j^F&(C^j))+b[9]+568446438&4294967295,I=C+(R<<5&4294967295|R>>>27),R=F+(C^j&(I^C))+b[14]+3275163606&4294967295,F=I+(R<<9&4294967295|R>>>23),R=j+(I^C&(F^I))+b[3]+4107603335&4294967295,j=F+(R<<14&4294967295|R>>>18),R=C+(F^I&(j^F))+b[8]+1163531501&4294967295,C=j+(R<<20&4294967295|R>>>12),R=I+(j^F&(C^j))+b[13]+2850285829&4294967295,I=C+(R<<5&4294967295|R>>>27),R=F+(C^j&(I^C))+b[2]+4243563512&4294967295,F=I+(R<<9&4294967295|R>>>23),R=j+(I^C&(F^I))+b[7]+1735328473&4294967295,j=F+(R<<14&4294967295|R>>>18),R=C+(F^I&(j^F))+b[12]+2368359562&4294967295,C=j+(R<<20&4294967295|R>>>12),R=I+(C^j^F)+b[5]+4294588738&4294967295,I=C+(R<<4&4294967295|R>>>28),R=F+(I^C^j)+b[8]+2272392833&4294967295,F=I+(R<<11&4294967295|R>>>21),R=j+(F^I^C)+b[11]+1839030562&4294967295,j=F+(R<<16&4294967295|R>>>16),R=C+(j^F^I)+b[14]+4259657740&4294967295,C=j+(R<<23&4294967295|R>>>9),R=I+(C^j^F)+b[1]+2763975236&4294967295,I=C+(R<<4&4294967295|R>>>28),R=F+(I^C^j)+b[4]+1272893353&4294967295,F=I+(R<<11&4294967295|R>>>21),R=j+(F^I^C)+b[7]+4139469664&4294967295,j=F+(R<<16&4294967295|R>>>16),R=C+(j^F^I)+b[10]+3200236656&4294967295,C=j+(R<<23&4294967295|R>>>9),R=I+(C^j^F)+b[13]+681279174&4294967295,I=C+(R<<4&4294967295|R>>>28),R=F+(I^C^j)+b[0]+3936430074&4294967295,F=I+(R<<11&4294967295|R>>>21),R=j+(F^I^C)+b[3]+3572445317&4294967295,j=F+(R<<16&4294967295|R>>>16),R=C+(j^F^I)+b[6]+76029189&4294967295,C=j+(R<<23&4294967295|R>>>9),R=I+(C^j^F)+b[9]+3654602809&4294967295,I=C+(R<<4&4294967295|R>>>28),R=F+(I^C^j)+b[12]+3873151461&4294967295,F=I+(R<<11&4294967295|R>>>21),R=j+(F^I^C)+b[15]+530742520&4294967295,j=F+(R<<16&4294967295|R>>>16),R=C+(j^F^I)+b[2]+3299628645&4294967295,C=j+(R<<23&4294967295|R>>>9),R=I+(j^(C|~F))+b[0]+4096336452&4294967295,I=C+(R<<6&4294967295|R>>>26),R=F+(C^(I|~j))+b[7]+1126891415&4294967295,F=I+(R<<10&4294967295|R>>>22),R=j+(I^(F|~C))+b[14]+2878612391&4294967295,j=F+(R<<15&4294967295|R>>>17),R=C+(F^(j|~I))+b[5]+4237533241&4294967295,C=j+(R<<21&4294967295|R>>>11),R=I+(j^(C|~F))+b[12]+1700485571&4294967295,I=C+(R<<6&4294967295|R>>>26),R=F+(C^(I|~j))+b[3]+2399980690&4294967295,F=I+(R<<10&4294967295|R>>>22),R=j+(I^(F|~C))+b[10]+4293915773&4294967295,j=F+(R<<15&4294967295|R>>>17),R=C+(F^(j|~I))+b[1]+2240044497&4294967295,C=j+(R<<21&4294967295|R>>>11),R=I+(j^(C|~F))+b[8]+1873313359&4294967295,I=C+(R<<6&4294967295|R>>>26),R=F+(C^(I|~j))+b[15]+4264355552&4294967295,F=I+(R<<10&4294967295|R>>>22),R=j+(I^(F|~C))+b[6]+2734768916&4294967295,j=F+(R<<15&4294967295|R>>>17),R=C+(F^(j|~I))+b[13]+1309151649&4294967295,C=j+(R<<21&4294967295|R>>>11),R=I+(j^(C|~F))+b[4]+4149444226&4294967295,I=C+(R<<6&4294967295|R>>>26),R=F+(C^(I|~j))+b[11]+3174756917&4294967295,F=I+(R<<10&4294967295|R>>>22),R=j+(I^(F|~C))+b[2]+718787259&4294967295,j=F+(R<<15&4294967295|R>>>17),R=C+(F^(j|~I))+b[9]+3951481745&4294967295,P.g[0]=P.g[0]+I&4294967295,P.g[1]=P.g[1]+(j+(R<<21&4294967295|R>>>11))&4294967295,P.g[2]=P.g[2]+j&4294967295,P.g[3]=P.g[3]+F&4294967295}s.prototype.u=function(P,I){I===void 0&&(I=P.length);for(var C=I-this.blockSize,b=this.B,j=this.h,F=0;F<I;){if(j==0)for(;F<=C;)o(this,P,F),F+=this.blockSize;if(typeof P=="string"){for(;F<I;)if(b[j++]=P.charCodeAt(F++),j==this.blockSize){o(this,b),j=0;break}}else for(;F<I;)if(b[j++]=P[F++],j==this.blockSize){o(this,b),j=0;break}}this.h=j,this.o+=I},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var I=1;I<P.length-8;++I)P[I]=0;var C=8*this.o;for(I=P.length-8;I<P.length;++I)P[I]=C&255,C/=256;for(this.u(P),P=Array(16),I=C=0;4>I;++I)for(var b=0;32>b;b+=8)P[C++]=this.g[I]>>>b&255;return P};function l(P,I){var C=d;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=I(P)}function u(P,I){this.h=I;for(var C=[],b=!0,j=P.length-1;0<=j;j--){var F=P[j]|0;b&&F==I||(C[j]=F,b=!1)}this.g=C}var d={};function f(P){return-128<=P&&128>P?l(P,function(I){return new u([I|0],0>I?-1:0)}):new u([P|0],0>P?-1:0)}function m(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return L(m(-P));for(var I=[],C=1,b=0;P>=C;b++)I[b]=P/C|0,C*=4294967296;return new u(I,0)}function _(P,I){if(P.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P.charAt(0)=="-")return L(_(P.substring(1),I));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=m(Math.pow(I,8)),b=w,j=0;j<P.length;j+=8){var F=Math.min(8,P.length-j),R=parseInt(P.substring(j,j+F),I);8>F?(F=m(Math.pow(I,F)),b=b.j(F).add(m(R))):(b=b.j(C),b=b.add(m(R)))}return b}var w=f(0),T=f(1),S=f(16777216);n=u.prototype,n.m=function(){if(N(this))return-L(this).m();for(var P=0,I=1,C=0;C<this.g.length;C++){var b=this.i(C);P+=(0<=b?b:4294967296+b)*I,I*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(V(this))return"0";if(N(this))return"-"+L(this).toString(P);for(var I=m(Math.pow(P,6)),C=this,b="";;){var j=Q(C,I).g;C=K(C,j.j(I));var F=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=j,V(C))return F+b;for(;6>F.length;)F="0"+F;b=F+b}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function V(P){if(P.h!=0)return!1;for(var I=0;I<P.g.length;I++)if(P.g[I]!=0)return!1;return!0}function N(P){return P.h==-1}n.l=function(P){return P=K(this,P),N(P)?-1:V(P)?0:1};function L(P){for(var I=P.g.length,C=[],b=0;b<I;b++)C[b]=~P.g[b];return new u(C,~P.h).add(T)}n.abs=function(){return N(this)?L(this):this},n.add=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],b=0,j=0;j<=I;j++){var F=b+(this.i(j)&65535)+(P.i(j)&65535),R=(F>>>16)+(this.i(j)>>>16)+(P.i(j)>>>16);b=R>>>16,F&=65535,R&=65535,C[j]=R<<16|F}return new u(C,C[C.length-1]&-2147483648?-1:0)};function K(P,I){return P.add(L(I))}n.j=function(P){if(V(this)||V(P))return w;if(N(this))return N(P)?L(this).j(L(P)):L(L(this).j(P));if(N(P))return L(this.j(L(P)));if(0>this.l(S)&&0>P.l(S))return m(this.m()*P.m());for(var I=this.g.length+P.g.length,C=[],b=0;b<2*I;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var j=0;j<P.g.length;j++){var F=this.i(b)>>>16,R=this.i(b)&65535,Ne=P.i(j)>>>16,nt=P.i(j)&65535;C[2*b+2*j]+=R*nt,G(C,2*b+2*j),C[2*b+2*j+1]+=F*nt,G(C,2*b+2*j+1),C[2*b+2*j+1]+=R*Ne,G(C,2*b+2*j+1),C[2*b+2*j+2]+=F*Ne,G(C,2*b+2*j+2)}for(b=0;b<I;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=I;b<2*I;b++)C[b]=0;return new u(C,0)};function G(P,I){for(;(P[I]&65535)!=P[I];)P[I+1]+=P[I]>>>16,P[I]&=65535,I++}function $(P,I){this.g=P,this.h=I}function Q(P,I){if(V(I))throw Error("division by zero");if(V(P))return new $(w,w);if(N(P))return I=Q(L(P),I),new $(L(I.g),L(I.h));if(N(I))return I=Q(P,L(I)),new $(L(I.g),I.h);if(30<P.g.length){if(N(P)||N(I))throw Error("slowDivide_ only works with positive integers.");for(var C=T,b=I;0>=b.l(P);)C=ue(C),b=ue(b);var j=oe(C,1),F=oe(b,1);for(b=oe(b,2),C=oe(C,2);!V(b);){var R=F.add(b);0>=R.l(P)&&(j=j.add(C),F=R),b=oe(b,1),C=oe(C,1)}return I=K(P,j.j(I)),new $(j,I)}for(j=w;0<=P.l(I);){for(C=Math.max(1,Math.floor(P.m()/I.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),F=m(C),R=F.j(I);N(R)||0<R.l(P);)C-=b,F=m(C),R=F.j(I);V(F)&&(F=T),j=j.add(F),P=K(P,R)}return new $(j,P)}n.A=function(P){return Q(this,P).h},n.and=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],b=0;b<I;b++)C[b]=this.i(b)&P.i(b);return new u(C,this.h&P.h)},n.or=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],b=0;b<I;b++)C[b]=this.i(b)|P.i(b);return new u(C,this.h|P.h)},n.xor=function(P){for(var I=Math.max(this.g.length,P.g.length),C=[],b=0;b<I;b++)C[b]=this.i(b)^P.i(b);return new u(C,this.h^P.h)};function ue(P){for(var I=P.g.length+1,C=[],b=0;b<I;b++)C[b]=P.i(b)<<1|P.i(b-1)>>>31;return new u(C,P.h)}function oe(P,I){var C=I>>5;I%=32;for(var b=P.g.length-C,j=[],F=0;F<b;F++)j[F]=0<I?P.i(F+C)>>>I|P.i(F+C+1)<<32-I:P.i(F+C);return new u(j,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,D1=s,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=_,xs=u}).apply(typeof M0<"u"?M0:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var j1,Wa,M1,ic,xf,L1,O1,F1;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,x){return c==Array.prototype||c==Object.prototype||(c[g]=x.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<c.length;++g){var x=c[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var s=t(this);function o(c,g){if(g)e:{var x=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in x))break e;x=x[U]}c=c[c.length-1],A=x[c],g=g(A),g!=A&&g!=null&&e(x,c,{configurable:!0,writable:!0,value:g})}}function l(c,g){c instanceof String&&(c+="");var x=0,A=!1,U={next:function(){if(!A&&x<c.length){var W=x++;return{value:g(W,c[W]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return l(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function m(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,x){return c.call.apply(c.bind,arguments)}function w(c,g,x){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function T(c,g,x){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:w,T.apply(null,arguments)}function S(c,g){var x=Array.prototype.slice.call(arguments,1);return function(){var A=x.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,g){function x(){}x.prototype=g.prototype,c.aa=g.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(A,U,W){for(var ie=Array(arguments.length-2),We=2;We<arguments.length;We++)ie[We-2]=arguments[We];return g.prototype[U].apply(A,ie)}}function N(c){const g=c.length;if(0<g){const x=Array(g);for(let A=0;A<g;A++)x[A]=c[A];return x}return[]}function L(c,g){for(let x=1;x<arguments.length;x++){const A=arguments[x];if(f(A)){const U=c.length||0,W=A.length||0;c.length=U+W;for(let ie=0;ie<W;ie++)c[U+ie]=A[ie]}else c.push(A)}}class K{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function G(c){return/^[\s\xa0]*$/.test(c)}function $(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function Q(c){return Q[" "](c),c}Q[" "]=function(){};var ue=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function oe(c,g,x){for(const A in c)g.call(x,c[A],A,c)}function P(c,g){for(const x in c)g.call(void 0,c[x],x,c)}function I(c){const g={};for(const x in c)g[x]=c[x];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,g){let x,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(x in A)c[x]=A[x];for(let W=0;W<C.length;W++)x=C[W],Object.prototype.hasOwnProperty.call(A,x)&&(c[x]=A[x])}}function j(c){var g=1;c=c.split(":");const x=[];for(;0<g&&c.length;)x.push(c.shift()),g--;return c.length&&x.push(c.join(":")),x}function F(c){d.setTimeout(()=>{throw c},0)}function R(){var c=me;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ne{constructor(){this.h=this.g=null}add(g,x){const A=nt.get();A.set(g,x),this.h?this.h.next=A:this.g=A,this.h=A}}var nt=new K(()=>new je,c=>c.reset());class je{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let be,se=!1,me=new Ne,ae=()=>{const c=d.Promise.resolve(void 0);be=()=>{c.then(M)}};var M=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(x){F(x)}var g=nt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};d.addEventListener("test",x,g),d.removeEventListener("test",x,g)}catch{}return c}();function Ce(c,g){if(ye.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{Q(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else x=="mouseover"?g=c.fromElement:x=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Pe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ce.aa.h.call(this)}}V(Ce,ye);var Pe={2:"touch",3:"pen",4:"mouse"};Ce.prototype.h=function(){Ce.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Ue=0;function He(c,g,x,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=x,this.capture=!!A,this.ha=U,this.key=++Ue,this.da=this.fa=!1}function rt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vt(c){this.src=c,this.g={},this.h=0}Vt.prototype.add=function(c,g,x,A,U){var W=c.toString();c=this.g[W],c||(c=this.g[W]=[],this.h++);var ie=zr(c,g,A,U);return-1<ie?(g=c[ie],x||(g.fa=!1)):(g=new He(g,this.src,W,!!A,U),g.fa=x,c.push(g)),g};function Ds(c,g){var x=g.type;if(x in c.g){var A=c.g[x],U=Array.prototype.indexOf.call(A,g,void 0),W;(W=0<=U)&&Array.prototype.splice.call(A,U,1),W&&(rt(g),c.g[x].length==0&&(delete c.g[x],c.h--))}}function zr(c,g,x,A){for(var U=0;U<c.length;++U){var W=c[U];if(!W.da&&W.listener==g&&W.capture==!!x&&W.ha==A)return U}return-1}var js="closure_lm_"+(1e6*Math.random()|0),ki={};function Go(c,g,x,A,U){if(Array.isArray(g)){for(var W=0;W<g.length;W++)Go(c,g[W],x,A,U);return null}return x=Yo(x),c&&c[Me]?c.K(g,x,m(A)?!!A.capture:!1,U):Ko(c,g,x,!1,A,U)}function Ko(c,g,x,A,U,W){if(!g)throw Error("Invalid event type");var ie=m(U)?!!U.capture:!!U,We=Ni(c);if(We||(c[js]=We=new Vt(c)),x=We.add(g,x,A,ie,W),x.proxy)return x;if(A=Rl(),x.proxy=A,A.src=c,A.listener=x,c.addEventListener)Ie||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(vr(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Rl(){function c(x){return g.call(c.src,c.listener,x)}const g=Qo;return c}function Ri(c,g,x,A,U){if(Array.isArray(g))for(var W=0;W<g.length;W++)Ri(c,g[W],x,A,U);else A=m(A)?!!A.capture:!!A,x=Yo(x),c&&c[Me]?(c=c.i,g=String(g).toString(),g in c.g&&(W=c.g[g],x=zr(W,x,A,U),-1<x&&(rt(W[x]),Array.prototype.splice.call(W,x,1),W.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ni(c))&&(g=c.g[g.toString()],c=-1,g&&(c=zr(g,x,A,U)),(x=-1<c?g[c]:null)&&yr(x))}function yr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Me])Ds(g.i,c);else{var x=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(x,A,c.capture):g.detachEvent?g.detachEvent(vr(x),A):g.addListener&&g.removeListener&&g.removeListener(A),(x=Ni(g))?(Ds(x,c),x.h==0&&(x.src=null,g[js]=null)):rt(c)}}}function vr(c){return c in ki?ki[c]:ki[c]="on"+c}function Qo(c,g){if(c.da)c=!0;else{g=new Ce(g,this);var x=c.listener,A=c.ha||c.src;c.fa&&yr(c),c=x.call(A,g)}return c}function Ni(c){return c=c[js],c instanceof Vt?c:null}var bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yo(c){return typeof c=="function"?c:(c[bi]||(c[bi]=function(g){return c.handleEvent(g)}),c[bi])}function xt(){Y.call(this),this.i=new Vt(this),this.M=this,this.F=null}V(xt,Y),xt.prototype[Me]=!0,xt.prototype.removeEventListener=function(c,g,x,A){Ri(this,c,g,x,A)};function Tt(c,g){var x,A=c.F;if(A)for(x=[];A;A=A.F)x.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new ye(g,c);else if(g instanceof ye)g.target=g.target||c;else{var U=g;g=new ye(A,c),b(g,U)}if(U=!0,x)for(var W=x.length-1;0<=W;W--){var ie=g.g=x[W];U=_r(ie,A,!0,g)&&U}if(ie=g.g=c,U=_r(ie,A,!0,g)&&U,U=_r(ie,A,!1,g)&&U,x)for(W=0;W<x.length;W++)ie=g.g=x[W],U=_r(ie,A,!1,g)&&U}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var x=c.g[g],A=0;A<x.length;A++)rt(x[A]);delete c.g[g],c.h--}}this.F=null},xt.prototype.K=function(c,g,x,A){return this.i.add(String(c),g,!1,x,A)},xt.prototype.L=function(c,g,x,A){return this.i.add(String(c),g,!0,x,A)};function _r(c,g,x,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,W=0;W<g.length;++W){var ie=g[W];if(ie&&!ie.da&&ie.capture==x){var We=ie.listener,Et=ie.ha||ie.src;ie.fa&&Ds(c.i,ie),U=We.call(Et,A)!==!1&&U}}return U&&!A.defaultPrevented}function Xo(c,g,x){if(typeof c=="function")x&&(c=T(c,x));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function $r(c){c.g=Xo(()=>{c.g=null,c.i&&(c.i=!1,$r(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Ms extends Y{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ls(c){Y.call(this),this.h=c,this.g={}}V(Ls,Y);var Jo=[];function Zo(c){oe(c.g,function(g,x){this.g.hasOwnProperty(x)&&yr(g)},c),c.g={}}Ls.prototype.N=function(){Ls.aa.N.call(this),Zo(this)},Ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ea=d.JSON.stringify,ta=d.JSON.parse,na=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Os(){}Os.prototype.h=null;function Vi(c){return c.h||(c.h=c.i())}function Di(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function er(){ye.call(this,"d")}V(er,ye);function ji(){ye.call(this,"c")}V(ji,ye);var tr={},ra=null;function Fs(){return ra=ra||new xt}tr.La="serverreachability";function sa(c){ye.call(this,tr.La,c)}V(sa,ye);function wr(c){const g=Fs();Tt(g,new sa(g))}tr.STAT_EVENT="statevent";function ia(c,g){ye.call(this,tr.STAT_EVENT,c),this.stat=g}V(ia,ye);function dt(c){const g=Fs();Tt(g,new ia(g,c))}tr.Ma="timingevent";function Mi(c,g){ye.call(this,tr.Ma,c),this.size=g}V(Mi,ye);function Mn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Us(){this.g=!0}Us.prototype.xa=function(){this.g=!1};function Bs(c,g,x,A,U,W){c.info(function(){if(c.g)if(W)for(var ie="",We=W.split("&"),Et=0;Et<We.length;Et++){var Le=We[Et].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var gt=Pt.split("_");ie=2<=gt.length&&gt[1]=="type"?ie+(Pt+"="+Le+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+x+`
`+ie})}function Li(c,g,x,A,U,W,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+x+`
`+W+" "+ie})}function Ln(c,g,x,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+nh(c,x)+(A?" "+A:"")})}function oa(c,g){c.info(function(){return"TIMEOUT: "+g})}Us.prototype.info=function(){};function nh(c,g){if(!c.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var A=x[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var W=U[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return ea(x)}catch{return g}}var Oi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},On;function zs(){}V(zs,Os),zs.prototype.g=function(){return new XMLHttpRequest},zs.prototype.i=function(){return{}},On=new zs;function Fn(c,g,x,A){this.j=c,this.i=g,this.l=x,this.R=A||1,this.U=new Ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bl}function bl(){this.i=null,this.g="",this.h=!1}var aa={},Fi={};function Ui(c,g,x){c.L=1,c.v=Kr(pn(g)),c.m=x,c.P=!0,la(c,null)}function la(c,g){c.F=Date.now(),Ke(c),c.A=pn(c.v);var x=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Yr(x.i,"t",A),c.C=0,x=c.j.J,c.h=new bl,c.g=Yl(c.j,x?g:null,!c.m),0<c.O&&(c.M=new Ms(T(c.Y,c,c.g),c.O)),g=c.U,x=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(Jo[0]=U.toString()),U=Jo);for(var W=0;W<U.length;W++){var ie=Go(x,U[W],A||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),wr(),Bs(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&rn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const gt=rn(this.g);var g=this.g.Ba();const In=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||pa(this.g)))){this.J||gt!=4||g==7||(g==8||0>=In?wr(3):wr(2)),$s(this);var x=this.g.Z();this.X=x;t:if(Vl(this)){var A=pa(this.g);c="";var U=A.length,W=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),Hr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(W&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=x==200,Li(this.i,this.u,this.A,this.l,this.R,gt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Et=this.g;if((We=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(We)){var Le=We;break t}}Le=null}if(x=Le)Ln(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,x);else{this.o=!1,this.s=3,dt(12),Sn(this),Hr(this);break e}}if(this.P){x=!0;let gn;for(;!this.J&&this.C<ie.length;)if(gn=rh(this,ie),gn==Fi){gt==4&&(this.s=4,dt(14),x=!1),Ln(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==aa){this.s=4,dt(15),Ln(this.i,this.l,ie,"[Invalid Chunk]"),x=!1;break}else Ln(this.i,this.l,gn,null),ua(this,gn);if(Vl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),x=!1),this.o=this.o&&x,!x)Ln(this.i,this.l,ie,"[Invalid Chunked Response]"),Sn(this),Hr(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ga(Pt),Pt.M=!0,dt(11))}}else Ln(this.i,this.l,ie,null),ua(this,ie);gt==4&&Sn(this),this.o&&!this.J&&(gt==4?Xi(this.j,this):(this.o=!1,Ke(this)))}else Wi(this.g),x==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Sn(this),Hr(this)}}}catch{}finally{}};function Vl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function rh(c,g){var x=c.C,A=g.indexOf(`
`,x);return A==-1?Fi:(x=Number(g.substring(x,A)),isNaN(x)?aa:(A+=1,A+x>g.length?Fi:(g=g.slice(A,A+x),c.C=A+x,g)))}Fn.prototype.cancel=function(){this.J=!0,Sn(this)};function Ke(c){c.S=Date.now()+c.I,Dl(c,c.I)}function Dl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Mn(T(c.ba,c),g)}function $s(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(oa(this.i,this.A),this.L!=2&&(wr(),dt(17)),Sn(this),this.s=2,Hr(this)):Dl(this,this.S-c)};function Hr(c){c.j.G==0||c.J||Xi(c.j,c)}function Sn(c){$s(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Zo(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ua(c,g){try{var x=c.j;if(x.G!=0&&(x.g==c||Qt(x.h,c))){if(!c.K&&Qt(x.h,c)&&x.G==3){try{var A=x.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)Yi(x),Hn(x);else break e;Qi(x),dt(18)}}else x.za=U[1],0<x.za-x.T&&37500>U[2]&&x.F&&x.v==0&&!x.C&&(x.C=Mn(T(x.Za,x),6e3));if(1>=Ml(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Ar(x,11)}else if((c.K||x.g==c)&&Yi(x),!G(g))for(U=x.Da.g.parse(g),g=0;g<U.length;g++){let Le=U[g];if(x.T=Le[0],Le=Le[1],x.G==2)if(Le[0]=="c"){x.K=Le[1],x.ia=Le[2];const Pt=Le[3];Pt!=null&&(x.la=Pt,x.j.info("VER="+x.la));const gt=Le[4];gt!=null&&(x.Aa=gt,x.j.info("SVER="+x.Aa));const In=Le[5];In!=null&&typeof In=="number"&&0<In&&(A=1.5*In,x.L=A,x.j.info("backChannelRequestTimeoutMs_="+A)),A=x;const gn=c.g;if(gn){const Ys=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ys){var W=A.h;W.g||Ys.indexOf("spdy")==-1&&Ys.indexOf("quic")==-1&&Ys.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(ca(W,W.h),W.h=null))}if(A.D){const Zi=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Zi&&(A.ya=Zi,Ge(A.I,A.D,Zi))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),A=x;var ie=c;if(A.qa=Ql(A,A.J?A.ia:null,A.W),ie.K){Ll(A.h,ie);var We=ie,Et=A.L;Et&&(We.I=Et),We.B&&($s(We),Ke(We)),A.g=ie}else Qs(A);0<x.i.length&&ir(x)}else Le[0]!="stop"&&Le[0]!="close"||Ar(x,7);else x.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Ar(x,7):jt(x):Le[0]!="noop"&&x.l&&x.l.ta(Le),x.v=0)}}wr(4)}catch{}}var jl=class{constructor(c,g){this.g=c,this.map=g}};function Hs(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function fn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ml(c){return c.h?1:c.g?c.g.size:0}function Qt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ca(c,g){c.g?c.g.add(g):c.h=g}function Ll(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Hs.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ol(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const x of c.g.values())g=g.concat(x.D);return g}return N(c.i)}function Bi(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],x=c.length,A=0;A<x;A++)g.push(c[A]);return g}g=[],x=0;for(A in c)g[x++]=c[A];return g}function zi(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var x=0;x<c;x++)g.push(x);return g}g=[],x=0;for(const A in c)g[x++]=A;return g}}}function qr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var x=zi(c),A=Bi(c),U=A.length,W=0;W<U;W++)g.call(void 0,A[W],x&&x[W],c)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sh(c,g){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var A=c[x].indexOf("="),U=null;if(0<=A){var W=c[x].substring(0,A);U=c[x].substring(A+1)}else W=c[x];g(W,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function xr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xr){this.h=c.h,Ws(this,c.j),this.o=c.o,this.g=c.g,Wr(this,c.s),this.l=c.l;var g=c.i,x=new nr;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),Gr(this,x),this.m=c.m}else c&&(g=String(c).match(qs))?(this.h=!1,Ws(this,g[1]||"",!0),this.o=De(g[2]||""),this.g=De(g[3]||"",!0),Wr(this,g[4]),this.l=De(g[5]||"",!0),Gr(this,g[6]||"",!0),this.m=De(g[7]||"")):(this.h=!1,this.i=new nr(null,this.h))}xr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Qr(g,$i,!0),":");var x=this.g;return(x||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Qr(g,$i,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(Qr(x,x.charAt(0)=="/"?Bl:Ul,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",Qr(x,ha)),c.join("")};function pn(c){return new xr(c)}function Ws(c,g,x){c.j=x?De(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Wr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Gr(c,g,x){g instanceof nr?(c.i=g,rr(c.i,c.h)):(x||(g=Qr(g,zl)),c.i=new nr(g,c.h))}function Ge(c,g,x){c.i.set(g,x)}function Kr(c){return Ge(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function De(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Qr(c,g,x){return typeof c=="string"?(c=encodeURI(c).replace(g,Fl),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Fl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $i=/[#\/\?@]/g,Ul=/[#\?:]/g,Bl=/[#\?]/g,zl=/[#\?@]/g,ha=/#/g;function nr(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Dt(c){c.g||(c.g=new Map,c.h=0,c.i&&sh(c.i,function(g,x){c.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}n=nr.prototype,n.add=function(c,g){Dt(this),this.i=null,c=An(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(g),this.h+=1,this};function Un(c,g){Dt(c),g=An(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Bn(c,g){return Dt(c),g=An(c,g),c.g.has(g)}n.forEach=function(c,g){Dt(this),this.g.forEach(function(x,A){x.forEach(function(U){c.call(g,U,A,this)},this)},this)},n.na=function(){Dt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let A=0;A<g.length;A++){const U=c[A];for(let W=0;W<U.length;W++)x.push(g[A])}return x},n.V=function(c){Dt(this);let g=[];if(typeof c=="string")Bn(this,c)&&(g=g.concat(this.g.get(An(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)g=g.concat(c[x])}return g},n.set=function(c,g){return Dt(this),this.i=null,c=An(this,c),Bn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},n.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Yr(c,g,x){Un(c,g),0<x.length&&(c.i=null,c.g.set(An(c,g),N(x)),c.h+=x.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var A=g[x];const W=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var U=W;ie[A]!==""&&(U+="="+encodeURIComponent(String(ie[A]))),c.push(U)}}return this.i=c.join("&")};function An(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function rr(c,g){g&&!c.j&&(Dt(c),c.i=null,c.g.forEach(function(x,A){var U=A.toLowerCase();A!=U&&(Un(this,A),Yr(this,U,x))},c)),c.j=g}function ih(c,g){const x=new Us;if(d.Image){const A=new Image;A.onload=S(nn,x,"TestLoadImage: loaded",!0,g,A),A.onerror=S(nn,x,"TestLoadImage: error",!1,g,A),A.onabort=S(nn,x,"TestLoadImage: abort",!1,g,A),A.ontimeout=S(nn,x,"TestLoadImage: timeout",!1,g,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function $l(c,g){const x=new Us,A=new AbortController,U=setTimeout(()=>{A.abort(),nn(x,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(W=>{clearTimeout(U),W.ok?nn(x,"TestPingServer: ok",!0,g):nn(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),nn(x,"TestPingServer: error",!1,g)})}function nn(c,g,x,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(x)}catch{}}function oh(){this.g=new na}function Hl(c,g,x){const A=x||"";try{qr(c,function(U,W){let ie=U;m(U)&&(ie=ea(U)),g.push(A+W+"="+encodeURIComponent(ie))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function Tr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(Tr,Os),Tr.prototype.g=function(){return new Gs(this.l,this.j)},Tr.prototype.i=function(c){return function(){return c}}({});function Gs(c,g){xt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Gs,xt),n=Gs.prototype,n.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,$n(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?zn(this):$n(this),this.readyState==3&&ql(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,zn(this))},n.Qa=function(c){this.g&&(this.response=c,zn(this))},n.ga=function(){this.g&&zn(this)};function zn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,$n(c)}n.setRequestHeader=function(c,g){this.u.append(c,g)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=g.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Er(c){let g="";return oe(c,function(x,A){g+=A,g+=":",g+=x,g+=`\r
`}),g}function Xr(c,g,x){e:{for(A in x){var A=!1;break e}A=!0}A||(x=Er(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):Ge(c,g,x))}function et(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(et,xt);var ah=/^https?$/i,da=["POST","PUT"];n=et.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,g,x,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():On.g(),this.v=this.o?Vi(this.o):Vi(On),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(W){Ks(this,W);return}if(c=x||"",x=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)x.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const W of A.keys())x.set(W,A.get(W));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(x.keys()).find(W=>W.toLowerCase()=="content-type"),U=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(da,g,void 0))||A||U||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of x)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qi(this),this.u=!0,this.g.send(c),this.u=!1}catch(W){Ks(this,W)}};function Ks(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Hi(c),mn(c)}function Hi(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),mn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mn(this,!0)),et.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?fa(this):this.bb())},n.bb=function(){fa(this)};function fa(c){if(c.h&&typeof u<"u"&&(!c.v[1]||rn(c)!=4||c.Z()!=2)){if(c.u&&rn(c)==4)Xo(c.Ea,0,c);else if(Tt(c,"readystatechange"),rn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var A;if(A=ie===0){var U=String(c.D).match(qs)[1]||null;!U&&d.self&&d.self.location&&(U=d.self.location.protocol.slice(0,-1)),A=!ah.test(U?U.toLowerCase():"")}x=A}if(x)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var W=2<rn(c)?c.g.statusText:""}catch{W=""}c.l=W+" ["+c.Z()+"]",Hi(c)}}finally{mn(c)}}}}function mn(c,g){if(c.g){qi(c);const x=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Tt(c,"ready");try{x.onreadystatechange=A}catch{}}}function qi(c){c.I&&(d.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function rn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ta(g)}};function pa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(c){const g={};c=(c.g&&2<=rn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(G(c[A]))continue;var x=j(c[A]);const U=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const W=g[U]||[];g[U]=W,W.push(x)}P(g,function(A){return A.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(c,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||g}function ma(c){this.Aa=0,this.i=[],this.j=new Us,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,c),this.cb=sr("retryDelaySeedMs",1e4,c),this.Wa=sr("forwardChannelMaxRetries",2,c),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Hs(c&&c.concurrentRequestLimit),this.Da=new oh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ma.prototype,n.la=8,n.G=1,n.connect=function(c,g,x,A){dt(0),this.W=c,this.H=g||{},x&&A!==void 0&&(this.H.OSID=x,this.H.OAID=A),this.F=this.X,this.I=Ql(this,null,this.W),ir(this)};function jt(c){if(Gi(c),c.G==3){var g=c.U++,x=pn(c.I);if(Ge(x,"SID",c.K),Ge(x,"RID",g),Ge(x,"TYPE","terminate"),Sr(c,x),g=new Fn(c,c.j,g),g.L=2,g.v=Kr(pn(x)),x=!1,d.navigator&&d.navigator.sendBeacon)try{x=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&d.Image&&(new Image().src=g.v,x=!0),x||(g.g=Yl(g.j,null),g.g.ea(g.v)),g.F=Date.now(),Ke(g)}Kl(c)}function Hn(c){c.g&&(ga(c),c.g.cancel(),c.g=null)}function Gi(c){Hn(c),c.u&&(d.clearTimeout(c.u),c.u=null),Yi(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function ir(c){if(!fn(c.h)&&!c.s){c.s=!0;var g=c.Ga;be||ae(),se||(be(),se=!0),me.add(g,c),c.B=0}}function lh(c,g){return Ml(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Mn(T(c.Ga,c,g),Gl(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Fn(this,this.j,c);let W=this.o;if(this.S&&(W?(W=I(W),b(W,this.S)):W=this.S),this.m!==null||this.O||(U.H=W,W=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var A=this.i[x];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=Jr(this,U,g),x=pn(this.I),Ge(x,"RID",c),Ge(x,"CVER",22),this.D&&Ge(x,"X-HTTP-Session-Id",this.D),Sr(this,x),W&&(this.O?g="headers="+encodeURIComponent(String(Er(W)))+"&"+g:this.m&&Xr(x,this.m,W)),ca(this.h,U),this.Ua&&Ge(x,"TYPE","init"),this.P?(Ge(x,"$req",g),Ge(x,"SID","null"),U.T=!0,Ui(U,x,null)):Ui(U,x,g),this.G=2}}else this.G==3&&(c?Ki(this,c):this.i.length==0||fn(this.h)||Ki(this))};function Ki(c,g){var x;g?x=g.l:x=c.U++;const A=pn(c.I);Ge(A,"SID",c.K),Ge(A,"RID",x),Ge(A,"AID",c.T),Sr(c,A),c.m&&c.o&&Xr(A,c.m,c.o),x=new Fn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Jr(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ca(c.h,x),Ui(x,A,g)}function Sr(c,g){c.H&&oe(c.H,function(x,A){Ge(g,A,x)}),c.l&&qr({},function(x,A){Ge(g,A,x)})}function Jr(c,g,x){x=Math.min(c.i.length,x);var A=c.l?T(c.l.Na,c.l,c):null;e:{var U=c.i;let W=-1;for(;;){const ie=["count="+x];W==-1?0<x?(W=U[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let We=!0;for(let Et=0;Et<x;Et++){let Le=U[Et].g;const Pt=U[Et].map;if(Le-=W,0>Le)W=Math.max(0,U[Et].g-100),We=!1;else try{Hl(Pt,ie,"req"+Le+"_")}catch{A&&A(Pt)}}if(We){A=ie.join("&");break e}}}return c=c.i.splice(0,x),g.D=c,A}function Qs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;be||ae(),se||(be(),se=!0),me.add(g,c),c.v=0}}function Qi(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Mn(T(c.Fa,c),Gl(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Mn(T(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Hn(this),Wl(this))};function ga(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Wl(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=pn(c.qa);Ge(g,"RID","rpc"),Ge(g,"SID",c.K),Ge(g,"AID",c.T),Ge(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ge(g,"TO",c.ja),Ge(g,"TYPE","xmlhttp"),Sr(c,g),c.m&&c.o&&Xr(g,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=Kr(pn(g)),x.m=null,x.P=!0,la(x,c)}n.Za=function(){this.C!=null&&(this.C=null,Hn(this),Qi(this),dt(19))};function Yi(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Xi(c,g){var x=null;if(c.g==g){Yi(c),ga(c),c.g=null;var A=2}else if(Qt(c.h,g))x=g.D,Ll(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=Fs(),Tt(A,new Mi(A,x)),ir(c)}else Qs(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&lh(c,g)||A==2&&Qi(c)))switch(x&&0<x.length&&(g=c.h,g.i=g.i.concat(x)),U){case 1:Ar(c,5);break;case 4:Ar(c,10);break;case 3:Ar(c,6);break;default:Ar(c,2)}}}function Gl(c,g){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*g}function Ar(c,g){if(c.j.info("Error code "+g),g==2){var x=T(c.fb,c),A=c.Xa;const U=!A;A=new xr(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ws(A,"https"),Kr(A),U?ih(A.toString(),x):$l(A.toString(),x)}else dt(2);c.G=0,c.l&&c.l.sa(g),Kl(c),Gi(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Kl(c){if(c.G=0,c.ka=[],c.l){const g=Ol(c.h);(g.length!=0||c.i.length!=0)&&(L(c.ka,g),L(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Ql(c,g,x){var A=x instanceof xr?pn(x):new xr(x);if(A.g!="")g&&(A.g=g+"."+A.g),Wr(A,A.s);else{var U=d.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var W=new xr(null);A&&Ws(W,A),g&&(W.g=g),U&&Wr(W,U),x&&(W.l=x),A=W}return x=c.D,g=c.ya,x&&g&&Ge(A,x,g),Ge(A,"VER",c.la),Sr(c,A),A}function Yl(c,g,x){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new et(new Tr({eb:x})):new et(c.pa),g.Ha(c.J),g}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ya(){}n=ya.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ji(){}Ji.prototype.g=function(c,g){return new Yt(c,g)};function Yt(c,g){xt.call(this),this.g=new ma(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!G(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!G(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new or(this)}V(Yt,xt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){jt(this.g)},Yt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=ea(c),c=x);g.i.push(new jl(g.Ya++,c)),g.G==3&&ir(g)},Yt.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,Yt.aa.N.call(this)};function Xl(c){er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const x in g){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}V(Xl,er);function Jl(){ji.call(this),this.status=1}V(Jl,ji);function or(c){this.g=c}V(or,ya),or.prototype.ua=function(){Tt(this.g,"a")},or.prototype.ta=function(c){Tt(this.g,new Xl(c))},or.prototype.sa=function(c){Tt(this.g,new Jl)},or.prototype.ra=function(){Tt(this.g,"b")},Ji.prototype.createWebChannel=Ji.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,F1=function(){return new Ji},O1=function(){return Fs()},L1=tr,xf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oi.NO_ERROR=0,Oi.TIMEOUT=8,Oi.HTTP_ERROR=6,ic=Oi,Nl.COMPLETE="complete",M1=Nl,Di.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Wa=Di,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,j1=et}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",O0="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _i=new S1("@firebase/firestore");function xo(){return _i.logLevel}function ce(n,...e){if(_i.logLevel<=Fe.DEBUG){const t=e.map(pp);_i.debug(`Firestore (${zo}): ${n}`,...t)}}function Ur(n,...e){if(_i.logLevel<=Fe.ERROR){const t=e.map(pp);_i.error(`Firestore (${zo}): ${n}`,...t)}}function Vo(n,...e){if(_i.logLevel<=Fe.WARN){const t=e.map(pp);_i.warn(`Firestore (${zo}): ${n}`,...t)}}function pp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,U1(n,s,t)}function U1(n,e,t){let s=`FIRESTORE (${zo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Ur(s),new Error(s)}function qe(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||U1(e,o,s)}function Ae(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Si{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Gt.UNAUTHENTICATED))}shutdown(){}}class xP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class TP{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qe(this.o===void 0,42304);let s=this.i;const o=f=>this.i!==s?(s=this.i,t(f)):Promise.resolve();let l=new Ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ts,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=l;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},d=f=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ts)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string",31837,{l:s}),new B1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class EP{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class SP{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new EP(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class AP{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,P1(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qe(this.o===void 0,3512);const s=l=>{l.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ce("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>s(l))};const o=l=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new F0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=IP(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function ke(n,e){return n<e?-1:n>e?1:0}function Tf(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return ke(s,o);{const l=z1(),u=CP(l.encode(U0(n,t)),l.encode(U0(e,t)));return u!==0?u:ke(s,o)}}t+=s>65535?2:1}return ke(n.length,e.length)}function U0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function CP(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ke(n[t],e[t]);return ke(n.length,e.length)}function Do(n,e,t){return n.length===e.length&&n.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=-62135596800,z0=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*z0);return new It(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<B0)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/z0}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-B0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new It(0,0))}static max(){return new Se(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="__name__";class hr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Te(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Te(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return hr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof hr?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=hr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return ke(e.length,t.length)}static compareSegments(e,t){const s=hr.isNumericId(e),o=hr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?hr.extractNumericId(e).compare(hr.extractNumericId(t)):Tf(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xs.fromString(e.substring(4,e.length-2))}}class Ze extends hr{construct(e,t,s){return new Ze(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new Ze(t)}static emptyPath(){return new Ze([])}}const PP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends hr{construct(e,t,s){return new Ft(e,t,s)}static isValidIdentifier(e){return PP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$0}static keyField(){return new Ft([$0])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let u=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=f,o+=2}else d==="`"?(u=!u,o++):d!=="."||u?(s+=d,o++):(l(),o++)}if(l(),u)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(t)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(Ze.fromString(e))}static fromName(e){return new ve(Ze.fromString(e).popFirst(5))}static empty(){return new ve(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ze.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=-1;function kP(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new It(t+1,0):new It(t,s));return new Is(o,ve.empty(),e)}function RP(n){return new Is(n.readTime,n.key,dl)}class Is{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Is(Se.min(),ve.empty(),dl)}static max(){return new Is(Se.max(),ve.empty(),dl)}}function NP(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:ke(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==bP)throw n;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,s)=>{t(e)})}static reject(e){return new X((t,s)=>{s(e)})}static waitFor(e){return new X((t,s)=>{let o=0,l=0,u=!1;e.forEach(d=>{++o,d.next(()=>{++l,u&&l===o&&t()},f=>s(f))}),u=!0,l===o&&t()})}static or(e){let t=X.resolve(!1);for(const s of e)t=t.next(o=>o?X.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,l)=>{s.push(t.call(this,o,l))}),this.waitFor(s)}static mapArray(e,t){return new X((s,o)=>{const l=e.length,u=new Array(l);let d=0;for(let f=0;f<l;f++){const m=f;t(e[m]).next(_=>{u[m]=_,++d,d===l&&s(u)},_=>o(_))}})}static doWhile(e,t){return new X((s,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):s()};l()})}}function DP(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ho(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>t.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}$c.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function Hc(n){return n==null}function Sc(n){return n===0&&1/n==-1/0}function jP(n){return typeof n=="number"&&Number.isInteger(n)&&!Sc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="";function MP(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=H0(e)),e=LP(n.get(t),e);return H0(e)}function LP(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case H1:t+="";break;default:t+=l}}return t}function H0(n){return n+H1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ai(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function q1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lt{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Ot.RED,this.left=o??Ot.EMPTY,this.right=l??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Ot(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.comparator=e,this.data=new lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Ct)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ct(this.comparator);return t.data=e,t}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new Xn([])}unionWith(e){let t=new Ct(Ft.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Xn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Do(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new W1("Invalid base64 string: "+l):l}}(e);return new Ut(t)}static fromUint8Array(e){const t=function(o){let l="";for(let u=0;u<o.length;++u)l+=String.fromCharCode(o[u]);return l}(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const OP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cs(n){if(qe(!!n,39018),typeof n=="string"){let e=0;const t=OP.exec(n);if(qe(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ps(n){return typeof n=="string"?Ut.fromBase64String(n):Ut.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1="server_timestamp",K1="__type__",Q1="__previous_value__",Y1="__local_write_time__";function gp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[K1])===null||t===void 0?void 0:t.stringValue)===G1}function qc(n){const e=n.mapValue.fields[Q1];return gp(e)?qc(e):e}function fl(n){const e=Cs(n.mapValue.fields[Y1].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,t,s,o,l,u,d,f,m,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=_}}const Ac="(default)";class pl{constructor(e,t){this.projectId=e,this.database=t||Ac}static empty(){return new pl("","")}get isDefaultDatabase(){return this.database===Ac}isEqual(e){return e instanceof pl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="__type__",UP="__max__",Ju={mapValue:{}},J1="__vector__",Ic="value";function ks(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gp(n)?4:zP(n)?9007199254740991:BP(n)?10:11:Te(28295,{value:n})}function gr(n,e){if(n===e)return!0;const t=ks(n);if(t!==ks(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return fl(n).isEqual(fl(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const u=Cs(o.timestampValue),d=Cs(l.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,l){return Ps(o.bytesValue).isEqual(Ps(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,l){return pt(o.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(l.geoPointValue.longitude)}(n,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return pt(o.integerValue)===pt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const u=pt(o.doubleValue),d=pt(l.doubleValue);return u===d?Sc(u)===Sc(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Do(n.arrayValue.values||[],e.arrayValue.values||[],gr);case 10:case 11:return function(o,l){const u=o.mapValue.fields||{},d=l.mapValue.fields||{};if(q0(u)!==q0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!gr(u[f],d[f])))return!1;return!0}(n,e);default:return Te(52216,{left:n})}}function ml(n,e){return(n.values||[]).find(t=>gr(t,e))!==void 0}function jo(n,e){if(n===e)return 0;const t=ks(n),s=ks(e);if(t!==s)return ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return ke(n.booleanValue,e.booleanValue);case 2:return function(l,u){const d=pt(l.integerValue||l.doubleValue),f=pt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return G0(n.timestampValue,e.timestampValue);case 4:return G0(fl(n),fl(e));case 5:return Tf(n.stringValue,e.stringValue);case 6:return function(l,u){const d=Ps(l),f=Ps(u);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(l,u){const d=l.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const _=ke(d[m],f[m]);if(_!==0)return _}return ke(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,u){const d=ke(pt(l.latitude),pt(u.latitude));return d!==0?d:ke(pt(l.longitude),pt(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return K0(n.arrayValue,e.arrayValue);case 10:return function(l,u){var d,f,m,_;const w=l.fields||{},T=u.fields||{},S=(d=w[Ic])===null||d===void 0?void 0:d.arrayValue,V=(f=T[Ic])===null||f===void 0?void 0:f.arrayValue,N=ke(((m=S==null?void 0:S.values)===null||m===void 0?void 0:m.length)||0,((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0);return N!==0?N:K0(S,V)}(n.mapValue,e.mapValue);case 11:return function(l,u){if(l===Ju.mapValue&&u===Ju.mapValue)return 0;if(l===Ju.mapValue)return 1;if(u===Ju.mapValue)return-1;const d=l.fields||{},f=Object.keys(d),m=u.fields||{},_=Object.keys(m);f.sort(),_.sort();for(let w=0;w<f.length&&w<_.length;++w){const T=Tf(f[w],_[w]);if(T!==0)return T;const S=jo(d[f[w]],m[_[w]]);if(S!==0)return S}return ke(f.length,_.length)}(n.mapValue,e.mapValue);default:throw Te(23264,{Pe:t})}}function G0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ke(n,e);const t=Cs(n),s=Cs(e),o=ke(t.seconds,s.seconds);return o!==0?o:ke(t.nanos,s.nanos)}function K0(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=jo(t[o],s[o]);if(l)return l}return ke(t.length,s.length)}function Mo(n){return Ef(n)}function Ef(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const s=Cs(t);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ps(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=Ef(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const u of s)l?l=!1:o+=",",o+=`${u}:${Ef(t.fields[u])}`;return o+"}"}(n.mapValue):Te(61005,{value:n})}function oc(n){switch(ks(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(n);return e?16+oc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ps(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,l)=>o+oc(l),0)}(n.arrayValue);case 10:case 11:return function(s){let o=0;return Ai(s.fields,(l,u)=>{o+=l.length+oc(u)}),o}(n.mapValue);default:throw Te(13486,{value:n})}}function Q0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Sf(n){return!!n&&"integerValue"in n}function yp(n){return!!n&&"arrayValue"in n}function Y0(n){return!!n&&"nullValue"in n}function X0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ac(n){return!!n&&"mapValue"in n}function BP(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[X1])===null||t===void 0?void 0:t.stringValue)===J1}function tl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ai(n.mapValue.fields,(t,s)=>e.mapValue.fields[t]=tl(s)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=tl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===UP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ac(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(t)}setAll(e){let t=Ft.emptyPath(),s={},o=[];e.forEach((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,s,o),s={},o=[],t=d.popLast()}u?s[d.lastSegment()]=tl(u):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ac(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ai(t,(o,l)=>e[o]=l);for(const o of s)delete e[o]}clone(){return new jn(tl(this.value))}}function Z1(n){const e=[];return Ai(n.fields,(t,s)=>{const o=new Ft([t]);if(ac(s)){const l=Z1(s.mapValue).fields;if(l.length===0)e.push(o);else for(const u of l)e.push(o.child(u))}else e.push(o)}),new Xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,s,o,l,u,d){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,Se.min(),Se.min(),Se.min(),jn.empty(),0)}static newFoundDocument(e,t,s,o){return new Kt(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new Kt(e,2,t,Se.min(),Se.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Se.min(),Se.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t){this.position=e,this.inclusive=t}}function J0(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],u=n.position[o];if(l.field.isKeyField()?s=ve.comparator(ve.fromName(u.referenceValue),t.key):s=jo(u,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function Z0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,t="asc"){this.field=e,this.dir=t}}function $P(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{}class wt extends ew{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new qP(e,t,s):t==="array-contains"?new KP(e,s):t==="in"?new QP(e,s):t==="not-in"?new YP(e,s):t==="array-contains-any"?new XP(e,s):new wt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new WP(e,s):new GP(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(jo(t,this.value)):t!==null&&ks(this.value)===ks(t)&&this.matchesComparison(jo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Zn extends ew{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Zn(e,t)}matches(e){return tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tw(n){return n.op==="and"}function nw(n){return HP(n)&&tw(n)}function HP(n){for(const e of n.filters)if(e instanceof Zn)return!1;return!0}function Af(n){if(n instanceof wt)return n.field.canonicalString()+n.op.toString()+Mo(n.value);if(nw(n))return n.filters.map(e=>Af(e)).join(",");{const e=n.filters.map(t=>Af(t)).join(",");return`${n.op}(${e})`}}function rw(n,e){return n instanceof wt?function(s,o){return o instanceof wt&&s.op===o.op&&s.field.isEqual(o.field)&&gr(s.value,o.value)}(n,e):n instanceof Zn?function(s,o){return o instanceof Zn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((l,u,d)=>l&&rw(u,o.filters[d]),!0):!1}(n,e):void Te(19439)}function sw(n){return n instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${Mo(t.value)}`}(n):n instanceof Zn?function(t){return t.op.toString()+" {"+t.getFilters().map(sw).join(" ,")+"}"}(n):"Filter"}class qP extends wt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class WP extends wt{constructor(e,t){super(e,"in",t),this.keys=iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class GP extends wt{constructor(e,t){super(e,"not-in",t),this.keys=iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function iw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class KP extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yp(t)&&ml(t.arrayValue,this.value)}}class QP extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ml(this.value.arrayValue,t)}}class YP extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ml(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ml(this.value.arrayValue,t)}}class XP extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ml(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t=null,s=[],o=[],l=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=u,this.endAt=d,this.Ie=null}}function ev(n,e=null,t=[],s=[],o=null,l=null,u=null){return new JP(n,e,t,s,o,l,u)}function vp(n){const e=Ae(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Af(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(l){return l.field.canonicalString()+l.dir}(s)).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Mo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Mo(s)).join(",")),e.Ie=t}return e.Ie}function _p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!$P(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!rw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Z0(n.startAt,e.startAt)&&Z0(n.endAt,e.endAt)}function If(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,t=null,s=[],o=[],l=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ZP(n,e,t,s,o,l,u,d){return new qo(n,e,t,s,o,l,u,d)}function wp(n){return new qo(n)}function tv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ow(n){return n.collectionGroup!==null}function nl(n){const e=Ae(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Ct(Ft.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new gl(l,s))}),t.has(Ft.keyField().canonicalString())||e.Ee.push(new gl(Ft.keyField(),s))}return e.Ee}function pr(n){const e=Ae(n);return e.de||(e.de=ek(e,nl(n))),e.de}function ek(n,e){if(n.limitType==="F")return ev(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new gl(o.field,l)});const t=n.endAt?new Cc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Cc(n.startAt.position,n.startAt.inclusive):null;return ev(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function Cf(n,e){const t=n.filters.concat([e]);return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Pf(n,e,t){return new qo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Wc(n,e){return _p(pr(n),pr(e))&&n.limitType===e.limitType}function aw(n){return`${vp(pr(n))}|lt:${n.limitType}`}function To(n){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>sw(o)).join(", ")}]`),Hc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Mo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Mo(o)).join(",")),`Target(${s})`}(pr(n))}; limitType=${n.limitType})`}function Gc(n,e){return e.isFoundDocument()&&function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):ve.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)}(n,e)&&function(s,o){for(const l of nl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(n,e)&&function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0}(n,e)&&function(s,o){return!(s.startAt&&!function(u,d,f){const m=J0(u,d,f);return u.inclusive?m<=0:m<0}(s.startAt,nl(s),o)||s.endAt&&!function(u,d,f){const m=J0(u,d,f);return u.inclusive?m>=0:m>0}(s.endAt,nl(s),o))}(n,e)}function tk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function lw(n){return(e,t)=>{let s=!1;for(const o of nl(n)){const l=nk(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function nk(n,e,t){const s=n.field.isKeyField()?ve.comparator(e.key,t.key):function(l,u,d){const f=u.data.field(l),m=d.data.field(l);return f!==null&&m!==null?jo(f,m):Te(42886)}(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ai(this.inner,(t,s)=>{for(const[o,l]of s)e(o,l)})}isEmpty(){return q1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=new lt(ve.comparator);function Br(){return rk}const uw=new lt(ve.comparator);function Ga(...n){let e=uw;for(const t of n)e=e.insert(t.key,t);return e}function cw(n){let e=uw;return n.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function mi(){return rl()}function hw(){return rl()}function rl(){return new Ii(n=>n.toString(),(n,e)=>n.isEqual(e))}const sk=new lt(ve.comparator),ik=new Ct(ve.comparator);function Ve(...n){let e=ik;for(const t of n)e=e.add(t);return e}const ok=new Ct(ke);function ak(){return ok}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Sc(e)?"-0":e}}function dw(n){return{integerValue:""+n}}function lk(n,e){return jP(e)?dw(e):xp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(){this._=void 0}}function uk(n,e,t){return n instanceof yl?function(o,l){const u={fields:{[K1]:{stringValue:G1},[Y1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&gp(l)&&(l=qc(l)),l&&(u.fields[Q1]=l),{mapValue:u}}(t,e):n instanceof vl?pw(n,e):n instanceof _l?mw(n,e):function(o,l){const u=fw(o,l),d=nv(u)+nv(o.Re);return Sf(u)&&Sf(o.Re)?dw(d):xp(o.serializer,d)}(n,e)}function ck(n,e,t){return n instanceof vl?pw(n,e):n instanceof _l?mw(n,e):t}function fw(n,e){return n instanceof Pc?function(s){return Sf(s)||function(l){return!!l&&"doubleValue"in l}(s)}(e)?e:{integerValue:0}:null}class yl extends Kc{}class vl extends Kc{constructor(e){super(),this.elements=e}}function pw(n,e){const t=gw(e);for(const s of n.elements)t.some(o=>gr(o,s))||t.push(s);return{arrayValue:{values:t}}}class _l extends Kc{constructor(e){super(),this.elements=e}}function mw(n,e){let t=gw(e);for(const s of n.elements)t=t.filter(o=>!gr(o,s));return{arrayValue:{values:t}}}class Pc extends Kc{constructor(e,t){super(),this.serializer=e,this.Re=t}}function nv(n){return pt(n.integerValue||n.doubleValue)}function gw(n){return yp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t){this.field=e,this.transform=t}}function dk(n,e){return n.field.isEqual(e.field)&&function(s,o){return s instanceof vl&&o instanceof vl||s instanceof _l&&o instanceof _l?Do(s.elements,o.elements,gr):s instanceof Pc&&o instanceof Pc?gr(s.Re,o.Re):s instanceof yl&&o instanceof yl}(n.transform,e.transform)}class fk{constructor(e,t){this.version=e,this.transformResults=t}}class Lr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Lr}static exists(e){return new Lr(void 0,e)}static updateTime(e){return new Lr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Qc{}function yw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new _w(n.key,Lr.none()):new Il(n.key,n.data,Lr.none());{const t=n.data,s=jn.empty();let o=new Ct(Ft.comparator);for(let l of e.fields)if(!o.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?s.delete(l):s.set(l,u),o=o.add(l)}return new Ci(n.key,s,new Xn(o.toArray()),Lr.none())}}function pk(n,e,t){n instanceof Il?function(o,l,u){const d=o.value.clone(),f=sv(o.fieldTransforms,l,u.transformResults);d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ci?function(o,l,u){if(!lc(o.precondition,l))return void l.convertToUnknownDocument(u.version);const d=sv(o.fieldTransforms,l,u.transformResults),f=l.data;f.setAll(vw(o)),f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(n,e,t):function(o,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function sl(n,e,t,s){return n instanceof Il?function(l,u,d,f){if(!lc(l.precondition,u))return d;const m=l.value.clone(),_=iv(l.fieldTransforms,f,u);return m.setAll(_),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(n,e,t,s):n instanceof Ci?function(l,u,d,f){if(!lc(l.precondition,u))return d;const m=iv(l.fieldTransforms,f,u),_=u.data;return _.setAll(vw(l)),_.setAll(m),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(w=>w.field))}(n,e,t,s):function(l,u,d){return lc(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(n,e,t)}function mk(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=fw(s.transform,o||null);l!=null&&(t===null&&(t=jn.empty()),t.set(s.field,l))}return t||null}function rv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Do(s,o,(l,u)=>dk(l,u))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Il extends Qc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ci extends Qc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function vw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}}),e}function sv(n,e,t){const s=new Map;qe(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let o=0;o<t.length;o++){const l=n[o],u=l.transform,d=e.data.field(l.field);s.set(l.field,ck(u,d,t[o]))}return s}function iv(n,e,t){const s=new Map;for(const o of n){const l=o.transform,u=t.data.field(o.field);s.set(o.field,uk(l,u,e))}return s}class _w extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gk extends Qc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&pk(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=sl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=sl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=hw();return this.mutations.forEach(o=>{const l=e.get(o.key),u=l.overlayedDocument;let d=this.applyToLocalView(u,l.mutatedFields);d=t.has(o.key)?null:d;const f=yw(u,d);f!==null&&s.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ve())}isEqual(e){return this.batchId===e.batchId&&Do(this.mutations,e.mutations,(t,s)=>rv(t,s))&&Do(this.baseMutations,e.baseMutations,(t,s)=>rv(t,s))}}class Tp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){qe(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return sk}();const l=e.mutations;for(let u=0;u<l.length;u++)o=o.insert(l[u].key,s[u].version);return new Tp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Oe;function wk(n){switch(n){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:n})}}function ww(n){if(n===void 0)return Ur("GRPC error has no .code"),J.UNKNOWN;switch(n){case vt.OK:return J.OK;case vt.CANCELLED:return J.CANCELLED;case vt.UNKNOWN:return J.UNKNOWN;case vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case vt.INTERNAL:return J.INTERNAL;case vt.UNAVAILABLE:return J.UNAVAILABLE;case vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case vt.NOT_FOUND:return J.NOT_FOUND;case vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case vt.ABORTED:return J.ABORTED;case vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case vt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:n})}}(Oe=vt||(vt={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xk=new xs([4294967295,4294967295],0);function ov(n){const e=z1().encode(n),t=new D1;return t.update(e),new Uint8Array(t.digest())}function av(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new xs([t,s],0),new xs([o,l],0)]}class Ep{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ka(`Invalid padding: ${t}`);if(s<0)throw new Ka(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ka(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ka(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=xs.fromNumber(this.pe)}we(e,t,s){let o=e.add(t.multiply(xs.fromNumber(s)));return o.compare(xk)===1&&(o=new xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=ov(e),[s,o]=av(t);for(let l=0;l<this.hashCount;l++){const u=this.we(s,o,l);if(!this.Se(u))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Ep(l,o,t);return s.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const t=ov(e),[s,o]=av(t);for(let l=0;l<this.hashCount;l++){const u=this.we(s,o,l);this.be(u)}}be(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ka extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Yc(Se.min(),o,new lt(ke),Br(),Ve())}}class Cl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Cl(s,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,s,o){this.De=e,this.removedTargetIds=t,this.key=s,this.ve=o}}class xw{constructor(e,t){this.targetId=e,this.Ce=t}}class Tw{constructor(e,t,s=Ut.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class lv{constructor(){this.Fe=0,this.Me=uv(),this.xe=Ut.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ve(),t=Ve(),s=Ve();return this.Me.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:l})}}),new Cl(this.xe,this.Oe,e,t,s)}Qe(){this.Ne=!1,this.Me=uv()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,qe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Tk{constructor(e){this.ze=e,this.je=new Map,this.He=Br(),this.Je=Zu(),this.Ye=Zu(),this.Ze=new lt(ke)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const s=this.rt(t);switch(e.state){case 0:this.it(t)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(t);break;case 3:this.it(t)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((s,o)=>{this.it(o)&&t(o)})}ot(e){const t=e.targetId,s=e.Ce.count,o=this._t(t);if(o){const l=o.target;if(If(l))if(s===0){const u=new ve(l.path);this.tt(t,u,Kt.newNoDocument(u,Se.min()))}else qe(s===1,20013,{expectedCount:s});else{const u=this.ut(t);if(u!==s){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(t);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,m)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let u,d;try{u=Ps(s).toUint8Array()}catch(f){if(f instanceof W1)return Vo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Ep(u,o,l)}catch(f){return Vo(f instanceof Ka?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,t,s){return t.Ce.count===s-this.Tt(e,t.targetId)?0:2}Tt(e,t){const s=this.ze.getRemoteKeysForTarget(t);let o=0;return s.forEach(l=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.tt(t,l,null),o++)}),o}It(e){const t=new Map;this.je.forEach((l,u)=>{const d=this._t(u);if(d){if(l.current&&If(d.target)){const f=new ve(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Kt.newNoDocument(f,e))}l.Le&&(t.set(u,l.qe()),l.Qe())}});let s=Ve();this.Ye.forEach((l,u)=>{let d=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const o=new Yc(e,t,this.Ze,this.He,s);return this.He=Br(),this.Je=Zu(),this.Ye=Zu(),this.Ze=new lt(ke),o}et(e,t){if(!this.it(e))return;const s=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,s),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,t)?o.$e(t,1):o.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),s&&(this.He=this.He.insert(t,s))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new lv,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ct(ke),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ct(ke),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ce("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new lv),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Zu(){return new lt(ve.comparator)}function uv(){return new lt(ve.comparator)}const Ek={asc:"ASCENDING",desc:"DESCENDING"},Sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ak={and:"AND",or:"OR"};class Ik{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kf(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function kc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ew(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Ck(n,e){return kc(n,e.toTimestamp())}function mr(n){return qe(!!n,49232),Se.fromTimestamp(function(t){const s=Cs(t);return new It(s.seconds,s.nanos)}(n))}function Sp(n,e){return Rf(n,e).canonicalString()}function Rf(n,e){const t=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Sw(n){const e=Ze.fromString(n);return qe(kw(e),10190,{key:e.toString()}),e}function Nf(n,e){return Sp(n.databaseId,e.path)}function Qd(n,e){const t=Sw(e);if(t.get(1)!==n.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(Iw(t))}function Aw(n,e){return Sp(n.databaseId,e)}function Pk(n){const e=Sw(n);return e.length===4?Ze.emptyPath():Iw(e)}function bf(n){return new Ze(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Iw(n){return qe(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cv(n,e,t){return{name:Nf(n,e),fields:t.value.mapValue.fields}}function kk(n,e){let t;if("targetChange"in e){e.targetChange;const s=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Te(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(qe(_===void 0||typeof _=="string",58123),Ut.fromBase64String(_||"")):(qe(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Ut.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const _=m.code===void 0?J.UNKNOWN:ww(m.code);return new de(_,m.message||"")}(u);t=new Tw(s,o,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Qd(n,s.document.name),l=mr(s.document.updateTime),u=s.document.createTime?mr(s.document.createTime):Se.min(),d=new jn({mapValue:{fields:s.document.fields}}),f=Kt.newFoundDocument(o,l,u,d),m=s.targetIds||[],_=s.removedTargetIds||[];t=new uc(m,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Qd(n,s.document),l=s.readTime?mr(s.readTime):Se.min(),u=Kt.newNoDocument(o,l),d=s.removedTargetIds||[];t=new uc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Qd(n,s.document),l=s.removedTargetIds||[];t=new uc([],l,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,u=new _k(o,l),d=s.targetId;t=new xw(d,u)}}return t}function Rk(n,e){let t;if(e instanceof Il)t={update:cv(n,e.key,e.value)};else if(e instanceof _w)t={delete:Nf(n,e.key)};else if(e instanceof Ci)t={update:cv(n,e.key,e.data),updateMask:Fk(e.fieldMask)};else{if(!(e instanceof gk))return Te(16599,{ft:e.type});t={verify:Nf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,u){const d=u.transform;if(d instanceof yl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof vl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _l)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Pc)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Te(20930,{transform:u.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:Ck(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Te(27497)}(n,e.precondition)),t}function Nk(n,e){return n&&n.length>0?(qe(e!==void 0,14353),n.map(t=>function(o,l){let u=o.updateTime?mr(o.updateTime):mr(l);return u.isEqual(Se.min())&&(u=mr(l)),new fk(u,o.transformResults||[])}(t,e))):[]}function bk(n,e){return{documents:[Aw(n,e.path)]}}function Vk(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Aw(n,o);const l=function(m){if(m.length!==0)return Pw(Zn.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(_=>function(T){return{field:Eo(T.field),direction:Mk(T.dir)}}(_))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=kf(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:t,parent:o}}function Dk(n){let e=Pk(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){qe(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(w){const T=Cw(w);return T instanceof Zn&&nw(T)?T.getFilters():[T]}(t.where));let u=[];t.orderBy&&(u=function(w){return w.map(T=>function(V){return new gl(So(V.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(T))}(t.orderBy));let d=null;t.limit&&(d=function(w){let T;return T=typeof w=="object"?w.value:w,Hc(T)?null:T}(t.limit));let f=null;t.startAt&&(f=function(w){const T=!!w.before,S=w.values||[];return new Cc(S,T)}(t.startAt));let m=null;return t.endAt&&(m=function(w){const T=!w.before,S=w.values||[];return new Cc(S,T)}(t.endAt)),ZP(e,o,u,l,d,"F",f,m)}function jk(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Cw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=So(t.unaryFilter.field);return wt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=So(t.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=So(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=So(t.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(n):n.fieldFilter!==void 0?function(t){return wt.create(So(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Zn.create(t.compositeFilter.filters.map(s=>Cw(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(t.compositeFilter.op))}(n):Te(30097,{filter:n})}function Mk(n){return Ek[n]}function Lk(n){return Sk[n]}function Ok(n){return Ak[n]}function Eo(n){return{fieldPath:n.canonicalString()}}function So(n){return Ft.fromServerFormat(n.fieldPath)}function Pw(n){return n instanceof wt?function(t){if(t.op==="=="){if(X0(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NAN"}};if(Y0(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(X0(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NAN"}};if(Y0(t.value))return{unaryFilter:{field:Eo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Eo(t.field),op:Lk(t.op),value:t.value}}}(n):n instanceof Zn?function(t){const s=t.getFilters().map(o=>Pw(o));return s.length===1?s[0]:{compositeFilter:{op:Ok(t.op),filters:s}}}(n):Te(54877,{filter:n})}function Fk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function kw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,t,s,o,l=Se.min(),u=Se.min(),d=Ut.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new gs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e){this.wt=e}}function Bk(n){const e=Dk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Pf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.Cn=new $k}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Is.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Is.min())}updateCollectionGroup(e,t,s){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class $k{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Ct(Ze.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ct(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Rw=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Rw,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Lo(0)}static lr(){return new Lo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv="LruGarbageCollector",Hk=1048576;function fv([n,e],[t,s]){const o=ke(n,t);return o===0?ke(e,s):o}class qk{constructor(e){this.Er=e,this.buffer=new Ct(fv),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();fv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Wk{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ce(dv,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ho(t)?ce(dv,"Ignoring IndexedDB error during garbage collection: ",t):await $o(t)}await this.mr(3e5)})}}class Gk{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return X.resolve($c.le);const s=new qk(t);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.gr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(hv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hv):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let s,o,l,u,d,f,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,d=Date.now(),this.removeTargets(e,s,t))).next(w=>(l=w,f=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(m=Date.now(),xo()<=Fe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${o} in `+(d-u)+`ms
	Removed ${l} targets in `+(f-d)+`ms
	Removed ${w} documents in `+(m-f)+`ms
Total Duration: ${m-_}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:w})))}}function Kk(n,e){return new Gk(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(){this.changes=new Ii(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?X.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&sl(s.mutation,o,Xn.empty(),It.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ve()){const o=mi();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(l=>{let u=Ga();return l.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const s=mi();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ve()))}populateOverlays(e,t,s){const o=[];return s.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((u,d)=>{t.set(u,d)})})}computeViews(e,t,s,o){let l=Br();const u=rl(),d=function(){return rl()}();return t.forEach((f,m)=>{const _=s.get(m.key);o.has(m.key)&&(_===void 0||_.mutation instanceof Ci)?l=l.insert(m.key,m):_!==void 0?(u.set(m.key,_.mutation.getFieldMask()),sl(_.mutation,m,_.mutation.getFieldMask(),It.now())):u.set(m.key,Xn.empty())}),this.recalculateAndSaveOverlays(e,l).next(f=>(f.forEach((m,_)=>u.set(m,_)),t.forEach((m,_)=>{var w;return d.set(m,new Yk(_,(w=u.get(m))!==null&&w!==void 0?w:null))}),d))}recalculateAndSaveOverlays(e,t){const s=rl();let o=new lt((u,d)=>u-d),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=t.get(f);if(m===null)return;let _=s.get(f)||Xn.empty();_=d.applyToLocalView(m,_),s.set(f,_);const w=(o.get(d.batchId)||Ve()).add(f);o=o.insert(d.batchId,w)})}).next(()=>{const u=[],d=o.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,_=f.value,w=hw();_.forEach(T=>{if(!l.has(T)){const S=yw(t.get(T),s.get(T));S!==null&&w.set(T,S),l=l.add(T)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,w))}return X.waitFor(u)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(u){return ve.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ow(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(l=>{const u=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):X.resolve(mi());let d=dl,f=l;return u.next(m=>X.forEach(m,(_,w)=>(d<w.largestBatchId&&(d=w.largestBatchId),l.get(_)?X.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{f=f.insert(_,T)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,f,m,Ve())).next(_=>({batchId:d,changes:cw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Ga();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let u=Ga();return this.indexManager.getCollectionParents(e,l).next(d=>X.forEach(d,f=>{const m=function(w,T){return new qo(T,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(t,f.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,s,o).next(_=>{_.forEach((w,T)=>{u=u.insert(w,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o))).next(u=>{l.forEach((f,m)=>{const _=m.getKey();u.get(_)===null&&(u=u.insert(_,Kt.newInvalidDocument(_)))});let d=Ga();return u.forEach((f,m)=>{const _=l.get(f);_!==void 0&&sl(_.mutation,m,Xn.empty(),It.now()),Gc(t,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return X.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:mr(o.createTime)}}(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(o){return{name:o.name,query:Bk(o.bundledQuery),readTime:mr(o.readTime)}}(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.overlays=new lt(ve.comparator),this.Qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const s=mi();return X.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&s.set(o,l)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,l)=>{this.bt(e,t,l)}),X.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(s)),X.resolve()}getOverlaysForCollection(e,t,s){const o=mi(),l=t.length+1,u=new ve(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&f.largestBatchId>s&&o.set(f.getKey(),f)}return X.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new lt((m,_)=>m-_);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>s){let _=l.get(m.largestBatchId);_===null&&(_=mi(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=mi(),f=l.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=o)););return X.resolve(d)}bt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const u=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(s.key,new vk(t,s));let l=this.Qr.get(t);l===void 0&&(l=Ve(),this.Qr.set(t,l)),this.Qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(){this.$r=new Ct(bt.Ur),this.Kr=new Ct(bt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const s=new bt(e,t);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.zr(new bt(e,t))}jr(e,t){e.forEach(s=>this.removeReference(s,t))}Hr(e){const t=new ve(new Ze([])),s=new bt(t,e),o=new bt(t,e+1),l=[];return this.Kr.forEachInRange([s,o],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new ve(new Ze([])),s=new bt(t,e),o=new bt(t,e+1);let l=Ve();return this.Kr.forEachInRange([s,o],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new bt(e,0),s=this.$r.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class bt{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return ve.comparator(e.key,t.key)||ke(e.Zr,t.Zr)}static Wr(e,t){return ke(e.Zr,t.Zr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ct(bt.Ur)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new yk(l,t,s,o);this.mutationQueue.push(u);for(const d of o)this.Xr=this.Xr.add(new bt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ti(s),l=o<0?0:o;return X.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?mp:this.nr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new bt(t,0),o=new bt(t,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([s,o],u=>{const d=this.ei(u.Zr);l.push(d)}),X.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Ct(ke);return t.forEach(o=>{const l=new bt(o,0),u=new bt(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],d=>{s=s.add(d.Zr)})}),X.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;ve.isDocumentKey(l)||(l=l.child(""));const u=new bt(new ve(l),0);let d=new Ct(ke);return this.Xr.forEachWhile(f=>{const m=f.key.path;return!!s.isPrefixOf(m)&&(m.length===o&&(d=d.add(f.Zr)),!0)},u),X.resolve(this.ni(d))}ni(e){const t=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){qe(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return X.forEach(t.mutations,o=>{const l=new bt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,t){const s=new bt(t,0),o=this.Xr.firstAfterOrEqual(s);return X.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e){this.ii=e,this.docs=function(){return new lt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,u=this.ii(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return X.resolve(s?s.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let s=Br();return t.forEach(o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Kt.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Br();const u=t.path,d=new ve(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:_}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||NP(RP(_),s)<=0||(o.has(_.key)||Gc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return X.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Te(9500)}si(e,t){return X.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new rR(this)}getSize(e){return X.resolve(this.size)}}class rR extends Qk{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),X.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.persistence=e,this.oi=new Ii(t=>vp(t),_p),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new Ap,this.targetCount=0,this.ui=Lo.cr()}forEachTarget(e,t){return this.oi.forEach((s,o)=>t(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this._i&&(this._i=t),X.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Lo(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Tr(t),X.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.oi.forEach((u,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),X.waitFor(l).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const s=this.oi.get(t)||null;return X.resolve(s)}addMatchingKeys(e,t,s){return this.ai.Gr(t,s),X.resolve()}removeMatchingKeys(e,t,s){this.ai.jr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(u=>{l.push(o.markPotentiallyOrphaned(e,u))}),X.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const s=this.ai.Yr(t);return X.resolve(s)}containsKey(e,t){return X.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,t){this.ci={},this.overlays={},this.li=new $c(0),this.hi=!1,this.hi=!0,this.Pi=new eR,this.referenceDelegate=e(this),this.Ti=new sR(this),this.indexManager=new zk,this.remoteDocumentCache=function(o){return new nR(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Uk(t),this.Ei=new Jk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Zk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ci[e.toKey()];return s||(s=new tR(t,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,s){ce("MemoryPersistence","Starting transaction:",e);const o=new iR(this.li.next());return this.referenceDelegate.di(),s(o).next(l=>this.referenceDelegate.Ai(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}Ri(e,t){return X.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,t)))}}class iR extends VP{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.Vi=new Ap,this.mi=null}static fi(e){return new Ip(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,t,s){return this.Vi.addReference(s,t),this.gi.delete(s.toString()),X.resolve()}removeReference(e,t,s){return this.Vi.removeReference(s,t),this.gi.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.gi.add(l.toString()))}).next(()=>s.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.gi,s=>{const o=ve.fromPath(s);return this.pi(e,o).next(l=>{l||t.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(s=>{s?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return X.or([()=>X.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.yi=new Ii(s=>MP(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Kk(this,t)}static fi(e,t){return new Rc(e,t)}di(){}Ai(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}Sr(e){let t=0;return this.yr(e,s=>{t++}).next(()=>t)}yr(e,t){return X.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(l=>l?X.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.si(e,u=>this.Dr(e,u,t).next(d=>{d||(s++,l.removeEntry(u,Se.min()))})).next(()=>l.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,t,s){return this.yi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),X.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oc(e.data.value)),t}Dr(e,t,s){return X.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.yi.get(t);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.ds=s,this.As=o}static Rs(e,t){let s=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new Cp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return oC()?8:DP(sC())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ws(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Ss(e,t,o,s).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new oR;return this.bs(e,t,u).next(d=>{if(l.result=d,this.fs)return this.Ds(e,t,u,d.size)})}).next(()=>l.result)}Ds(e,t,s,o){return s.documentReadCount<this.gs?(xo()<=Fe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",To(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),X.resolve()):(xo()<=Fe.DEBUG&&ce("QueryEngine","Query:",To(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(xo()<=Fe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",To(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(t))):X.resolve())}ws(e,t){if(tv(t))return X.resolve(null);let s=pr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Pf(t,null,"F"),s=pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(l=>{const u=Ve(...l);return this.ys.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,s).next(f=>{const m=this.vs(t,d);return this.Cs(t,m,u,f.readTime)?this.ws(e,Pf(t,null,"F")):this.Fs(e,m,t,f)}))})))}Ss(e,t,s,o){return tv(t)||o.isEqual(Se.min())?X.resolve(null):this.ys.getDocuments(e,s).next(l=>{const u=this.vs(t,l);return this.Cs(t,u,s,o)?X.resolve(null):(xo()<=Fe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),To(t)),this.Fs(e,u,t,kP(o,dl)).next(d=>d))})}vs(e,t){let s=new Ct(lw(e));return t.forEach((o,l)=>{Gc(e,l)&&(s=s.add(l))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}bs(e,t,s){return xo()<=Fe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",To(t)),this.ys.getDocumentsMatchingQuery(e,t,Is.min(),s)}Fs(e,t,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="LocalStore",lR=3e8;class uR{constructor(e,t,s,o){this.persistence=e,this.Ms=t,this.serializer=o,this.xs=new lt(ke),this.Os=new Ii(l=>vp(l),_p),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xk(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function cR(n,e,t,s){return new uR(n,e,t,s)}async function bw(n,e){const t=Ae(n);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(l=>(o=l,t.Ls(e),t.mutationQueue.getAllMutationBatches(s))).next(l=>{const u=[],d=[];let f=Ve();for(const m of o){u.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}for(const m of l){d.push(m.batchId);for(const _ of m.mutations)f=f.add(_.key)}return t.localDocuments.getDocuments(s,f).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:d}))})})}function hR(n,e){const t=Ae(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),l=t.Bs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,_){const w=m.batch,T=w.keys();let S=X.resolve();return T.forEach(V=>{S=S.next(()=>_.getEntry(f,V)).next(N=>{const L=m.docVersions.get(V);qe(L!==null,48541),N.version.compareTo(L)<0&&(w.applyToRemoteDocument(N,m),N.isValidDocument()&&(N.setReadTime(m.commitVersion),_.addEntry(N)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(f,w))}(t,s,e,l).next(()=>l.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let f=Ve();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function Vw(n){const e=Ae(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function dR(n,e){const t=Ae(n),s=e.snapshotVersion;let o=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.Bs.newChangeBuffer({trackRemovals:!0});o=t.xs;const d=[];e.targetChanges.forEach((_,w)=>{const T=o.get(w);if(!T)return;d.push(t.Ti.removeMatchingKeys(l,_.removedDocuments,w).next(()=>t.Ti.addMatchingKeys(l,_.addedDocuments,w)));let S=T.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Ut.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(_.resumeToken,s)),o=o.insert(w,S),function(N,L,K){return N.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=lR?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0}(T,S,_)&&d.push(t.Ti.updateTargetData(l,S))});let f=Br(),m=Ve();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(fR(l,u,e.documentUpdates).next(_=>{f=_.qs,m=_.Qs})),!s.isEqual(Se.min())){const _=t.Ti.getLastRemoteSnapshotVersion(l).next(w=>t.Ti.setTargetsMetadata(l,l.currentSequenceNumber,s));d.push(_)}return X.waitFor(d).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,f,m)).next(()=>f)}).then(l=>(t.xs=o,l))}function fR(n,e,t){let s=Ve(),o=Ve();return t.forEach(l=>s=s.add(l)),e.getEntries(n,s).next(l=>{let u=Br();return t.forEach((d,f)=>{const m=l.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(o=o.add(d)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ce(Pp,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{qs:u,Qs:o}})}function pR(n,e){const t=Ae(n);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=mp),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mR(n,e){const t=Ae(n);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ti.getTargetData(s,e).next(l=>l?(o=l,X.resolve(o)):t.Ti.allocateTargetId(s).next(u=>(o=new gs(e,u,"TargetPurposeListen",s.currentSequenceNumber),t.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.xs=t.xs.insert(s.targetId,s),t.Os.set(e,s.targetId)),s})}async function Vf(n,e,t){const s=Ae(n),o=s.xs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,u=>s.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Ho(u))throw u;ce(Pp,`Failed to update sequence numbers for target ${e}: ${u}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function pv(n,e,t){const s=Ae(n);let o=Se.min(),l=Ve();return s.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,_){const w=Ae(f),T=w.Os.get(_);return T!==void 0?X.resolve(w.xs.get(T)):w.Ti.getTargetData(m,_)}(s,u,pr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(u,d.targetId).next(f=>{l=f})}).next(()=>s.Ms.getDocumentsMatchingQuery(u,e,t?o:Se.min(),t?l:Ve())).next(d=>(gR(s,tk(e),d),{documents:d,$s:l})))}function gR(n,e,t){let s=n.Ns.get(e)||Se.min();t.forEach((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)}),n.Ns.set(e,s)}class mv{constructor(){this.activeTargetIds=ak()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yR{constructor(){this.xo=new mv,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,s){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new mv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="ConnectivityMonitor";class yv{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ce(gv,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ce(gv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec=null;function Df(){return ec===null?ec=function(){return 268435456+Math.round(2147483648*Math.random())}():ec++,"0x"+ec.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd="RestConnection",_R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class wR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Ac?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,t,s,o,l){const u=Df(),d=this.jo(e,t.toUriEncodedString());ce(Yd,`Sending RPC '${e}' ${u}:`,d,s);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,o,l);const{host:m}=new URL(d),_=Al(m);return this.Jo(e,d,f,s,_).then(w=>(ce(Yd,`Received RPC '${e}' ${u}: `,w),w),w=>{throw Vo(Yd,`RPC '${e}' ${u} failed with error: `,w,"url: ",d,"request:",s),w})}Yo(e,t,s,o,l,u){return this.zo(e,t,s,o,l)}Ho(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+zo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),s&&s.headers.forEach((o,l)=>e[l]=o)}jo(e,t){const s=_R[e];return`${this.Ko}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qt="WebChannelConnection";class TR extends wR{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,l){const u=Df();return new Promise((d,f)=>{const m=new j1;m.setWithCredentials(!0),m.listenOnce(M1.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case ic.NO_ERROR:const w=m.getResponseJson();ce(qt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),d(w);break;case ic.TIMEOUT:ce(qt,`RPC '${e}' ${u} timed out`),f(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const T=m.getStatus();if(ce(qt,`RPC '${e}' ${u} failed with status:`,T,"response text:",m.getResponseText()),T>0){let S=m.getResponseJson();Array.isArray(S)&&(S=S[0]);const V=S==null?void 0:S.error;if(V&&V.status&&V.message){const N=function(K){const G=K.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN}(V.status);f(new de(N,V.message))}else f(new de(J.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new de(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:u,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{ce(qt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ce(qt,`RPC '${e}' ${u} sending request:`,o),m.send(t,"POST",_,s,15)})}T_(e,t,s){const o=Df(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=F1(),d=O1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,s),f.encodeInitMessageHeaders=!0;const _=l.join("");ce(qt,`Creating RPC '${e}' stream ${o}: ${_}`,f);const w=u.createWebChannel(_,f);let T=!1,S=!1;const V=new xR({Zo:L=>{S?ce(qt,`Not sending because RPC '${e}' stream ${o} is closed:`,L):(T||(ce(qt,`Opening RPC '${e}' stream ${o} transport.`),w.open(),T=!0),ce(qt,`RPC '${e}' stream ${o} sending:`,L),w.send(L))},Xo:()=>w.close()}),N=(L,K,G)=>{L.listen(K,$=>{try{G($)}catch(Q){setTimeout(()=>{throw Q},0)}})};return N(w,Wa.EventType.OPEN,()=>{S||(ce(qt,`RPC '${e}' stream ${o} transport opened.`),V.__())}),N(w,Wa.EventType.CLOSE,()=>{S||(S=!0,ce(qt,`RPC '${e}' stream ${o} transport closed`),V.u_())}),N(w,Wa.EventType.ERROR,L=>{S||(S=!0,Vo(qt,`RPC '${e}' stream ${o} transport errored. Name:`,L.name,"Message:",L.message),V.u_(new de(J.UNAVAILABLE,"The operation could not be completed")))}),N(w,Wa.EventType.MESSAGE,L=>{var K;if(!S){const G=L.data[0];qe(!!G,16349);const $=G,Q=($==null?void 0:$.error)||((K=$[0])===null||K===void 0?void 0:K.error);if(Q){ce(qt,`RPC '${e}' stream ${o} received error:`,Q);const ue=Q.status;let oe=function(C){const b=vt[C];if(b!==void 0)return ww(b)}(ue),P=Q.message;oe===void 0&&(oe=J.INTERNAL,P="Unknown error status: "+ue+" with message "+Q.message),S=!0,V.u_(new de(oe,P)),w.close()}else ce(qt,`RPC '${e}' stream ${o} received:`,G),V.c_(G)}}),N(d,L1.STAT_EVENT,L=>{L.stat===xf.PROXY?ce(qt,`RPC '${e}' stream ${o} detected buffering proxy`):L.stat===xf.NOPROXY&&ce(qt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}}function Xd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(n){return new Ik(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,s=1e3,o=1.5,l=6e4){this.xi=e,this.timerId=t,this.I_=s,this.E_=o,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),s=Math.max(0,Date.now()-this.V_),o=Math.max(0,t-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="PersistentStream";class jw{constructor(e,t,s,o,l,u,d,f){this.xi=e,this.y_=s,this.w_=o,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new Dw(e,t)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.S_===t&&this.K_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.W_(o)})})}K_(e,t){const s=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.W_(o))}),this.stream.onMessage(o=>{s(()=>++this.v_==1?this.z_(o):this.onNext(o))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return ce(vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget(()=>this.S_===e?t():(ce(vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ER extends jw{constructor(e,t,s,o,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=kk(this.serializer,e),s=function(l){if(!("targetChange"in l))return Se.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?mr(u.readTime):Se.min()}(e);return this.listener.j_(t,s)}H_(e){const t={};t.database=bf(this.serializer),t.addTarget=function(l,u){let d;const f=u.target;if(d=If(f)?{documents:bk(l,f)}:{query:Vk(l,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=Ew(l,u.resumeToken);const m=kf(l,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(Se.min())>0){d.readTime=kc(l,u.snapshotVersion.toTimestamp());const m=kf(l,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const s=jk(this.serializer,e);s&&(t.labels=s),this.L_(t)}J_(e){const t={};t.database=bf(this.serializer),t.removeTarget=e,this.L_(t)}}class SR extends jw{constructor(e,t,s,o,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,u),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return qe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){qe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=Nk(e.writeResults,e.commitTime),s=mr(e.commitTime);return this.listener.ea(s,t)}ta(){const e={};e.database=bf(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Rk(this.serializer,s))};this.L_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{}class IR extends AR{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.na=!1}ra(){if(this.na)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,s,o){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,Rf(t,s),o,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new de(J.UNKNOWN,l.toString())})}Yo(e,t,s,o,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Yo(e,Rf(t,s),o,u,d,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class CR{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(Ur(t),this.oa=!1):ce("OnlineStateTracker",t)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="RemoteStore";class PR{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(u=>{s.enqueueAndForget(async()=>{Pi(this)&&(ce(wi,"Restarting streams for network reachability change."),await async function(f){const m=Ae(f);m.Ta.add(4),await Pl(m),m.da.set("Unknown"),m.Ta.delete(4),await Jc(m)}(this))})}),this.da=new CR(s,o)}}async function Jc(n){if(Pi(n))for(const e of n.Ia)await e(!0)}async function Pl(n){for(const e of n.Ia)await e(!1)}function Mw(n,e){const t=Ae(n);t.Pa.has(e.targetId)||(t.Pa.set(e.targetId,e),bp(t)?Np(t):Wo(t).M_()&&Rp(t,e))}function kp(n,e){const t=Ae(n),s=Wo(t);t.Pa.delete(e),s.M_()&&Lw(t,e),t.Pa.size===0&&(s.M_()?s.N_():Pi(t)&&t.da.set("Unknown"))}function Rp(n,e){if(n.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Wo(n).H_(e)}function Lw(n,e){n.Aa.Ke(e),Wo(n).J_(e)}function Np(n){n.Aa=new Tk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Pa.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Wo(n).start(),n.da._a()}function bp(n){return Pi(n)&&!Wo(n).F_()&&n.Pa.size>0}function Pi(n){return Ae(n).Ta.size===0}function Ow(n){n.Aa=void 0}async function kR(n){n.da.set("Online")}async function RR(n){n.Pa.forEach((e,t)=>{Rp(n,e)})}async function NR(n,e){Ow(n),bp(n)?(n.da.ca(e),Np(n)):n.da.set("Unknown")}async function bR(n,e,t){if(n.da.set("Online"),e instanceof Tw&&e.state===2&&e.cause)try{await async function(o,l){const u=l.cause;for(const d of l.targetIds)o.Pa.has(d)&&(await o.remoteSyncer.rejectListen(d,u),o.Pa.delete(d),o.Aa.removeTarget(d))}(n,e)}catch(s){ce(wi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nc(n,s)}else if(e instanceof uc?n.Aa.Xe(e):e instanceof xw?n.Aa.ot(e):n.Aa.nt(e),!t.isEqual(Se.min()))try{const s=await Vw(n.localStore);t.compareTo(s)>=0&&await function(l,u){const d=l.Aa.It(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const _=l.Pa.get(m);_&&l.Pa.set(m,_.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const _=l.Pa.get(f);if(!_)return;l.Pa.set(f,_.withResumeToken(Ut.EMPTY_BYTE_STRING,_.snapshotVersion)),Lw(l,f);const w=new gs(_.target,f,m,_.sequenceNumber);Rp(l,w)}),l.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(s){ce(wi,"Failed to raise snapshot:",s),await Nc(n,s)}}async function Nc(n,e,t){if(!Ho(e))throw e;n.Ta.add(1),await Pl(n),n.da.set("Offline"),t||(t=()=>Vw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ce(wi,"Retrying IndexedDB access"),await t(),n.Ta.delete(1),await Jc(n)})}function Fw(n,e){return e().catch(t=>Nc(n,t,e))}async function Zc(n){const e=Ae(n),t=Rs(e);let s=e.ha.length>0?e.ha[e.ha.length-1].batchId:mp;for(;VR(e);)try{const o=await pR(e.localStore,s);if(o===null){e.ha.length===0&&t.N_();break}s=o.batchId,DR(e,o)}catch(o){await Nc(e,o)}Uw(e)&&Bw(e)}function VR(n){return Pi(n)&&n.ha.length<10}function DR(n,e){n.ha.push(e);const t=Rs(n);t.M_()&&t.Y_&&t.Z_(e.mutations)}function Uw(n){return Pi(n)&&!Rs(n).F_()&&n.ha.length>0}function Bw(n){Rs(n).start()}async function jR(n){Rs(n).ta()}async function MR(n){const e=Rs(n);for(const t of n.ha)e.Z_(t.mutations)}async function LR(n,e,t){const s=n.ha.shift(),o=Tp.from(s,e,t);await Fw(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Zc(n)}async function OR(n,e){e&&Rs(n).Y_&&await async function(s,o){if(function(u){return wk(u)&&u!==J.ABORTED}(o.code)){const l=s.ha.shift();Rs(s).O_(),await Fw(s,()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Zc(s)}}(n,e),Uw(n)&&Bw(n)}async function _v(n,e){const t=Ae(n);t.asyncQueue.verifyOperationInProgress(),ce(wi,"RemoteStore received new credentials");const s=Pi(t);t.Ta.add(3),await Pl(t),s&&t.da.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ta.delete(3),await Jc(t)}async function FR(n,e){const t=Ae(n);e?(t.Ta.delete(2),await Jc(t)):e||(t.Ta.add(2),await Pl(t),t.da.set("Unknown"))}function Wo(n){return n.Ra||(n.Ra=function(t,s,o){const l=Ae(t);return l.ra(),new ER(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{e_:kR.bind(null,n),n_:RR.bind(null,n),i_:NR.bind(null,n),j_:bR.bind(null,n)}),n.Ia.push(async e=>{e?(n.Ra.O_(),bp(n)?Np(n):n.da.set("Unknown")):(await n.Ra.stop(),Ow(n))})),n.Ra}function Rs(n){return n.Va||(n.Va=function(t,s,o){const l=Ae(t);return l.ra(),new SR(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:jR.bind(null,n),i_:OR.bind(null,n),X_:MR.bind(null,n),ea:LR.bind(null,n)}),n.Ia.push(async e=>{e?(n.Va.O_(),await Zc(n)):(await n.Va.stop(),n.ha.length>0&&(ce(wi,`Stopping write stream with ${n.ha.length} pending writes`),n.ha=[]))})),n.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const u=Date.now()+s,d=new Vp(e,t,u,o,l);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dp(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Ho(n))return new de(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{static emptySet(e){return new ko(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Ga(),this.sortedSet=new lt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new ko;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(){this.ma=new lt(ve.comparator)}track(e){const t=e.doc.key,s=this.ma.get(t);s?e.type!==0&&s.type===3?this.ma=this.ma.insert(t,e):e.type===3&&s.type!==1?this.ma=this.ma.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ma=this.ma.remove(t):e.type===1&&s.type===2?this.ma=this.ma.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):Te(63341,{Vt:e,fa:s}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal((t,s)=>{e.push(s)}),e}}class Oo{constructor(e,t,s,o,l,u,d,f,m){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,t,s,o,l){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new Oo(e,t,ko.emptySet(t),u,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class BR{constructor(){this.queries=xv(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(t,s){const o=Ae(t),l=o.queries;o.queries=xv(),l.forEach((u,d)=>{for(const f of d.ya)f.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function xv(){return new Ii(n=>aw(n),Wc)}async function zw(n,e){const t=Ae(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.wa()&&e.Sa()&&(s=2):(l=new UR,s=e.Sa()?0:1);try{switch(s){case 0:l.pa=await t.onListen(o,!0);break;case 1:l.pa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(u){const d=Dp(u,`Initialization of query '${To(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ya.push(e),e.Da(t.onlineState),l.pa&&e.va(l.pa)&&jp(t)}async function $w(n,e){const t=Ae(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const u=l.ya.indexOf(e);u>=0&&(l.ya.splice(u,1),l.ya.length===0?o=e.Sa()?0:1:!l.wa()&&e.Sa()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function zR(n,e){const t=Ae(n);let s=!1;for(const o of e){const l=o.query,u=t.queries.get(l);if(u){for(const d of u.ya)d.va(o)&&(s=!0);u.pa=o}}s&&jp(t)}function $R(n,e,t){const s=Ae(n),o=s.queries.get(e);if(o)for(const l of o.ya)l.onError(t);s.queries.delete(e)}function jp(n){n.ba.forEach(e=>{e.next()})}var jf,Tv;(Tv=jf||(jf={})).Ca="default",Tv.Cache="cache";class Hw{constructor(e,t,s){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=s||{}}va(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Oo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache||!this.Sa())return!0;const s=t!=="Offline";return(!this.options.La||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ba(e){e=Oo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==jf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.key=e}}class Ww{constructor(e){this.key=e}}class HR{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=Ve(),this.mutatedKeys=Ve(),this.Ha=lw(e),this.Ja=new ko(this.Ha)}get Ya(){return this.Ga}Za(e,t){const s=t?t.Xa:new wv,o=t?t.Ja:this.Ja;let l=t?t.mutatedKeys:this.mutatedKeys,u=o,d=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,m=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,w)=>{const T=o.get(_),S=Gc(this.query,w)?w:null,V=!!T&&this.mutatedKeys.has(T.key),N=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let L=!1;T&&S?T.data.isEqual(S.data)?V!==N&&(s.track({type:3,doc:S}),L=!0):this.eu(T,S)||(s.track({type:2,doc:S}),L=!0,(f&&this.Ha(S,f)>0||m&&this.Ha(S,m)<0)&&(d=!0)):!T&&S?(s.track({type:0,doc:S}),L=!0):T&&!S&&(s.track({type:1,doc:T}),L=!0,(f||m)&&(d=!0)),L&&(S?(u=u.add(S),l=N?l.add(_):l.delete(_)):(u=u.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const _=this.query.limitType==="F"?u.last():u.first();u=u.delete(_.key),l=l.delete(_.key),s.track({type:1,doc:_})}return{Ja:u,Xa:s,Cs:d,mutatedKeys:l}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((_,w)=>function(S,V){const N=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:L})}};return N(S)-N(V)}(_.type,w.type)||this.Ha(_.doc,w.doc)),this.tu(s),o=o!=null&&o;const d=t&&!o?this.nu():[],f=this.ja.size===0&&this.current&&!o?1:0,m=f!==this.za;return this.za=f,u.length!==0||m?{snapshot:new Oo(this.query,e.Ja,l,u,e.mutatedKeys,f===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),ru:d}:{ru:d}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(t=>this.Ga=this.Ga.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ga=this.Ga.delete(t)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=Ve(),this.Ja.forEach(s=>{this.iu(s.key)&&(this.ja=this.ja.add(s.key))});const t=[];return e.forEach(s=>{this.ja.has(s)||t.push(new Ww(s))}),this.ja.forEach(s=>{e.has(s)||t.push(new qw(s))}),t}su(e){this.Ga=e.$s,this.ja=Ve();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return Oo.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const Mp="SyncEngine";class qR{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class WR{constructor(e){this.key=e,this._u=!1}}class GR{constructor(e,t,s,o,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Ii(d=>aw(d),Wc),this.cu=new Map,this.lu=new Set,this.hu=new lt(ve.comparator),this.Pu=new Map,this.Tu=new Ap,this.Iu={},this.Eu=new Map,this.du=Lo.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function KR(n,e,t=!0){const s=Jw(n);let o;const l=s.uu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.ou()):o=await Gw(s,e,t,!0),o}async function QR(n,e){const t=Jw(n);await Gw(t,e,!0,!1)}async function Gw(n,e,t,s){const o=await mR(n.localStore,pr(e)),l=o.targetId,u=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await YR(n,e,l,u==="current",o.resumeToken)),n.isPrimaryClient&&t&&Mw(n.remoteStore,o),d}async function YR(n,e,t,s,o){n.Ru=(w,T,S)=>async function(N,L,K,G){let $=L.view.Za(K);$.Cs&&($=await pv(N.localStore,L.query,!1).then(({documents:P})=>L.view.Za(P,$)));const Q=G&&G.targetChanges.get(L.targetId),ue=G&&G.targetMismatches.get(L.targetId)!=null,oe=L.view.applyChanges($,N.isPrimaryClient,Q,ue);return Sv(N,L.targetId,oe.ru),oe.snapshot}(n,w,T,S);const l=await pv(n.localStore,e,!0),u=new HR(e,l.$s),d=u.Za(l.documents),f=Cl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),m=u.applyChanges(d,n.isPrimaryClient,f);Sv(n,t,m.ru);const _=new qR(e,t,u);return n.uu.set(e,_),n.cu.has(t)?n.cu.get(t).push(e):n.cu.set(t,[e]),m.snapshot}async function XR(n,e,t){const s=Ae(n),o=s.uu.get(e),l=s.cu.get(o.targetId);if(l.length>1)return s.cu.set(o.targetId,l.filter(u=>!Wc(u,e))),void s.uu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vf(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&kp(s.remoteStore,o.targetId),Mf(s,o.targetId)}).catch($o)):(Mf(s,o.targetId),await Vf(s.localStore,o.targetId,!0))}async function JR(n,e){const t=Ae(n),s=t.uu.get(e),o=t.cu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),kp(t.remoteStore,s.targetId))}async function ZR(n,e,t){const s=oN(n);try{const o=await function(u,d){const f=Ae(u),m=It.now(),_=d.reduce((S,V)=>S.add(V.key),Ve());let w,T;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let V=Br(),N=Ve();return f.Bs.getEntries(S,_).next(L=>{V=L,V.forEach((K,G)=>{G.isValidDocument()||(N=N.add(K))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,V)).next(L=>{w=L;const K=[];for(const G of d){const $=mk(G,w.get(G.key).overlayedDocument);$!=null&&K.push(new Ci(G.key,$,Z1($.value.mapValue),Lr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,m,K,d)}).next(L=>{T=L;const K=L.applyToLocalDocumentSet(w,N);return f.documentOverlayCache.saveOverlays(S,L.batchId,K)})}).then(()=>({batchId:T.batchId,changes:cw(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(u,d,f){let m=u.Iu[u.currentUser.toKey()];m||(m=new lt(ke)),m=m.insert(d,f),u.Iu[u.currentUser.toKey()]=m}(s,o.batchId,t),await kl(s,o.changes),await Zc(s.remoteStore)}catch(o){const l=Dp(o,"Failed to persist write");t.reject(l)}}async function Kw(n,e){const t=Ae(n);try{const s=await dR(t.localStore,e);e.targetChanges.forEach((o,l)=>{const u=t.Pu.get(l);u&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?u._u=!0:o.modifiedDocuments.size>0?qe(u._u,14607):o.removedDocuments.size>0&&(qe(u._u,42227),u._u=!1))}),await kl(t,s,e)}catch(s){await $o(s)}}function Ev(n,e,t){const s=Ae(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.uu.forEach((l,u)=>{const d=u.view.Da(e);d.snapshot&&o.push(d.snapshot)}),function(u,d){const f=Ae(u);f.onlineState=d;let m=!1;f.queries.forEach((_,w)=>{for(const T of w.ya)T.Da(d)&&(m=!0)}),m&&jp(f)}(s.eventManager,e),o.length&&s.au.j_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function eN(n,e,t){const s=Ae(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Pu.get(e),l=o&&o.key;if(l){let u=new lt(ve.comparator);u=u.insert(l,Kt.newNoDocument(l,Se.min()));const d=Ve().add(l),f=new Yc(Se.min(),new Map,new lt(ke),u,d);await Kw(s,f),s.hu=s.hu.remove(l),s.Pu.delete(e),Lp(s)}else await Vf(s.localStore,e,!1).then(()=>Mf(s,e,t)).catch($o)}async function tN(n,e){const t=Ae(n),s=e.batch.batchId;try{const o=await hR(t.localStore,e);Yw(t,s,null),Qw(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await kl(t,o)}catch(o){await $o(o)}}async function nN(n,e,t){const s=Ae(n);try{const o=await function(u,d){const f=Ae(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return f.mutationQueue.lookupMutationBatch(m,d).next(w=>(qe(w!==null,37113),_=w.keys(),f.mutationQueue.removeMutationBatch(m,w))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>f.localDocuments.getDocuments(m,_))})}(s.localStore,e);Yw(s,e,t),Qw(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await kl(s,o)}catch(o){await $o(o)}}function Qw(n,e){(n.Eu.get(e)||[]).forEach(t=>{t.resolve()}),n.Eu.delete(e)}function Yw(n,e,t){const s=Ae(n);let o=s.Iu[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Iu[s.currentUser.toKey()]=o}}function Mf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.cu.get(e))n.uu.delete(s),t&&n.au.Vu(s,t);n.cu.delete(e),n.isPrimaryClient&&n.Tu.Hr(e).forEach(s=>{n.Tu.containsKey(s)||Xw(n,s)})}function Xw(n,e){n.lu.delete(e.path.canonicalString());const t=n.hu.get(e);t!==null&&(kp(n.remoteStore,t),n.hu=n.hu.remove(e),n.Pu.delete(t),Lp(n))}function Sv(n,e,t){for(const s of t)s instanceof qw?(n.Tu.addReference(s.key,e),rN(n,s)):s instanceof Ww?(ce(Mp,"Document no longer in limbo: "+s.key),n.Tu.removeReference(s.key,e),n.Tu.containsKey(s.key)||Xw(n,s.key)):Te(19791,{mu:s})}function rN(n,e){const t=e.key,s=t.path.canonicalString();n.hu.get(t)||n.lu.has(s)||(ce(Mp,"New document in limbo: "+t),n.lu.add(s),Lp(n))}function Lp(n){for(;n.lu.size>0&&n.hu.size<n.maxConcurrentLimboResolutions;){const e=n.lu.values().next().value;n.lu.delete(e);const t=new ve(Ze.fromString(e)),s=n.du.next();n.Pu.set(s,new WR(t)),n.hu=n.hu.insert(t,s),Mw(n.remoteStore,new gs(pr(wp(t.path)),s,"TargetPurposeLimboResolution",$c.le))}}async function kl(n,e,t){const s=Ae(n),o=[],l=[],u=[];s.uu.isEmpty()||(s.uu.forEach((d,f)=>{u.push(s.Ru(f,e,t).then(m=>{var _;if((m||t)&&s.isPrimaryClient){const w=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(m){o.push(m);const w=Cp.Rs(f.targetId,m);l.push(w)}}))}),await Promise.all(u),s.au.j_(o),await async function(f,m){const _=Ae(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>X.forEach(m,T=>X.forEach(T.ds,S=>_.persistence.referenceDelegate.addReference(w,T.targetId,S)).next(()=>X.forEach(T.As,S=>_.persistence.referenceDelegate.removeReference(w,T.targetId,S)))))}catch(w){if(!Ho(w))throw w;ce(Pp,"Failed to update sequence numbers: "+w)}for(const w of m){const T=w.targetId;if(!w.fromCache){const S=_.xs.get(T),V=S.snapshotVersion,N=S.withLastLimboFreeSnapshotVersion(V);_.xs=_.xs.insert(T,N)}}}(s.localStore,l))}async function sN(n,e){const t=Ae(n);if(!t.currentUser.isEqual(e)){ce(Mp,"User change. New user:",e.toKey());const s=await bw(t.localStore,e);t.currentUser=e,function(l,u){l.Eu.forEach(d=>{d.forEach(f=>{f.reject(new de(J.CANCELLED,u))})}),l.Eu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await kl(t,s.ks)}}function iN(n,e){const t=Ae(n),s=t.Pu.get(e);if(s&&s._u)return Ve().add(s.key);{let o=Ve();const l=t.cu.get(e);if(!l)return o;for(const u of l){const d=t.uu.get(u);o=o.unionWith(d.view.Ya)}return o}}function Jw(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Kw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eN.bind(null,e),e.au.j_=zR.bind(null,e.eventManager),e.au.Vu=$R.bind(null,e.eventManager),e}function oN(n){const e=Ae(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nN.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return cR(this.persistence,new aR,e.initialUser,this.serializer)}yu(e){return new Nw(Ip.fi,this.serializer)}pu(e){return new yR}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class aN extends bc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){qe(this.persistence.referenceDelegate instanceof Rc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Wk(s,e.asyncQueue,t)}yu(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new Nw(s=>Rc.fi(s,t),this.serializer)}}class Lf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ev(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=sN.bind(null,this.syncEngine),await FR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new BR}()}createDatastore(e){const t=Xc(e.databaseInfo.databaseId),s=function(l){return new TR(l)}(e.databaseInfo);return function(l,u,d,f){return new IR(l,u,d,f)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,l,u,d){return new PR(s,o,l,u,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Ev(this.syncEngine,t,0),function(){return yv.C()?new yv:new vR}())}createSyncEngine(e,t){return function(o,l,u,d,f,m,_){const w=new GR(o,l,u,d,f,m);return _&&(w.Au=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=Ae(o);ce(wi,"RemoteStore shutting down."),l.Ta.add(5),await Pl(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lf.provider={build:()=>new Lf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):Ur("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="FirestoreClient";class lN{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Gt.UNAUTHENTICATED,this.clientId=$1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,async u=>{ce(Ns,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(s,u=>(ce(Ns,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Dp(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Jd(n,e){n.asyncQueue.verifyOperationInProgress(),ce(Ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener(async o=>{s.isEqual(o)||(await bw(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Av(n,e){n.asyncQueue.verifyOperationInProgress();const t=await uN(n);ce(Ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(s=>_v(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,o)=>_v(e.remoteStore,o)),n._onlineComponents=e}async function uN(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ce(Ns,"Using user provided OfflineComponentProvider");try{await Jd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Vo("Error using user provided cache. Falling back to memory cache: "+t),await Jd(n,new bc)}}else ce(Ns,"Using default OfflineComponentProvider"),await Jd(n,new aN(void 0));return n._offlineComponents}async function ex(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ce(Ns,"Using user provided OnlineComponentProvider"),await Av(n,n._uninitializedComponentsProvider._online)):(ce(Ns,"Using default OnlineComponentProvider"),await Av(n,new Lf))),n._onlineComponents}function cN(n){return ex(n).then(e=>e.syncEngine)}async function Of(n){const e=await ex(n),t=e.eventManager;return t.onListen=KR.bind(null,e.syncEngine),t.onUnlisten=XR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=JR.bind(null,e.syncEngine),t}function hN(n,e,t={}){const s=new Ts;return n.asyncQueue.enqueueAndForget(async()=>function(l,u,d,f,m){const _=new Zw({next:T=>{_.Cu(),u.enqueueAndForget(()=>$w(l,w)),T.fromCache&&f.source==="server"?m.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),w=new Hw(d,_,{includeMetadataChanges:!0,La:!0});return zw(l,w)}(await Of(n),n.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(n,e,t){if(!t)throw new de(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function dN(n,e,t,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Cv(n){if(!ve.isDocumentKey(n))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Pv(n){if(ve.isDocumentKey(n))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function eh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Te(12329,{type:typeof n})}function yi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eh(n);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rx="firestore.googleapis.com",kv=!0;class Rv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rx,this.ssl=kv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:kv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Rw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hk)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}dN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tx((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wP;switch(s.type){case"firstParty":return new SP(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=Iv.get(t);s&&(ce("ComponentProvider","Removing Datastore"),Iv.delete(t),s.terminate())}(this),Promise.resolve()}}function fN(n,e,t,s={}){var o;n=yi(n,th);const l=Al(e),u=n._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;l&&(w1(`https://${f}`),T1("Firestore",!0)),u.host!==rx&&u.host!==f&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:l,emulatorOptions:s});if(!Tc(m,d)&&(n._setSettings(m),s.mockUserToken)){let _,w;if(typeof s.mockUserToken=="string")_=s.mockUserToken,w=Gt.MOCK_USER;else{_=x1(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Gt(T)}n._authCredentials=new xP(new B1(_,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vs(this.firestore,e,this._query)}}class xn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Es(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}}class Es extends Vs{constructor(e,t,s){super(e,t,wp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new ve(e))}withConverter(e){return new Es(this.firestore,e,this._path)}}function Fo(n,e,...t){if(n=Jn(n),nx("collection","path",e),n instanceof th){const s=Ze.fromString(e,...t);return Pv(s),new Es(n,null,s)}{if(!(n instanceof xn||n instanceof Es))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ze.fromString(e,...t));return Pv(s),new Es(n.firestore,null,s)}}function pN(n,e,...t){if(n=Jn(n),arguments.length===1&&(e=$1.newId()),nx("doc","path",e),n instanceof th){const s=Ze.fromString(e,...t);return Cv(s),new xn(n,null,new ve(s))}{if(!(n instanceof xn||n instanceof Es))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(Ze.fromString(e,...t));return Cv(s),new xn(n.firestore,n instanceof Es?n.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="AsyncQueue";class bv{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new Dw(this,"async_queue_retry"),this.ec=()=>{const s=Xd();s&&ce(Nv,"Visibility state changed to "+s.visibilityState),this.C_.p_()},this.tc=e;const t=Xd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=Xd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const t=new Ts;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Ho(e))throw e;ce(Nv,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const t=this.tc.then(()=>(this.Yu=!0,e().catch(s=>{throw this.Ju=s,this.Yu=!1,Ur("INTERNAL UNHANDLED ERROR: ",Vv(s)),s}).then(s=>(this.Yu=!1,s))));return this.tc=t,t}enqueueAfterDelay(e,t,s){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const o=Vp.createAndSchedule(this,e,t,s,l=>this.oc(l));return this.Hu.push(o),o}nc(){this.Ju&&Te(47125,{_c:Vv(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Hu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function Vv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dv(n){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1}(n,["next","error","complete"])}class wl extends th{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new bv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bv(e),this._firestoreClient=void 0,await e}}}function mN(n,e){const t=typeof n=="object"?n:N1(),s=typeof n=="string"?n:Ac,o=C1(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=v1("firestore");l&&fN(o,...l)}return o}function Op(n){if(n._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||gN(n),n._firestoreClient}function gN(n){var e,t,s;const o=n._freezeSettings(),l=function(d,f,m,_){return new FP(d,f,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,tx(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new lN(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Uo(Ut.fromBase64String(e))}catch(t){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Uo(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^__.*__$/;class vN{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ci(e,this.data,this.fieldMask,t,this.fieldTransforms):new Il(e,this.data,t,this.fieldTransforms)}}function sx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{hc:n})}}class $p{constructor(e,t,s,o,l,u){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new $p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Tc({path:s,Ec:!1});return o.dc(e),o}Ac(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Tc({path:s,Ec:!1});return o.Pc(),o}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Vc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(sx(this.hc)&&yN.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class _N{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Xc(e)}gc(e,t,s,o=!1){return new $p({hc:e,methodName:t,fc:s,path:Ft.emptyPath(),Ec:!1,mc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ix(n){const e=n._freezeSettings(),t=Xc(n._databaseId);return new _N(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wN(n,e,t,s,o,l={}){const u=n.gc(l.merge||l.mergeFields?2:0,e,t,o);lx("Data must be an object, but it was:",u,s);const d=ox(s,u);let f,m;if(l.merge)f=new Xn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const _=[];for(const w of l.mergeFields){const T=TN(e,w,t);if(!u.contains(T))throw new de(J.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);SN(_,T)||_.push(T)}f=new Xn(_),m=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,m=u.fieldTransforms;return new vN(new jn(d),f,m)}class Hp extends Up{_toFieldTransform(e){return new hk(e.path,new yl)}isEqual(e){return e instanceof Hp}}function xN(n,e,t,s=!1){return qp(t,n.gc(s?4:3,e))}function qp(n,e){if(ax(n=Jn(n)))return lx("Unsupported field value:",e,n),ox(n,e);if(n instanceof Up)return function(s,o){if(!sx(o.hc))throw o.Vc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Vc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(s,o){const l=[];let u=0;for(const d of s){let f=qp(d,o.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),l.push(f),u++}return{arrayValue:{values:l}}}(n,e)}return function(s,o){if((s=Jn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return lk(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=It.fromDate(s);return{timestampValue:kc(o.serializer,l)}}if(s instanceof It){const l=new It(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kc(o.serializer,l)}}if(s instanceof Bp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Uo)return{bytesValue:Ew(o.serializer,s._byteString)};if(s instanceof xn){const l=o.databaseId,u=s.firestore._databaseId;if(!u.isEqual(l))throw o.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Sp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof zp)return function(u,d){return{mapValue:{fields:{[X1]:{stringValue:J1},[Ic]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Vc("VectorValues must only contain numeric values.");return xp(d.serializer,m)})}}}}}}(s,o);throw o.Vc(`Unsupported field value: ${eh(s)}`)}(n,e)}function ox(n,e){const t={};return q1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ai(n,(s,o)=>{const l=qp(o,e.Ic(s));l!=null&&(t[s]=l)}),{mapValue:{fields:t}}}function ax(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof It||n instanceof Bp||n instanceof Uo||n instanceof xn||n instanceof Up||n instanceof zp)}function lx(n,e,t){if(!ax(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=eh(t);throw s==="an object"?e.Vc(n+" a custom object"):e.Vc(n+" "+s)}}function TN(n,e,t){if((e=Jn(e))instanceof Fp)return e._internalPath;if(typeof e=="string")return ux(n,e);throw Vc("Field path arguments must be of type string or ",n,!1,void 0,t)}const EN=new RegExp("[~\\*/\\[\\]]");function ux(n,e,t){if(e.search(EN)>=0)throw Vc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Fp(...e.split("."))._internalPath}catch{throw Vc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Vc(n,e,t,s,o){const l=s&&!s.isEmpty(),u=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(l||u)&&(f+=" (found",l&&(f+=` in field ${s}`),u&&(f+=` in document ${o}`),f+=")"),new de(J.INVALID_ARGUMENT,d+n+f)}function SN(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Wp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class AN extends cx{data(){return super.data()}}function Wp(n,e){return typeof e=="string"?ux(n,e):e instanceof Fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gp{}class dx extends Gp{}function Kp(n,e,...t){let s=[];e instanceof Gp&&s.push(e),s=s.concat(t),function(l){const u=l.filter(f=>f instanceof Yp).length,d=l.filter(f=>f instanceof Qp).length;if(u>1||u>0&&d>0)throw new de(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)n=o._apply(n);return n}class Qp extends dx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Qp(e,t,s)}_apply(e){const t=this._parse(e);return fx(e._query,t),new Vs(e.firestore,e.converter,Cf(e._query,t))}_parse(e){const t=ix(e.firestore);return function(l,u,d,f,m,_,w){let T;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new de(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){Mv(w,_);const V=[];for(const N of w)V.push(jv(f,l,N));T={arrayValue:{values:V}}}else T=jv(f,l,w)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||Mv(w,_),T=xN(d,u,w,_==="in"||_==="not-in");return wt.create(m,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Yp extends Gp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Yp(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:Zn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,l){let u=o;const d=l.getFlattenedFilters();for(const f of d)fx(u,f),u=Cf(u,f)}(e._query,t),new Vs(e.firestore,e.converter,Cf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Xp extends dx{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Xp(e,t)}_apply(e){const t=function(o,l,u){if(o.startAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new de(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gl(l,u)}(e._query,this._field,this._direction);return new Vs(e.firestore,e.converter,function(o,l){const u=o.explicitOrderBy.concat([l]);return new qo(o.path,o.collectionGroup,u,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function Jp(n,e="asc"){const t=e,s=Wp("orderBy",n);return Xp._create(s,t)}function jv(n,e,t){if(typeof(t=Jn(t))=="string"){if(t==="")throw new de(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ow(e)&&t.indexOf("/")!==-1)throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(Ze.fromString(t));if(!ve.isDocumentKey(s))throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Q0(n,new ve(s))}if(t instanceof xn)return Q0(n,t._key);throw new de(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(t)}.`)}function Mv(n,e){if(!Array.isArray(n)||n.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function fx(n,e){const t=function(o,l){for(const u of o)for(const d of u.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new de(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class IN{convertValue(e,t="none"){switch(ks(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ps(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ai(e,(o,l)=>{s[o]=this.convertValue(l,t)}),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(u=>pt(u.doubleValue));return new zp(l)}convertGeoPoint(e){return new Bp(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=qc(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(fl(e));default:return null}}convertTimestamp(e){const t=Cs(e);return new It(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=Ze.fromString(e);qe(kw(s),9688,{name:e});const o=new pl(s.get(1),s.get(3)),l=new ve(s.popFirst(5));return o.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(n,e,t){let s;return s=n?n.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class px extends cx{constructor(e,t,s,o,l,u){super(e,t,s,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Wp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class cc extends px{data(e={}){return super.data(e)}}class mx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Qa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new cc(this._firestore,this._userDataWriter,s.key,s,new Qa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(d=>{const f=new cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Qa(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const f=new cc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new Qa(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let m=-1,_=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),_=u.indexOf(d.doc.key)),{type:PN(d.type),doc:f,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function PN(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:n})}}class Zp extends IN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Uo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function kN(n){n=yi(n,Vs);const e=yi(n.firestore,wl),t=Op(e),s=new Zp(e);return hx(n._query),hN(t,n._query).then(o=>new mx(e,s,n,o))}function em(n,e){const t=yi(n.firestore,wl),s=pN(n),o=CN(n.converter,e);return RN(t,[wN(ix(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Lr.exists(!1))]).then(()=>s)}function gx(n,...e){var t,s,o;n=Jn(n);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Dv(e[u])||(l=e[u],u++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Dv(e[u])){const w=e[u];e[u]=(t=w.next)===null||t===void 0?void 0:t.bind(w),e[u+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[u+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let f,m,_;if(n instanceof xn)m=yi(n.firestore,wl),_=wp(n._key.path),f={next:w=>{e[u]&&e[u](NN(m,n,w))},error:e[u+1],complete:e[u+2]};else{const w=yi(n,Vs);m=yi(w.firestore,wl),_=w._query;const T=new Zp(m);f={next:S=>{e[u]&&e[u](new mx(m,T,w,S))},error:e[u+1],complete:e[u+2]},hx(n._query)}return function(T,S,V,N){const L=new Zw(N),K=new Hw(S,L,V);return T.asyncQueue.enqueueAndForget(async()=>zw(await Of(T),K)),()=>{L.Cu(),T.asyncQueue.enqueueAndForget(async()=>$w(await Of(T),K))}}(Op(m),_,d,f)}function RN(n,e){return function(s,o){const l=new Ts;return s.asyncQueue.enqueueAndForget(async()=>ZR(await cN(s),o,l)),l.promise}(Op(n),e)}function NN(n,e,t){const s=t.docs.get(e._key),o=new Zp(n);return new px(n,o,e._key,s,new Qa(t.hasPendingWrites,t.fromCache),e.converter)}function yx(){return new Hp("serverTimestamp")}(function(e,t=!0){(function(o){zo=o})(k1),cl(new bo("firestore",(s,{instanceIdentifier:o,options:l})=>{const u=s.getProvider("app").getImmediate(),d=new wl(new TP(s.getProvider("auth-internal")),new AP(u,s.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pl(m.options.projectId,_)}(u,o),u);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),ws(L0,O0,e),ws(L0,O0,"esm2017")})();const bN=()=>{const[n,e]=q.useState([]),[t,s]=q.useState({name:"",message:""}),[o,l]=q.useState(!1);q.useEffect(()=>{const d=Kp(Fo(Bo,"wishes"),Jp("timestamp","desc")),f=gx(d,m=>{const _=m.docs.map(w=>{var S;const T=w.data();return{id:w.id,name:T.name,message:T.message,timestamp:((S=T.timestamp)==null?void 0:S.toDate())??new Date}});e(_)});return()=>f()},[]);const u=q.useCallback(d=>{d.preventDefault(),t.name.trim()&&t.message.trim()&&(em(Fo(Bo,"wishes"),{name:t.name.trim(),message:t.message.trim(),timestamp:yx()}),s({name:"",message:""}),l(!1))},[t]);return v.jsx("section",{className:"py-16 bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsxs(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[v.jsx("h2",{className:"text-4xl font-serif text-purple-800 mb-4",children:"Birthday Wishes for Sarah"}),v.jsx("p",{className:"text-gray-600 mb-8",children:"Leave a special message for Sarah's birthday!"}),v.jsxs(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(!o),className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white px-8 py-3 rounded-full font-medium shadow-lg hover:shadow-xl transition-shadow",children:[v.jsx(ot,{className:"w-5 h-5 inline mr-2"}),"Add Your Wish"]})]}),v.jsx(tn,{children:o&&v.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-12",children:v.jsxs("form",{onSubmit:u,className:"max-w-md mx-auto bg-white p-6 rounded-xl shadow-lg",children:[v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Your Name"}),v.jsx("input",{type:"text",value:t.name,onChange:d=>s({...t,name:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-pink-500",placeholder:"Enter your name",required:!0})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Birthday Message"}),v.jsx("textarea",{value:t.message,onChange:d=>s({...t,message:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-pink-500 h-24 resize-none",placeholder:"Write your birthday wish for Sarah...",required:!0})]}),v.jsxs("div",{className:"flex gap-3",children:[v.jsxs("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-pink-500 to-purple-500 text-white py-2 rounded-lg font-medium hover:shadow-lg transition-shadow",children:[v.jsx(h1,{className:"w-4 h-4 inline mr-2"}),"Send Wish"]}),v.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"})]})]})})}),n.length>0?v.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:n.map(d=>v.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-400 rounded-full flex items-center justify-center",children:v.jsx(f1,{className:"w-5 h-5 text-white"})}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-800",children:d.name}),v.jsx("p",{className:"text-xs text-gray-500",children:d.timestamp.toLocaleDateString()})]})]}),v.jsxs("p",{className:"text-gray-600 italic",children:['"',d.message,'"']})]},d.id))}):!o&&v.jsxs("div",{className:"text-center text-gray-500",children:[v.jsx(ot,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),v.jsx("p",{children:"No wishes yet. Be the first to leave a birthday message!"})]})]})})},VN=[{id:1,name:"Where We Met",description:"I remember the we had a conversation on TikTok about a trend.",date:"2023-07-26",coordinates:{x:25,y:35},image:"/locations/coffee-shop.jpg"},{id:2,name:"First Date",description:"That little Italian restaurant where we talked until closing time.",date:"2020-01-22",coordinates:{x:45,y:55},image:"/locations/restaurant.jpg"},{id:3,name:"Weekend Getaway",description:"Our first weekend trip together - the beach house of memories.",date:"2020-03-14",coordinates:{x:75,y:25},image:"/locations/beach.jpg"},{id:4,name:"Concert Night",description:"Dancing under the stars at that outdoor concert.",date:"2020-07-20",coordinates:{x:60,y:75},image:"/locations/concert.jpg"},{id:5,name:"Home Sweet Home",description:"The apartment we made our own little paradise.",date:"2021-02-01",coordinates:{x:40,y:40},image:"/locations/home.jpg"}],DN=()=>{const[n,e]=q.useState(null),[t,s]=q.useState(null);return v.jsx("section",{className:"py-16 bg-white rounded-2xl shadow-lg",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsx(re.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-serif text-center mb-4 text-purple-800",children:"Our Journey Together"}),v.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Click on the pins to explore the places that hold our memories"}),v.jsx("div",{className:"relative max-w-4xl mx-auto",children:v.jsxs("div",{className:"relative w-full h-96 bg-gradient-to-br from-green-100 via-blue-50 to-purple-100 rounded-2xl overflow-hidden shadow-inner",children:[v.jsxs("div",{className:"absolute inset-0 opacity-20",children:[v.jsx("div",{className:"absolute top-10 left-10 w-20 h-20 bg-blue-200 rounded-full"}),v.jsx("div",{className:"absolute top-20 right-20 w-16 h-16 bg-green-200 rounded-full"}),v.jsx("div",{className:"absolute bottom-20 left-1/3 w-12 h-12 bg-yellow-200 rounded-full"}),v.jsx("div",{className:"absolute bottom-10 right-10 w-24 h-8 bg-brown-200 rounded-lg"})]}),VN.map((o,l)=>v.jsx(re.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:l*.2,type:"spring",stiffness:300},className:"absolute transform -translate-x-1/2 -translate-y-full cursor-pointer",style:{left:`${o.coordinates.x}%`,top:`${o.coordinates.y}%`},onClick:()=>e(o),onMouseEnter:()=>s(o.id),onMouseLeave:()=>s(null),children:v.jsxs(re.div,{whileHover:{scale:1.2},whileTap:{scale:.9},className:`relative ${t===o.id?"z-20":"z-10"}`,children:[v.jsx(ul,{className:`w-8 h-8 transition-colors duration-200 ${t===o.id?"text-pink-500":"text-purple-500"}`,fill:"currentColor"}),v.jsx(tn,{children:t===o.id&&v.jsxs(re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 bg-white px-3 py-2 rounded-lg shadow-lg border whitespace-nowrap",children:[v.jsx("div",{className:"text-sm font-semibold text-gray-800",children:o.name}),v.jsx("div",{className:"text-xs text-gray-500",children:new Date(o.date).toLocaleDateString()}),v.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-white"})]})})]})},o.id))]})}),v.jsx(tn,{children:n&&v.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>e(null),children:v.jsxs(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl p-8 max-w-md w-full relative",onClick:o=>o.stopPropagation(),children:[v.jsx("button",{onClick:()=>e(null),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:v.jsx(m1,{className:"w-6 h-6"})}),v.jsxs("div",{className:"text-center",children:[v.jsx(ul,{className:"w-12 h-12 text-purple-500 mx-auto mb-4"}),v.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-800 mb-2",children:n.name}),v.jsxs("div",{className:"flex items-center justify-center gap-2 text-purple-600 mb-4",children:[v.jsx(up,{className:"w-4 h-4"}),v.jsx("span",{children:new Date(n.date).toLocaleDateString()})]}),v.jsx("p",{className:"text-gray-600 leading-relaxed",children:n.description})]})]})})})]})})},jN=()=>{const[n,e]=q.useState({days:0,hours:0,minutes:0,seconds:0}),[t,s]=q.useState(!1),o=()=>{const l=new Date,u=l.getFullYear();let d=new Date(u,4,27);return d<l&&(d=new Date(u+1,4,27)),d};return q.useEffect(()=>{const l=()=>{const d=new Date,m=o().getTime()-d.getTime();if(m>0){const _=Math.floor(m/864e5),w=Math.floor(m%(1e3*60*60*24)/(1e3*60*60)),T=Math.floor(m%(1e3*60*60)/(1e3*60)),S=Math.floor(m%(1e3*60)/1e3);e({days:_,hours:w,minutes:T,seconds:S}),s(!1)}else{const _=new Date,w=new Date(_.getFullYear(),4,27);s(_.toDateString()===w.toDateString())}};l();const u=setInterval(l,1e3);return()=>clearInterval(u)},[]),t?v.jsx("section",{className:"py-16 bg-gradient-to-r from-pink-400 to-purple-600 text-white rounded-2xl",children:v.jsx("div",{className:"container mx-auto px-6 text-center",children:v.jsxs(re.div,{initial:{opacity:0,scale:.4},animate:{opacity:1,scale:1},transition:{duration:.4},children:[v.jsx(_c,{className:"w-16 h-16 mx-auto mb-4"}),v.jsx("h2",{className:"text-4xl font-serif font-bold mb-4",children:"🎉 It's Sarah's Birthday! 🎉"}),v.jsx("p",{className:"text-xl opacity-90",children:"Today is the special day! Happy Birthday, Sarah!"})]})})}):v.jsx("section",{className:"py-16 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl",children:v.jsxs("div",{className:"container mx-auto px-6 text-center",children:[v.jsxs(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[v.jsx(d1,{className:"w-12 h-12 mx-auto mb-4"}),v.jsx("h2",{className:"text-4xl font-serif font-bold mb-2",children:"Countdown to Sarah's Birthday"}),v.jsx("p",{className:"text-xl opacity-90",children:"The most wonderful day of the year is coming!"})]}),v.jsx("div",{className:"grid grid-cols-4 gap-4 max-w-md mx-auto",children:[{value:n.days,label:"Days"},{value:n.hours,label:"Hours"},{value:n.minutes,label:"Minutes"},{value:n.seconds,label:"Seconds"}].map((l,u)=>v.jsxs(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:u*.1},className:"bg-white bg-opacity-20 backdrop-blur-lg rounded-xl p-4",children:[v.jsx(re.div,{initial:{scale:.8},animate:{scale:1},transition:{type:"spring",stiffness:300},className:"text-3xl font-bold mb-1",children:l.value.toString().padStart(2,"0")},l.value),v.jsx("div",{className:"text-sm opacity-80",children:l.label})]},l.label))}),v.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"mt-8",children:[v.jsx(up,{className:"w-6 h-6 inline mr-2"}),v.jsxs("span",{className:"text-lg",children:["Next Birthday: ",o().toLocaleDateString()]})]})]})})},MN=[{id:1,title:"Good Morning Message",description:"A special morning message just for you",videoUrl:"/Sarah/Sarah-3.MOV",date:"2024-01-15"},{id:2,title:"Our Adventure Compilation",description:"A compilation of our best adventures together",videoUrl:"/videos/adventure-compilation.mp4",date:"2024-02-14"},{id:3,title:"Why I Love You",description:"All the reasons why you're amazing",videoUrl:"/videos/why-i-love-you.mp4",date:"2024-03-10"},{id:4,title:"Birthday Surprise",description:"A special birthday surprise message",videoUrl:"/videos/birthday-surprise.mp4",date:"2024-06-15"}],LN=n=>{const e=Math.floor(n/60),t=Math.floor(n%60);return`${e}:${t<10?"0":""}${t}`},ON=()=>{const[n,e]=q.useState(null),[t,s]=q.useState({}),[o,l]=q.useState(!1),[u,d]=q.useState(!1),f=q.useRef(null),m=N=>{e(N),l(!1)},_=()=>{e(null),l(!1)},w=()=>{const N=f.current;N&&(o?N.pause():N.play(),l(!o))},T=()=>{const N=f.current;N&&(N.muted=!u,d(!u))},S=()=>{const N=f.current;N&&(N.requestFullscreen?N.requestFullscreen():N.webkitRequestFullscreen?N.webkitRequestFullscreen():N.mozRequestFullScreen?N.mozRequestFullScreen():N.msRequestFullscreen&&N.msRequestFullscreen())},V=(N,L)=>{s(K=>({...K,[N]:LN(L)}))};return v.jsx("section",{className:"py-16 bg-gradient-to-r from-purple-50 to-pink-50 rounded-2xl",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsx(re.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-serif text-center mb-4 text-purple-800",children:"Video Messages for You"}),v.jsx("p",{className:"text-center text-gray-600 mb-12",children:"Special moments captured just for you"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:MN.map((N,L)=>v.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:L*.1},className:"group cursor-pointer",onClick:()=>m(N),children:v.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-md hover:shadow-xl transition-shadow duration-300",children:[v.jsx("video",{src:N.videoUrl,preload:"metadata",className:"rounded-lg w-full h-48 object-cover mb-2",muted:!0,onLoadedMetadata:K=>V(N.id,K.currentTarget.duration)}),v.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[v.jsx(wc,{className:"text-purple-600 w-5 h-5"}),v.jsx("h3",{className:"font-semibold text-gray-800 text-sm line-clamp-1",children:N.title})]}),v.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:N.description}),v.jsxs("div",{className:"text-xs text-gray-500 flex justify-between mt-1",children:[v.jsx("span",{children:t[N.id]||"..."}),v.jsx("span",{children:new Date(N.date).toLocaleDateString()})]})]})},N.id))}),v.jsx(tn,{children:n&&v.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:_,children:v.jsx(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"relative max-w-4xl w-full",onClick:N=>N.stopPropagation(),children:v.jsxs("div",{className:"bg-white rounded-2xl overflow-hidden",children:[v.jsxs("div",{className:"relative",children:[v.jsx("video",{ref:f,src:n.videoUrl,className:"w-full h-96 object-contain bg-black",controls:!1,onPlay:()=>l(!0),onPause:()=>l(!1)}),v.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4",children:v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:w,className:"text-white hover:text-gray-300 transition-colors",children:o?v.jsx(cp,{className:"w-8 h-8"}):v.jsx(wc,{className:"w-8 h-8"})}),v.jsx("button",{onClick:T,className:"text-white hover:text-gray-300 transition-colors",children:u?v.jsx(p1,{className:"w-6 h-6"}):v.jsx(hp,{className:"w-6 h-6"})}),v.jsx("div",{className:"flex-1"}),v.jsx("button",{onClick:S,className:"text-white hover:text-gray-300 transition-colors",children:v.jsx(AI,{className:"w-6 h-6"})})]})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[v.jsx(ot,{className:"w-6 h-6 text-pink-500"}),v.jsx("h3",{className:"text-2xl font-serif font-bold text-gray-800",children:n.title})]}),v.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),v.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[v.jsxs("span",{children:["Duration: ",t[n.id]]}),v.jsx("span",{children:new Date(n.date).toLocaleDateString()})]})]})]})})})})]})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx="firebasestorage.googleapis.com",_x="storageBucket",FN=2*60*1e3,UN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht extends Si{constructor(e,t,s=0){super(Zd(e),`Firebase Storage: ${t} (${Zd(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ht.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zd(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Zd(n){return"storage/"+n}function tm(){const n="An unknown error occurred, please check the error payload for server response.";return new ht(ct.UNKNOWN,n)}function BN(n){return new ht(ct.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function zN(n){return new ht(ct.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function $N(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ht(ct.UNAUTHENTICATED,n)}function HN(){return new ht(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function qN(n){return new ht(ct.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function WN(){return new ht(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function GN(){return new ht(ct.CANCELED,"User canceled the upload/download.")}function KN(n){return new ht(ct.INVALID_URL,"Invalid URL '"+n+"'.")}function QN(n){return new ht(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function YN(){return new ht(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_x+"' property when initializing the app?")}function XN(){return new ht(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JN(){return new ht(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZN(n){return new ht(ct.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Ff(n){return new ht(ct.INVALID_ARGUMENT,n)}function wx(){return new ht(ct.APP_DELETED,"The Firebase app was deleted.")}function eb(n){return new ht(ct.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function il(n,e){return new ht(ct.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Ha(n){throw new ht(ct.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=wn.makeFromUrl(e,t)}catch{return new wn(e,"")}if(s.path==="")return s;throw QN(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function l(Q){Q.path.charAt(Q.path.length-1)==="/"&&(Q.path_=Q.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function m(Q){Q.path_=decodeURIComponent(Q.path)}const _="v[A-Za-z0-9_]+",w=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${_}/b/${o}/o${T}`,"i"),V={bucket:1,path:3},N=t===vx?"(?:storage.googleapis.com|storage.cloud.google.com)":t,L="([^?#]*)",K=new RegExp(`^https?://${N}/${o}/${L}`,"i"),$=[{regex:d,indices:f,postModify:l},{regex:S,indices:V,postModify:m},{regex:K,indices:{bucket:1,path:2},postModify:m}];for(let Q=0;Q<$.length;Q++){const ue=$[Q],oe=ue.regex.exec(e);if(oe){const P=oe[ue.indices.bucket];let I=oe[ue.indices.path];I||(I=""),s=new wn(P,I),ue.postModify(s);break}}if(s==null)throw KN(e);return s}}class tb{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nb(n,e,t){let s=1,o=null,l=null,u=!1,d=0;function f(){return d===2}let m=!1;function _(...L){m||(m=!0,e.apply(null,L))}function w(L){o=setTimeout(()=>{o=null,n(S,f())},L)}function T(){l&&clearTimeout(l)}function S(L,...K){if(m){T();return}if(L){T(),_.call(null,L,...K);return}if(f()||u){T(),_.call(null,L,...K);return}s<64&&(s*=2);let $;d===1?(d=2,$=0):$=(s+Math.random())*1e3,w($)}let V=!1;function N(L){V||(V=!0,T(),!m&&(o!==null?(L||(d=2),clearTimeout(o),w(0)):L||(d=1)))}return w(0),l=setTimeout(()=>{u=!0,N(!0)},t),N}function rb(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(n){return n!==void 0}function ib(n){return typeof n=="object"&&!Array.isArray(n)}function nm(n){return typeof n=="string"||n instanceof String}function Lv(n){return rm()&&n instanceof Blob}function rm(){return typeof Blob<"u"}function Ov(n,e,t,s){if(s<e)throw Ff(`Invalid value for '${n}'. Expected ${e} or greater.`);if(s>t)throw Ff(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(n,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${n}`}function xx(n){const e=encodeURIComponent;let t="?";for(const s in n)if(n.hasOwnProperty(s)){const o=e(s)+"="+e(n[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var vi;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(vi||(vi={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,l=e.indexOf(n)!==-1;return t||o||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t,s,o,l,u,d,f,m,_,w,T=!0,S=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=_,this.connectionFactory_=w,this.retry=T,this.isUsingEmulator=S,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((V,N)=>{this.resolve_=V,this.reject_=N,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new tc(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const d=l.getErrorCode()===vi.NO_ERROR,f=l.getStatus();if(!d||ob(f,this.additionalRetryCodes_)&&this.retry){const _=l.getErrorCode()===vi.ABORT;s(!1,new tc(!1,null,_));return}const m=this.successCodes_.indexOf(f)!==-1;s(!0,new tc(m,l))})},t=(s,o)=>{const l=this.resolve_,u=this.reject_,d=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());sb(f)?l(f):l()}catch(f){u(f)}else if(d!==null){const f=tm();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(o.canceled){const f=this.appDelete_?wx():GN();u(f)}else{const f=WN();u(f)}};this.canceled_?t(!1,new tc(!1,null,!0)):this.backoffId_=nb(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&rb(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class tc{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function lb(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function ub(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function cb(n,e){e&&(n["X-Firebase-GMPID"]=e)}function hb(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function db(n,e,t,s,o,l,u=!0,d=!1){const f=xx(n.urlParams),m=n.url+f,_=Object.assign({},n.headers);return cb(_,e),lb(_,t),ub(_,l),hb(_,s),new ab(m,n.method,_,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function pb(...n){const e=fb();if(e!==void 0){const t=new e;for(let s=0;s<n.length;s++)t.append(n[s]);return t.getBlob()}else{if(rm())return new Blob(n);throw new ht(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function mb(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(n){if(typeof atob>"u")throw ZN("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ef{constructor(e,t){this.data=e,this.contentType=t||null}}function yb(n,e){switch(n){case dr.RAW:return new ef(Tx(e));case dr.BASE64:case dr.BASE64URL:return new ef(Ex(n,e));case dr.DATA_URL:return new ef(_b(e),wb(e))}throw tm()}function Tx(n){const e=[];for(let t=0;t<n.length;t++){let s=n.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=s,u=n.charCodeAt(++t);s=65536|(l&1023)<<10|u&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function vb(n){let e;try{e=decodeURIComponent(n)}catch{throw il(dr.DATA_URL,"Malformed data URL.")}return Tx(e)}function Ex(n,e){switch(n){case dr.BASE64:{const o=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(o||l)throw il(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case dr.BASE64URL:{const o=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(o||l)throw il(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=gb(e)}catch(o){throw o.message.includes("polyfill")?o:il(n,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Sx{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw il(dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=xb(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function _b(n){const e=new Sx(n);return e.base64?Ex(dr.BASE64,e.rest):vb(e.rest)}function wb(n){return new Sx(n).contentType}function xb(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e,t){let s=0,o="";Lv(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lv(this.data_)){const s=this.data_,o=mb(s,e,t);return o===null?null:new ms(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new ms(s,!0)}}static getBlob(...e){if(rm()){const t=e.map(s=>s instanceof ms?s.data_:s);return new ms(pb.apply(null,t))}else{const t=e.map(u=>nm(u)?yb(dr.RAW,u).data:u.data_);let s=0;t.forEach(u=>{s+=u.byteLength});const o=new Uint8Array(s);let l=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)o[l++]=u[d]}),new ms(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(n){let e;try{e=JSON.parse(n)}catch{return null}return ib(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function Eb(n,e){const t=e.split("/").filter(s=>s.length>0).join("/");return n.length===0?t:n+"/"+t}function Ix(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(n,e){return e}class Zt{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||Sb}}let nc=null;function Ab(n){return!nm(n)||n.length<2?n:Ix(n)}function Cx(){if(nc)return nc;const n=[];n.push(new Zt("bucket")),n.push(new Zt("generation")),n.push(new Zt("metageneration")),n.push(new Zt("name","fullPath",!0));function e(l,u){return Ab(u)}const t=new Zt("name");t.xform=e,n.push(t);function s(l,u){return u!==void 0?Number(u):u}const o=new Zt("size");return o.xform=s,n.push(o),n.push(new Zt("timeCreated")),n.push(new Zt("updated")),n.push(new Zt("md5Hash",null,!0)),n.push(new Zt("cacheControl",null,!0)),n.push(new Zt("contentDisposition",null,!0)),n.push(new Zt("contentEncoding",null,!0)),n.push(new Zt("contentLanguage",null,!0)),n.push(new Zt("contentType",null,!0)),n.push(new Zt("metadata","customMetadata",!0)),nc=n,nc}function Ib(n,e){function t(){const s=n.bucket,o=n.fullPath,l=new wn(s,o);return e._makeStorageReference(l)}Object.defineProperty(n,"ref",{get:t})}function Cb(n,e,t){const s={};s.type="file";const o=t.length;for(let l=0;l<o;l++){const u=t[l];s[u.local]=u.xform(s,e[u.server])}return Ib(s,n),s}function Px(n,e,t){const s=Ax(e);return s===null?null:Cb(n,s,t)}function Pb(n,e,t,s){const o=Ax(e);if(o===null||!nm(o.downloadTokens))return null;const l=o.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(m=>{const _=n.bucket,w=n.fullPath,T="/b/"+u(_)+"/o/"+u(w),S=sm(T,t,s),V=xx({alt:"media",token:m});return S+V})[0]}function kb(n,e){const t={},s=e.length;for(let o=0;o<s;o++){const l=e[o];l.writable&&(t[l.server]=n[l.local])}return JSON.stringify(t)}class kx{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(n){if(!n)throw tm()}function Rb(n,e){function t(s,o){const l=Px(n,o,e);return Rx(l!==null),l}return t}function Nb(n,e){function t(s,o){const l=Px(n,o,e);return Rx(l!==null),Pb(l,o,n.host,n._protocol)}return t}function Nx(n){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=HN():o=$N():t.getStatus()===402?o=zN(n.bucket):t.getStatus()===403?o=qN(n.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function bb(n){const e=Nx(n);function t(s,o){let l=e(s,o);return s.getStatus()===404&&(l=BN(n.path)),l.serverResponse=o.serverResponse,l}return t}function Vb(n,e,t){const s=e.fullServerUrl(),o=sm(s,n.host,n._protocol),l="GET",u=n.maxOperationRetryTime,d=new kx(o,l,Nb(n,t),u);return d.errorHandler=bb(e),d}function Db(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function jb(n,e,t){const s=Object.assign({},t);return s.fullPath=n.path,s.size=e.size(),s.contentType||(s.contentType=Db(null,e)),s}function Mb(n,e,t,s,o){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let Q=0;Q<2;Q++)$=$+Math.random().toString().slice(2);return $}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=jb(e,s,o),_=kb(m,t),w="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,T=`\r
--`+f+"--",S=ms.getBlob(w,s,T);if(S===null)throw XN();const V={name:m.fullPath},N=sm(l,n.host,n._protocol),L="POST",K=n.maxUploadRetryTime,G=new kx(N,L,Rb(n,t),K);return G.urlParams=V,G.headers=u,G.body=S.uploadData(),G.errorHandler=Nx(e),G}class Lb{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vi.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vi.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vi.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,l){if(this.sent_)throw Ha("cannot .send() more than once");if(Al(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),l!==void 0)for(const u in l)l.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,l[u].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ha("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ha("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ha("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ha("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Ob extends Lb{initXhr(){this.xhr_.responseType="text"}}function bx(){return new Ob}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(e,t){this._service=e,t instanceof wn?this._location=t:this._location=wn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new xi(e,t)}get root(){const e=new wn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ix(this._location.path)}get storage(){return this._service}get parent(){const e=Tb(this._location.path);if(e===null)return null;const t=new wn(this._location.bucket,e);return new xi(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw eb(e)}}function Fb(n,e,t){n._throwIfRoot("uploadBytes");const s=Mb(n.storage,n._location,Cx(),new ms(e,!0),t);return n.storage.makeRequestWithTokens(s,bx).then(o=>({metadata:o,ref:n}))}function Ub(n){n._throwIfRoot("getDownloadURL");const e=Vb(n.storage,n._location,Cx());return n.storage.makeRequestWithTokens(e,bx).then(t=>{if(t===null)throw JN();return t})}function Bb(n,e){const t=Eb(n._location.path,e),s=new wn(n._location.bucket,t);return new xi(n.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(n){return/^[A-Za-z]+:\/\//.test(n)}function $b(n,e){return new xi(n,e)}function Vx(n,e){if(n instanceof im){const t=n;if(t._bucket==null)throw YN();const s=new xi(t,t._bucket);return e!=null?Vx(s,e):s}else return e!==void 0?Bb(n,e):n}function Hb(n,e){if(e&&zb(e)){if(n instanceof im)return $b(n,e);throw Ff("To use ref(service, url), the first argument must be a Storage instance.")}else return Vx(n,e)}function Fv(n,e){const t=e==null?void 0:e[_x];return t==null?null:wn.makeFromBucketSpec(t,n)}function qb(n,e,t,s={}){n.host=`${e}:${t}`;const o=Al(e);o&&(w1(`https://${n.host}`),T1("Storage",!0)),n._isUsingEmulator=!0,n._protocol=o?"https":"http";const{mockUserToken:l}=s;l&&(n._overrideAuthToken=typeof l=="string"?l:x1(l,n.app.options.projectId))}class im{constructor(e,t,s,o,l,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=vx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=FN,this._maxUploadRetryTime=UN,this._requests=new Set,o!=null?this._bucket=wn.makeFromBucketSpec(o,this._host):this._bucket=Fv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=wn.makeFromBucketSpec(this._url,e):this._bucket=Fv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Ov("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(P1(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xi(this,e)}_makeRequest(e,t,s,o,l=!0){if(this._deleted)return new tb(wx());{const u=db(e,this._appId,s,o,t,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const Uv="@firebase/storage",Bv="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="storage";function Wb(n,e,t){return n=Jn(n),Fb(n,e,t)}function Gb(n){return n=Jn(n),Ub(n)}function Kb(n,e){return n=Jn(n),Hb(n,e)}function Qb(n=N1(),e){n=Jn(n);const s=C1(n,Dx).getImmediate({identifier:e}),o=v1("storage");return o&&Yb(s,...o),s}function Yb(n,e,t,s={}){qb(n,e,t,s)}function Xb(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),s=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new im(t,s,o,e,k1)}function Jb(){cl(new bo(Dx,Xb,"PUBLIC").setMultipleInstances(!0)),ws(Uv,Bv,""),ws(Uv,Bv,"esm2017")}Jb();const Zb=()=>{const[n,e]=q.useState([]),[t,s]=q.useState(null),[o,l]=q.useState({}),u=q.useRef({}),[d,f]=q.useState(null),[m,_]=q.useState(""),[w,T]=q.useState(""),[S,V]=q.useState(""),[N,L]=q.useState(!1);q.useEffect(()=>{K()},[]);const K=async()=>{const P=Kp(Fo(Bo,"voiceNotes"),Jp("date","desc")),I=await kN(P),C=[];I.forEach(b=>{C.push({id:b.id,...b.data()})}),e(C)},G=async P=>{const I=u.current[P.id];if(!I)return;const C=I.duration,b=eV(C);try{const j=await tV(P.audioUrl);e(F=>F.map(R=>R.id===P.id?{...R,duration:b,waveform:j}:R))}catch(j){console.error("Waveform extraction failed:",j)}},$=P=>{var C;const I=u.current[P.id];I&&(t===P.id?(I.pause(),s(null)):(t!==null&&((C=u.current[t])==null||C.pause()),I.play(),s(P.id)))},Q=P=>{const I=u.current[P.id];if(!I)return;const C=I.currentTime/I.duration*100;l(b=>({...b,[P.id]:C}))},ue=P=>{s(null),l(I=>({...I,[P.id]:0}))},oe=async P=>{if(P.preventDefault(),!d||!m||!w){alert("Please fill all required fields and select a file.");return}L(!0);try{const I=Kb(pV,`voiceNotes/${d.name}-${Date.now()}`);await Wb(I,d);const C=await Gb(I);await em(Fo(Bo,"voiceNotes"),{title:w,description:S,audioUrl:C,date:new Date().toISOString(),uploader:m}),await K(),f(null),_(""),T(""),V("")}catch(I){console.error("Upload failed:",I),alert("Upload failed. Check console for details.")}finally{L(!1)}};return v.jsx("section",{className:"py-16 bg-white rounded-2xl shadow-lg",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsx(re.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-serif text-center mb-4 text-purple-800",children:"Voice Messages for You"}),v.jsx("p",{className:"text-center text-gray-600 mb-12",children:"My voice, just for your ears"}),v.jsxs("form",{onSubmit:oe,className:"max-w-lg mx-auto mb-12 p-6 bg-gray-50 rounded-xl shadow",children:[v.jsx("h3",{className:"mb-4 font-semibold text-lg text-gray-700",children:"Upload New Voice Note"}),v.jsx("input",{type:"text",placeholder:"Uploader Name",value:m,onChange:P=>_(P.target.value),required:!0,className:"w-full mb-3 p-2 border rounded"}),v.jsx("input",{type:"text",placeholder:"Title",value:w,onChange:P=>T(P.target.value),required:!0,className:"w-full mb-3 p-2 border rounded"}),v.jsx("textarea",{placeholder:"Description",value:S,onChange:P=>V(P.target.value),className:"w-full mb-3 p-2 border rounded"}),v.jsx("input",{type:"file",accept:"audio/*",onChange:P=>{var I;return f(((I=P.target.files)==null?void 0:I[0])||null)},required:!0,className:"mb-4"}),v.jsx("button",{type:"submit",disabled:N,className:"bg-purple-600 text-white px-4 py-2 rounded hover:bg-purple-700 disabled:opacity-50",children:N?"Uploading...":"Upload"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto",children:n.map((P,I)=>v.jsxs(re.div,{initial:{opacity:0,x:I%2===0?-20:20},animate:{opacity:1,x:0},transition:{delay:I*.1},className:"bg-gradient-to-r from-pink-50 to-purple-50 p-6 rounded-xl shadow-md hover:shadow-lg transition-shadow",children:[v.jsx("audio",{ref:C=>{C&&(u.current[P.id]=C)},src:P.audioUrl,preload:"metadata",onLoadedMetadata:()=>G(P),onTimeUpdate:()=>Q(P),onEnded:()=>ue(P)}),v.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[v.jsx(re.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$(P),className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white p-3 rounded-full shadow-lg",children:t===P.id?v.jsx(cp,{className:"w-6 h-6"}):v.jsx(wc,{className:"w-6 h-6"})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("h3",{className:"font-semibold text-gray-800 mb-1",children:P.title}),v.jsx("p",{className:"text-sm text-gray-600",children:P.description}),v.jsxs("p",{className:"text-xs text-gray-500 italic mt-1",children:["Uploaded by: ",P.uploader]})]}),v.jsxs("div",{className:"text-right",children:[v.jsx("div",{className:"text-sm text-gray-500 mb-1",children:P.duration||"Loading..."}),v.jsx("div",{className:"text-xs text-gray-400",children:new Date(P.date).toLocaleDateString()})]})]}),v.jsx("div",{className:"flex items-center gap-1 mb-4 h-8",children:(P.waveform||new Array(16).fill(.2)).map((C,b)=>v.jsx(re.div,{className:`w-1 rounded-full ${t===P.id&&(o[P.id]||0)>b/16*100?"bg-gradient-to-t from-pink-500 to-purple-500":"bg-gray-300"}`,style:{height:`${C*100}%`},animate:{scaleY:t===P.id?[1,1.2,1]:1},transition:{repeat:t===P.id?1/0:0,duration:.8,delay:b*.05}},b))}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1 mb-2",children:v.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-1 rounded-full transition-all duration-100",style:{width:`${o[P.id]||0}%`}})}),v.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[v.jsxs("div",{className:"flex items-center gap-1",children:[v.jsx(hp,{className:"w-3 h-3"}),v.jsx("span",{children:"Voice Message"})]}),v.jsx(ot,{className:"w-4 h-4 text-pink-500"})]})]},P.id))})]})})};function eV(n){const e=Math.floor(n/60),t=Math.floor(n%60);return`${e}:${t<10?"0":""}${t}`}async function tV(n,e=16){const s=await(await fetch(n)).arrayBuffer(),u=(await new AudioContext().decodeAudioData(s)).getChannelData(0),d=Math.floor(u.length/e),f=[];for(let _=0;_<e;_++){const w=_*d,S=u.slice(w,w+d).reduce((V,N)=>V+Math.abs(N),0);f.push(S/d)}const m=Math.max(...f);return f.map(_=>_/m)}const nV=[{id:1,category:"Drink",title:"Morning Drink",description:"Your perfect cappuccino with extra foam",image:"/Sarah/img/photo_5_2025-05-24_00-29-17.jpg",icon:v.jsx(_I,{className:"w-6 h-6"}),color:"from-amber-400 to-orange-500",reason:"The way you close your eyes and smile with that first sip every morning"},{id:2,category:"Hobby",title:"Reading",description:"Lost in fantasy novels and poetry",image:"/Sarah/img/photo_1_2025-05-24_00-29-17.jpg",icon:v.jsx(fI,{className:"w-6 h-6"}),color:"from-blue-400 to-indigo-500",reason:"I love watching you get completely absorbed in your books"},{id:3,category:"Music",title:"Indie Folk",description:"Acoustic melodies and heartfelt lyrics",image:"/Sarah/img/photo_1_2025-05-24_00-38-10.jpg",icon:v.jsx(mf,{className:"w-6 h-6"}),color:"from-purple-400 to-pink-500",reason:"Your taste in music always introduces me to beautiful new songs"},{id:4,category:"Activity",title:"Photography",description:"Capturing moments and beautiful landscapes",image:"/Sarah/img/photo_8_2025-05-20_17-15-33.jpg",icon:v.jsx(c1,{className:"w-6 h-6"}),color:"from-green-400 to-teal-500",reason:"You see beauty in everything through your camera lens"},{id:5,category:"Art",title:"Watercolor Painting",description:"Creating dreamy, flowing artwork",image:"/Sarah/img/photo_2_2025-05-24_00-38-10.jpg",icon:v.jsx(CI,{className:"w-6 h-6"}),color:"from-pink-400 to-rose-500",reason:"Your paintings are as beautiful and gentle as your soul"},{id:6,category:"Nature",title:"Sunflowers",description:"Bright, cheerful, and always facing the sun",image:"/Sarah/img/photo_4_2025-05-24_00-29-17.jpg",icon:v.jsx(TI,{className:"w-6 h-6"}),color:"from-yellow-400 to-orange-400",reason:"They remind me of you - always bright and bringing joy to everyone"},{id:7,category:"Food",title:"Fun meal Games",description:"Made from scratch with love",image:"/Sarah/img/photo_2_2025-05-24_00-29-17.jpg",icon:v.jsx(ot,{className:"w-6 h-6"}),color:"from-red-400 to-pink-400",reason:"Every time you cook, you put so much love into it"},{id:8,category:"Time",title:"Stargazing",description:"Quiet nights under the infinite sky",image:"/Sarah/img/photo_6_2025-05-24_00-29-17.jpg",icon:v.jsx(RI,{className:"w-6 h-6"}),color:"from-indigo-400 to-purple-500",reason:"Those peaceful moments when it's just us and the universe"}],rV=()=>{const[n,e]=q.useState(null),[t,s]=q.useState(null);return v.jsx("section",{className:"py-16 bg-gradient-to-br from-pink-50 to-purple-50 rounded-2xl",children:v.jsxs("div",{className:"container mx-auto px-6",children:[v.jsx(re.h2,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-serif text-center mb-4 text-purple-800",children:"Sarah's Favorite Things"}),v.jsx("p",{className:"text-center text-gray-600 mb-12",children:"All the little things that make you uniquely wonderful"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:nV.map((o,l)=>v.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},className:"group cursor-pointer",onClick:()=>e(o),onMouseEnter:()=>s(o.id),onMouseLeave:()=>s(null),children:v.jsxs("div",{className:"relative overflow-hidden rounded-2xl shadow-lg group-hover:shadow-2xl transition-all duration-300 bg-white",children:[v.jsxs("div",{className:"relative h-48",children:[v.jsx("img",{src:o.image,alt:o.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),v.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${o.color} opacity-20 group-hover:opacity-30 transition-opacity duration-300`}),v.jsx("div",{className:"absolute top-4 right-4",children:v.jsx("div",{className:`bg-gradient-to-r ${o.color} text-white p-2 rounded-full shadow-lg`,children:o.icon})}),v.jsx("div",{className:"absolute bottom-4 left-4",children:v.jsx("span",{className:"bg-white bg-opacity-90 text-gray-800 px-3 py-1 rounded-full text-xs font-semibold",children:o.category})})]}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"font-serif font-semibold text-lg text-gray-800 mb-2",children:o.title}),v.jsx("p",{className:"text-gray-600 text-sm",children:o.description})]}),v.jsx(tn,{children:t===o.id&&v.jsx(re.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 pointer-events-none",children:v.jsx(ot,{className:"w-12 h-12 text-white fill-pink-500 drop-shadow-lg"})})})]})},o.id))}),v.jsx(tn,{children:n&&v.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:()=>e(null),children:v.jsxs(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white rounded-2xl overflow-hidden max-w-md w-full",onClick:o=>o.stopPropagation(),children:[v.jsxs("div",{className:"relative h-64",children:[v.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover"}),v.jsx("div",{className:`absolute inset-0 bg-gradient-to-t ${n.color} opacity-30`}),v.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[v.jsx("div",{className:`bg-gradient-to-r ${n.color} text-white p-3 rounded-full w-fit mb-3`,children:n.icon}),v.jsx("h3",{className:"text-white text-2xl font-serif font-bold mb-1",children:n.title}),v.jsx("span",{className:"bg-white bg-opacity-20 text-white px-3 py-1 rounded-full text-sm",children:n.category})]})]}),v.jsxs("div",{className:"p-6",children:[v.jsx("p",{className:"text-gray-600 mb-4",children:n.description}),v.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 p-4 rounded-lg",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[v.jsx(ot,{className:"w-4 h-4 text-pink-500"}),v.jsx("span",{className:"font-semibold text-gray-800",children:"Why I love this about you:"})]}),v.jsx("p",{className:"text-gray-700 italic",children:n.reason})]})]})]})})})]})})},sV=()=>{const[n,e]=q.useState(0),[t,s]=q.useState(null),[o,l]=q.useState(!1),[u,d]=q.useState(0),[f,m]=q.useState(!1),[_,w]=q.useState([]),T=[{id:1,question:"What's Sarah's favorite Bible verse?",options:["Jeremiah 29:11","Philippians 4:13","Psalm 23:1","Proverbs 31:25"],correct:0,explanation:"Sarah loves Jeremiah 29:11 - 'For I know the plans I have for you...'"},{id:2,question:"What makes Sarah happiest?",options:["Shopping trips","Quiet moments in prayer","Adventure and new experiences","Cozy nights at home"],correct:1,explanation:"Sarah finds her greatest joy in quiet moments with God 🙏"},{id:3,question:"Sarah's biggest strength is her:",options:["Sense of humor","Kindness and compassion","Intelligence","Creativity"],correct:1,explanation:"Sarah's heart overflows with kindness for everyone she meets 💖"},{id:4,question:"What's Sarah's dream for the future?",options:["Travel the world","Build a loving family rooted in faith","Start her own business","Write a book"],correct:1,explanation:"Sarah dreams of a beautiful family built on God's foundation 👨‍👩‍👧‍👦"},{id:5,question:"Sarah's favorite Colour is:",options:["Red","Blue","Purple","black"],correct:1,explanation:"Sarah loves black not because its dark, but because it's bold, refined, protective, empowering, versatile, and expressive - Just like her! 🖤"}],S=K=>{s(K)},V=()=>{if(t===null)return;const K=[..._,t];w(K),t===T[n].correct&&d(u+1),l(!0),setTimeout(()=>{n<T.length-1?(e(n+1),s(null),l(!1)):m(!0)},3e3)},N=()=>{e(0),s(null),l(!1),d(0),m(!1),w([])},L=()=>{const K=u/T.length*100;return K===100?"Perfect! You know Sarah so well! 🎉":K>=80?"Excellent! You really pay attention! 😊":K>=60?"Good job! You know Sarah pretty well! 👍":"Keep getting to know the wonderful Sarah! 💕"};return v.jsx("section",{className:"py-8",id:"quiz",children:v.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"max-w-2xl mx-auto",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-purple-800 text-center mb-8",children:"How Well Do You Know Sarah? 🤔"}),f?v.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:"bg-white rounded-xl shadow-lg p-6 md:p-8 text-center",children:[v.jsx("h3",{className:"text-3xl font-bold text-purple-800 mb-4",children:"Quiz Complete! 🎊"}),v.jsx("div",{className:"text-6xl mb-4",children:u===T.length?"🏆":u>=T.length*.8?"🌟":"👍"}),v.jsxs("p",{className:"text-2xl font-semibold text-gray-800 mb-2",children:["You scored ",u," out of ",T.length]}),v.jsx("p",{className:"text-lg text-purple-600 mb-6",children:L()}),v.jsxs("button",{onClick:N,className:"bg-gradient-to-r from-pink-500 to-purple-500 text-white px-6 py-3 rounded-lg font-semibold hover:from-pink-600 hover:to-purple-600 transition-all duration-200 flex items-center justify-center mx-auto",children:[v.jsx(kI,{className:"h-5 w-5 mr-2"}),"Take Quiz Again"]})]}):v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 md:p-8",children:[v.jsxs("div",{className:"mb-6",children:[v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("span",{className:"text-sm text-purple-600",children:["Question ",n+1," of ",T.length]}),v.jsxs("span",{className:"text-sm text-purple-600",children:["Score: ",u,"/",n+(o?1:0)]})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:v.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-2 rounded-full transition-all duration-300",style:{width:`${(n+(o?1:0))/T.length*100}%`}})})]}),v.jsx(tn,{mode:"wait",children:o?v.jsxs(re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"text-center",children:[t===T[n].correct?v.jsxs("div",{className:"text-green-600",children:[v.jsx(mI,{className:"h-16 w-16 mx-auto mb-4"}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Correct! 🎉"})]}):v.jsxs("div",{className:"text-red-500",children:[v.jsx(NI,{className:"h-16 w-16 mx-auto mb-4"}),v.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Not quite 😊"})]}),v.jsx("p",{className:"text-gray-700 text-lg",children:T[n].explanation})]},`result-${n}`):v.jsxs(re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},children:[v.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-6",children:T[n].question}),v.jsx("div",{className:"space-y-3",children:T[n].options.map((K,G)=>v.jsx("button",{onClick:()=>S(G),className:`w-full p-4 text-left rounded-lg border-2 transition-all duration-200 ${t===G?"border-purple-500 bg-purple-50 text-purple-800":"border-gray-200 hover:border-purple-300 hover:bg-gray-50"}`,children:K},G))}),v.jsx("button",{onClick:V,disabled:t===null,className:`w-full mt-6 py-3 rounded-lg font-semibold transition-all duration-200 ${t!==null?"bg-gradient-to-r from-pink-500 to-purple-500 text-white hover:from-pink-600 hover:to-purple-600":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:n===T.length-1?"Finish Quiz":"Next Question"})]},`question-${n}`)})]})]})})},iV=()=>{const[n,e]=q.useState("all"),[t,s]=q.useState(!0),o=[{id:1,title:"Visit the Holy Land",description:"Walk where Jesus walked, pray at the Western Wall, and experience the land of our faith together 🇮🇱",category:"travel",completed:!1,priority:"high",icon:v.jsx(ul,{className:"h-5 w-5"})},{id:2,title:"Get Married in a Beautiful Church",description:"Exchange vows in God's presence, surrounded by family and friends who love us ⛪",category:"milestone",completed:!1,priority:"high",icon:v.jsx(ot,{className:"h-5 w-5"})},{id:3,title:"Build Our Dream Home",description:"Create a sanctuary where we can raise our family and welcome others with hospitality 🏡",category:"milestone",completed:!1,priority:"high",icon:v.jsx(ot,{className:"h-5 w-5"})},{id:4,title:"Go on a Safari Adventure",description:"Experience God's incredible creation in the African wilderness together 🦁",category:"adventure",completed:!1,priority:"medium",icon:v.jsx(c1,{className:"h-5 w-5"})},{id:5,title:"Learn to Dance Together",description:"Take ballroom dancing lessons and have our first dance be perfect 💃🕺",category:"experience",completed:!1,priority:"medium",icon:v.jsx(ot,{className:"h-5 w-5"})},{id:6,title:"Visit Every Continent",description:"Explore God's beautiful world together, one continent at a time 🌍",category:"travel",completed:!1,priority:"low",icon:v.jsx(PI,{className:"h-5 w-5"})},{id:7,title:"Start a Family",description:"Raise beautiful children in the fear and admonition of the Lord 👶",category:"milestone",completed:!1,priority:"high",icon:v.jsx(ot,{className:"h-5 w-5"})},{id:8,title:"Attend a Christian Concert Together",description:"Worship through music at a live Christian concert or festival 🎵",category:"experience",completed:!1,priority:"medium",icon:v.jsx(ot,{className:"h-5 w-5"})},{id:9,title:"Write Our Love Story",description:"Document our journey together to share with our future children 📖",category:"experience",completed:!1,priority:"medium",icon:v.jsx(ot,{className:"h-5 w-5"})},{id:10,title:"Volunteer Together",description:"Serve others in our community through our local church or charity 🤝",category:"experience",completed:!1,priority:"high",icon:v.jsx(ot,{className:"h-5 w-5"})}],[l,u]=q.useState(o),d=S=>{u(l.map(V=>V.id===S?{...V,completed:!V.completed}:V))},f=l.filter(S=>!(n!=="all"&&S.category!==n||!t&&S.completed)),m=S=>{switch(S){case"travel":return"bg-blue-100 text-blue-800";case"experience":return"bg-green-100 text-green-800";case"milestone":return"bg-purple-100 text-purple-800";case"adventure":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},_=S=>{switch(S){case"high":return"border-l-red-500";case"medium":return"border-l-yellow-500";case"low":return"border-l-green-500";default:return"border-l-gray-500"}},w=l.filter(S=>S.completed).length,T=l.length;return v.jsx("section",{className:"py-8",id:"bucket-list",children:v.jsxs(re.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-purple-800 mb-4",children:"Our Bucket List Together 💕"}),v.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"Dreams we want to chase and memories we want to make, hand in hand"}),v.jsxs("div",{className:"max-w-md mx-auto mb-6",children:[v.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:[v.jsx("span",{children:"Progress"}),v.jsxs("span",{children:[w,"/",T," completed"]})]}),v.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:v.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-purple-500 h-3 rounded-full transition-all duration-300",style:{width:`${w/T*100}%`}})})]})]}),v.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:["all","travel","experience","milestone","adventure"].map(S=>v.jsx("button",{onClick:()=>e(S),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${n===S?"bg-purple-600 text-white":"bg-white text-purple-600 border border-purple-200 hover:bg-purple-50"}`,children:S.charAt(0).toUpperCase()+S.slice(1)},S))}),v.jsx("div",{className:"flex justify-center mb-6",children:v.jsxs("label",{className:"flex items-center space-x-2 text-gray-600",children:[v.jsx("input",{type:"checkbox",checked:t,onChange:S=>s(S.target.checked),className:"rounded text-purple-600"}),v.jsx("span",{children:"Show completed items"})]})}),v.jsx("div",{className:"grid gap-4 md:gap-6",children:f.map((S,V)=>v.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.1,duration:.5},className:`bg-white rounded-lg shadow-md p-6 border-l-4 ${_(S.priority)} ${S.completed?"opacity-75":""}`,children:v.jsxs("div",{className:"flex items-start space-x-4",children:[v.jsx("button",{onClick:()=>d(S.id),className:`mt-1 transition-colors duration-200 ${S.completed?"text-green-600":"text-gray-400 hover:text-purple-600"}`,children:S.completed?v.jsx(pI,{className:"h-6 w-6"}):v.jsx(vI,{className:"h-6 w-6"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[S.icon,v.jsx("h3",{className:`text-lg font-semibold ${S.completed?"line-through text-gray-500":"text-gray-800"}`,children:S.title}),v.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${m(S.category)}`,children:S.category})]}),v.jsx("p",{className:`text-gray-600 ${S.completed?"line-through":""}`,children:S.description}),v.jsx("div",{className:"mt-2 flex items-center space-x-2",children:v.jsxs("span",{className:`px-2 py-1 rounded text-xs ${S.priority==="high"?"bg-red-100 text-red-800":S.priority==="medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:[S.priority," priority"]})})]})]})},S.id))}),f.length===0&&v.jsx("div",{className:"text-center py-12",children:v.jsx("p",{className:"text-gray-500 text-lg",children:"No items match your current filters."})})]})})},oV=()=>{const[n,e]=q.useState([]),[t,s]=q.useState({name:"",message:""}),[o,l]=q.useState(!1),[u,d]=q.useState(!1);q.useEffect(()=>{const _=Fo(Bo,"guestbook_messages"),w=Kp(_,Jp("timestamp","desc")),T=gx(w,S=>{const V=S.docs.map(N=>{var L;return{id:N.id,name:N.data().name,message:N.data().message,timestamp:(L=N.data().timestamp)==null?void 0:L.toDate()}});e(V)});return()=>T()},[]);const f=async _=>{if(_.preventDefault(),localStorage.removeItem("sarahBirthdayMessages"),!t.name.trim()||!t.message.trim())return;l(!0);const w={name:t.name.trim(),message:t.message.trim(),timestamp:yx()},T=Fo(Bo,"guestbook_messages");await em(T,w),s({name:"",message:""}),l(!1),d(!1),setTimeout(()=>{},500)},m=_=>!(_ instanceof Date)||isNaN(_.getTime())?"Invalid Date":new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(_);return v.jsx("section",{className:"py-16",id:"guestbook",children:v.jsxs(re.div,{initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:[v.jsxs("div",{className:"text-center mb-12",children:[v.jsx("h2",{className:"text-3xl md:text-4xl font-serif font-bold text-purple-800 mb-4",children:"Birthday Guest Book"}),v.jsx("p",{className:"text-lg text-gray-700 max-w-2xl mx-auto",children:"Leave a special birthday message for Sarah! Your words will make her day even more memorable."})]}),v.jsx("div",{className:"text-center mb-8",children:v.jsxs(re.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>d(!u),className:"bg-gradient-to-r from-pink-500 to-purple-600 text-white px-8 py-3 rounded-full text-lg font-semibold shadow-lg inline-flex items-center",children:[v.jsx(ot,{className:"mr-2 h-5 w-5"}),u?"Cancel":"Sign the Guest Book"]})}),v.jsx(tn,{children:u&&v.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-12",children:v.jsx("div",{className:"bg-white p-6 md:p-8 rounded-xl shadow-lg border border-pink-200 max-w-2xl mx-auto",children:v.jsxs("form",{onSubmit:f,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name"}),v.jsx("input",{type:"text",id:"name",value:t.name,onChange:_=>s(w=>({...w,name:_.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your name",required:!0,maxLength:50})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-2",children:"Birthday Message"}),v.jsx("textarea",{id:"message",rows:4,value:t.message,onChange:_=>s(w=>({...w,message:_.target.value})),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent resize-none",placeholder:"Write your birthday message for Sarah...",required:!0,maxLength:500}),v.jsxs("div",{className:"text-right text-sm text-gray-500 mt-1",children:[t.message.length,"/500"]})]}),v.jsxs("button",{type:"submit",disabled:o||!t.name.trim()||!t.message.trim(),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-3 px-6 rounded-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:from-pink-600 hover:to-purple-700 transition-all duration-300 flex items-center justify-center",children:[o?v.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}):v.jsx(h1,{className:"mr-2 h-5 w-5"}),o?"Sending...":"Send Message"]})]})})})}),v.jsx("div",{className:"space-y-6",children:n.length===0?v.jsxs("div",{className:"text-center py-12",children:[v.jsx(II,{className:"h-16 w-16 mx-auto text-gray-400 mb-4"}),v.jsx("p",{className:"text-gray-500 text-lg",children:"Be the first to sign Sarah's birthday guest book!"})]}):v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"text-center mb-8",children:v.jsxs("h3",{className:"text-2xl font-serif font-semibold text-purple-800",children:["Birthday Messages (",n.length,")"]})}),v.jsx("div",{className:"grid gap-6 md:grid-cols-2",children:v.jsx(tn,{children:n.map((_,w)=>v.jsx(re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:w*.1},className:"bg-white p-6 rounded-xl shadow-md border border-pink-100 hover:shadow-lg transition-shadow duration-300",children:v.jsxs("div",{className:"flex items-start space-x-3",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-pink-400 to-purple-500 rounded-full flex items-center justify-center",children:v.jsx(f1,{className:"h-5 w-5 text-white"})})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h4",{className:"text-lg font-semibold text-gray-900 truncate",children:_.name}),v.jsx("span",{className:"text-sm text-gray-500 flex-shrink-0",children:m(_.timestamp)})]}),v.jsx("p",{className:"text-gray-700 leading-relaxed",children:_.message}),v.jsxs("div",{className:"mt-3 flex items-center text-pink-500",children:[v.jsx(ot,{className:"h-4 w-4 mr-1",fill:"currentColor"}),v.jsx("span",{className:"text-sm",children:"Birthday wishes"})]})]})]})},_.id))})})]})})]})})},aV=({targetDate:n,onCountdownComplete:e})=>{const[t,s]=q.useState({days:0,hours:0,minutes:0,seconds:0}),[o,l]=q.useState(!1);q.useEffect(()=>{const d=()=>{const m=new Date(n+"T00:00:00").getTime(),_=new Date().getTime(),w=m-_;if(w>0){const T=Math.floor(w/864e5),S=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),V=Math.floor(w%(1e3*60*60)/(1e3*60)),N=Math.floor(w%(1e3*60)/1e3);s({days:T,hours:S,minutes:V,seconds:N})}else s({days:0,hours:0,minutes:0,seconds:0}),o||(l(!0),setTimeout(e,3e3))};d();const f=setInterval(d,1e3);return()=>clearInterval(f)},[n,e,o]);const u=()=>v.jsx("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[...Array(20)].map((d,f)=>v.jsx(re.div,{className:"absolute",initial:{x:Math.random()*(typeof window<"u"?window.innerWidth:1e3),y:(typeof window<"u"?window.innerHeight:800)+50,rotate:0,scale:.5+Math.random()*.5},animate:{y:-50,rotate:360,scale:.8+Math.random()*.4},transition:{duration:8+Math.random()*4,repeat:1/0,delay:Math.random()*5,ease:"linear"},children:f%3===0?v.jsx(ot,{className:"w-4 h-4 sm:w-6 sm:h-6 text-pink-400",fill:"currentColor"}):f%3===1?v.jsx(_c,{className:"w-4 h-4 sm:w-6 sm:h-6 text-purple-400"}):v.jsx(d1,{className:"w-4 h-4 sm:w-6 sm:h-6 text-yellow-400"})},f))});return o?v.jsx(re.div,{className:"fixed inset-0 bg-gradient-to-br from-pink-500 via-purple-500 to-indigo-600 z-50 overflow-y-auto",initial:{opacity:1},exit:{opacity:0,scale:.8},transition:{duration:1},children:v.jsxs("div",{className:"min-h-full flex items-center justify-center p-4",children:[v.jsx(u,{}),v.jsxs(re.div,{className:"text-center text-white",initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:1,type:"spring",bounce:.6},children:[v.jsx(re.div,{animate:{rotate:[0,10,-10,0],scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:v.jsx(_c,{className:"w-16 h-16 sm:w-20 sm:h-20 md:w-24 md:h-24 mx-auto mb-4 sm:mb-8 text-yellow-300"})}),v.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-8xl font-bold mb-2 sm:mb-4",children:"🎉 IT'S TIME! 🎉"}),v.jsx("p",{className:"text-xl sm:text-2xl md:text-3xl",children:"Happy Birthday, Sarah! 🎂"})]})]})}):v.jsx(re.div,{className:"fixed inset-0 bg-gradient-to-br from-pink-100 via-purple-100 to-indigo-200 z-50 overflow-y-auto",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:v.jsxs("div",{className:"min-h-full flex items-center justify-center py-4 px-4",children:[v.jsx(u,{}),v.jsxs("div",{className:"text-center w-full max-w-6xl",children:[v.jsx(re.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,duration:.8},children:v.jsx(ot,{className:"w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20 mx-auto text-red-500 mb-4 sm:mb-6 md:mb-8",fill:"currentColor"})}),v.jsx(re.h1,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-serif font-bold text-purple-800 mb-2 sm:mb-4",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.7,duration:.8},children:"Sarah's Birthday Countdown"}),v.jsx(re.p,{className:"text-lg sm:text-xl md:text-2xl text-purple-600 mb-6 sm:mb-8 md:mb-12 max-w-2xl mx-auto px-4",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:.9,duration:.8},children:"The most special day is almost here! ✨"}),v.jsx(re.div,{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4 md:gap-6 max-w-4xl mx-auto mb-6 sm:mb-8 md:mb-12",initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.1,duration:.8},children:[{label:"Days",value:t.days},{label:"Hours",value:t.hours},{label:"Minutes",value:t.minutes},{label:"Seconds",value:t.seconds}].map((d,f)=>v.jsxs(re.div,{className:"bg-white/80 backdrop-blur-sm rounded-2xl sm:rounded-3xl p-3 sm:p-4 md:p-6 shadow-xl border border-pink-200",whileHover:{scale:1.05},initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1.3+f*.1,duration:.5},children:[v.jsx(re.div,{className:"text-2xl sm:text-3xl md:text-4xl lg:text-6xl font-bold text-purple-800 mb-1 sm:mb-2",initial:{scale:1.2},animate:{scale:1},transition:{duration:.3},children:d.value.toString().padStart(2,"0")},d.value),v.jsx("div",{className:"text-sm sm:text-base md:text-lg text-purple-600 font-medium",children:d.label})]},d.label))}),v.jsx(re.button,{className:"px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-pink-500 to-purple-500 text-white rounded-full font-semibold text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{y:30,opacity:0},animate:{y:0,opacity:1},transition:{delay:1.8,duration:.8},onClick:e,children:"Enter Early (Skip Countdown)"})]})]})})},lV=({tabs:n,activeTab:e,setActiveTab:t})=>v.jsx("div",{className:"sticky top-4 z-20 mb-8",children:v.jsx("div",{className:"flex justify-center px-2",children:v.jsx("div",{className:"inline-flex flex-wrap justify-center gap-1 md:gap-2 p-2 bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-pink-100 max-w-full",children:n.map((s,o)=>v.jsxs(re.button,{onClick:()=>t(s.label),className:`relative px-3 md:px-4 py-2 md:py-3 rounded-xl text-xs md:text-sm font-medium transition-all duration-300 flex-shrink-0 min-w-0 ${e===s.label?"text-white shadow-md":"text-gray-600 hover:text-purple-600 hover:bg-purple-50"}`,whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:o*.1},children:[e===s.label&&v.jsx(re.div,{className:"absolute inset-0 bg-gradient-to-r from-pink-500 to-purple-500 rounded-xl",layoutId:"activeTab",transition:{type:"spring",bounce:.2,duration:.6}}),v.jsx("span",{className:"relative z-10 truncate",children:s.label})]},s.label))})})}),uV=({children:n,password:e,title:t="This section is special",hint:s})=>{const[o,l]=q.useState(""),[u,d]=q.useState(!1),[f,m]=q.useState(!1),[_,w]=q.useState(!1),[T,S]=q.useState(0),V=L=>{L.preventDefault(),o.toLowerCase().trim()===e.toLowerCase().trim()?(d(!0),w(!1)):(w(!0),S(K=>K+1),l(""),setTimeout(()=>w(!1),600))},N=()=>T===0?s:T===1?"Think about our special moments together... 💕":T===2?"Remember what you always tell me? 🥰":T>=3?"It's something you say every day... ❤️":s;return u?v.jsx(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:n}):v.jsx("div",{className:"min-h-[60vh] flex items-center justify-center p-4",children:v.jsxs(re.div,{className:"max-w-md w-full bg-white/80 backdrop-blur-sm rounded-3xl shadow-2xl border border-pink-200 p-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0,scale:_?[1,1.02,.98,1]:1},transition:{duration:.5},children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx(re.div,{animate:{rotate:_?[0,-10,10,-5,5,0]:0,scale:_?[1,1.1,1]:1},transition:{duration:.6},className:"inline-block",children:v.jsxs("div",{className:"relative",children:[v.jsx(SI,{className:"w-16 h-16 mx-auto text-pink-500 mb-4"}),v.jsx(re.div,{className:"absolute -top-2 -right-2",animate:{scale:[1,1.2,1]},transition:{duration:2,repeat:1/0},children:v.jsx(ot,{className:"w-6 h-6 text-red-500",fill:"currentColor"})})]})}),v.jsx("h2",{className:"text-2xl font-bold text-purple-800 mb-2",children:t}),v.jsx("p",{className:"text-purple-600",children:"Enter the password to unlock these love notes"})]}),v.jsxs("form",{onSubmit:V,className:"space-y-6",children:[v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:f?"text":"password",value:o,onChange:L=>l(L.target.value),placeholder:"Enter password...",className:`w-full px-4 py-3 rounded-xl border-2 bg-white/50 backdrop-blur-sm transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-pink-300 ${_?"border-red-400 focus:border-red-500":"border-pink-200 focus:border-pink-400"}`,autoFocus:!0}),v.jsx("button",{type:"button",onClick:()=>m(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-purple-400 hover:text-purple-600 transition-colors",children:f?v.jsx(wI,{className:"w-5 h-5"}):v.jsx(xI,{className:"w-5 h-5"})})]}),v.jsx(tn,{children:(s||T>0)&&v.jsx(re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-pink-50 border border-pink-200 rounded-xl p-4 text-center",children:v.jsxs("p",{className:"text-sm text-purple-600",children:["💡 ",v.jsx("strong",{children:"Hint:"})," ",N()]})})}),v.jsx(tn,{children:_&&v.jsx(re.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:v.jsx("p",{className:"text-sm text-red-600",children:"❌ Incorrect password. Try again!"})})}),v.jsx(re.button,{type:"submit",className:"w-full bg-gradient-to-r from-pink-500 to-purple-500 text-white py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50",whileHover:{scale:1.02},whileTap:{scale:.98},disabled:!o.trim(),children:"Unlock Love Notes 💕"})]}),T>=2&&v.jsx(re.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 text-center",children:v.jsx("p",{className:"text-xs text-purple-500",children:"Having trouble? Think about what makes our love special... 💖"})})]})})};function cV(){var T;const[n,e]=q.useState(!1),[t,s]=q.useState("Home"),[o,l]=q.useState(!1),u="2025-05-27",d="MyWife",f=()=>{e(!0)},m=()=>{l(!0)},_=[{label:"Home",content:v.jsxs("div",{className:"space-y-16",children:[v.jsx(bI,{}),v.jsx(jI,{})]})},{label:"Photos",content:v.jsxs("div",{className:"space-y-16",children:[v.jsx(VI,{}),v.jsx(HI,{})]})},{label:"Places",content:v.jsxs("div",{className:"space-y-16",children:[v.jsx(DN,{}),v.jsx(iV,{})]})},{label:"Love",content:v.jsx(uV,{password:d,title:"Just for your eyes!",hint:"Hint: It's something I wish For Daily... 💕",children:v.jsxs("div",{className:"space-y-16",children:[v.jsx(DI,{}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[v.jsx(ON,{}),v.jsx(Zb,{})]})]})})},{label:"Fun",content:v.jsxs("div",{className:"space-y-16",children:[v.jsx(rV,{}),v.jsx(sV,{})]})},{label:"Guest",content:v.jsx("div",{className:"space-y-16",children:v.jsxs("div",{className:"grid md:grid-cols-2 gap-8 items-start justify-items-stretch",children:[v.jsx("div",{className:"flex flex-col h-full",children:v.jsx(oV,{})}),v.jsx("div",{className:"flex flex-col h-full",children:v.jsx(bN,{})})]})})},{label:"Gift",content:v.jsx("div",{className:"space-y-16",children:v.jsx(MI,{onOpenGift:f,isOpen:n})})}],w=(T=_.find(S=>S.label===t))==null?void 0:T.content;return v.jsx(tn,{mode:"wait",children:o?v.jsxs(re.div,{className:"min-h-screen bg-gradient-to-b from-pink-50 to-purple-50 relative overflow-hidden",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:1},children:[v.jsx(zI,{}),v.jsx(BI,{}),v.jsx(jN,{}),v.jsxs(re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},className:"container mx-auto px-4 py-8",children:[v.jsx(re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8},className:"mb-8",children:v.jsx(lV,{tabs:_,activeTab:t,setActiveTab:s})}),v.jsx(re.main,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:w},t),v.jsx(OI,{})]})]},"main-site"):v.jsx(aV,{targetDate:u,onCountdownComplete:m},"countdown")})}var hV="firebase",dV="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(hV,dV,"app");const fV={apiKey:"AIzaSyD7UBD3VXxM8yNv7k1gTS6EE_ysYzk7HYg",authDomain:"smartflow-8ff0f.firebaseapp.com",projectId:"smartflow-8ff0f",storageBucket:"smartflow-8ff0f.firebasestorage.app",messagingSenderId:"1091974674117",appId:"1:1091974674117:web:2c2345e85b22014940a2ac",measurementId:"G-79TNK9PMEQ"},jx=R1(fV),Bo=mN(jx),pV=Qb(jx);KT.createRoot(document.getElementById("root")).render(v.jsx(Dc.StrictMode,{children:v.jsx(cV,{})}));
